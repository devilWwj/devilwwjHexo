<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[IT_xiao小巫]]></title>
  <subtitle><![CDATA[在浮躁的世界安安静静敲代码]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://www.devilwwj.com/"/>
  <updated>2015-08-23T13:55:39.000Z</updated>
  <id>http://www.devilwwj.com/</id>
  
  <author>
    <name><![CDATA[devilwwj]]></name>
    <email><![CDATA[659982592@qq.com]]></email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[A009-layout资源]]></title>
    <link href="http://www.devilwwj.com/2015/08/23/A009-layout%E8%B5%84%E6%BA%90/"/>
    <id>http://www.devilwwj.com/2015/08/23/A009-layout资源/</id>
    <published>2015-08-23T13:51:52.000Z</published>
    <updated>2015-08-23T13:55:39.000Z</updated>
    <content type="html"><![CDATA[<p>本节课继续讲Android中的资源文件-layout资源，一个界面的诞生离不开布局，我们Android开发者的大部分工作都是在搭建UI，一个产品的诞生，首先是由产品经理出线框图，再由设计师出视觉稿和标注图，然后我们开发人员才会根据标注图来搭建界面。本节课就来给大家简单介绍一下我们要用到的布局资源，先来看AS中布局资源长什么样子，如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20150823201233940" alt="layout资源"></p>
<p>图中的layout文件夹存放的就是我们程序中的布局文件，我们每搭一个界面都需要在layout文件夹下创建相应的xml文件，然后在程序中通过以下方式引用：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>我们在Activity中通过setContentView的方法，把我们的界面显示出来。<br>除了这种方式，我们实际开发中可能需要动态的加载布局文件，需要通过LayoutInflater这个类来找到相应的布局文件，它就类似Activity中的findViewById的作用，只不过findViewById查找的是当前页面的控件，而LayoutInflater是加载布局文件中的布局文件。</p>
<p>获取LayoutInflater实例有三种形式：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> LayoutInflater inflater = getLayoutInflater();<span class="comment">//调用Activity的getLayoutInflater() </span></span><br><span class="line"><span class="number">2.</span> LayoutInflater inflater = LayoutInflater.from(context);  </span><br><span class="line"><span class="number">3.</span> LayoutInflater inflater =  (LayoutInflater)context.getSystemService                           (Context.LAYOUT_INFLATER_SERVICE);</span><br></pre></td></tr></table></figure></p>
<p>获取到LayoutInflater实例对象之后，调用其inflate方法来动态加载布局。<br>我们用得比较多的是以下两个方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> View <span class="title">inflate</span> <span class="params">(<span class="keyword">int</span> resource, ViewGroup root)</span> </span><br><span class="line"><span class="keyword">public</span> View <span class="title">inflate</span> <span class="params">(<span class="keyword">int</span> resource, ViewGroup root, <span class="keyword">boolean</span> attachToRoot)</span></span></span><br></pre></td></tr></table></figure></p>
<p>eg:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">LayoutInflater inflater = LayoutInflater.from(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">LinearLayout view = (LinearLayout) inflater.inflate(R.layout.layout_inflate, <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>
<p>通过以上这种方式就可以把layout下的xml文件动态加载出来。</p>
<p>这里留一个思考题给大家思考一下，上面inflate的两种加载方法，之间的区别是什么？<br>这个问题刚开始接触可能不能理解它们之间的区别，只有应用在特定的场景才会意识到它们的区别，比如我们使用ListView的时候，需要加载item布局，使用上面两种重载方式，并设置不同的参数都会有不同的效果<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inflater.inflate(R.layout.list_item, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">inflater.inflate(R.layout.list_item, parent, <span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">inflater.inflate(R.layout.list_item, parent, <span class="keyword">true</span>);</span><br></pre></td></tr></table></figure></p>
<p>这个疑问我们先放着，等我们讲到ListView的时候再来讲这个问题，童鞋可以先想一想，自己百度一下，看是否能找到答案。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>本节课继续讲Android中的资源文件-layout资源，一个界面的诞生离不开布局，我们Android开发者的大部分工作都是在搭建UI，一个产品的诞生，首先是由产品经理出线框图，再由设计师出视觉稿和标注图，然后我们开发人员才会根据标注图来搭建界面。本节课就来给大家简单介绍一]]>
    </summary>
    
      <category term="Android" scheme="http://www.devilwwj.com/tags/Android/"/>
    
      <category term="Android" scheme="http://www.devilwwj.com/categories/Android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[A008-drawable资源]]></title>
    <link href="http://www.devilwwj.com/2015/08/23/A008-drawable%E8%B5%84%E6%BA%90/"/>
    <id>http://www.devilwwj.com/2015/08/23/A008-drawable资源/</id>
    <published>2015-08-23T13:51:40.000Z</published>
    <updated>2015-08-23T13:55:16.000Z</updated>
    <content type="html"><![CDATA[<p>关于drawable资源笔者之前有写过两篇文章：<br><a href="http://blog.csdn.net/wwj_748/article/details/24619491" target="_blank" rel="external">Android-自定义图像资源的使用（1）</a><br><a href="http://blog.csdn.net/wwj_748/article/details/24698471" target="_blank" rel="external">Android-自定义图像资源的使用（2）</a><br>这里笔者就不做过多的赘述，我们从实际开发的角度去理解这个知识点，如果单纯的只是学习知识点的使用是没有意义，我们要根据不同的需求和使用场景才能更好的把我们所学到的知识点运用在上面。要明确我们学习的目的就是为了应用，没有应用那么我们就只是在白费功夫，没有任何价值。</p>
<p>我们可以从上面两篇文章可以知道，在Android中这些类型的图像资源供我们使用：</p>
<ul>
<li>普通图像资源 </li>
<li>XML图像资源 </li>
<li>Nine-patch图像资源 </li>
<li>XML Nine-patch图像资源  </li>
<li>图层（Layer）图像资源</li>
<li>图像状态（state）资源 </li>
<li>图像级别（Level）资源  </li>
<li>淡入淡出（transition）资源  </li>
<li>嵌入（Inset)图像资源</li>
<li>剪切（Clip）图像资源  </li>
<li>外形（Shape）图像资源</li>
</ul>
<p>在我们的官网有针对不同的资源有更加详细的介绍，这里我主要提一下我们用的比较多的几种资源，从普通的图像资源就只是我们的一张图片，我们可以通过imageView.setImageResource(R.id.xxx);方法来把它设置进去，然后是我们的.9图片，我们需要使用SDK提供的draw9patch工具来制作.9图片，然后当做普通的图像资源来使用。图像状态资源，我们最熟悉的就是selector了，比如我们按钮需要有多种状态（包括聚焦focused、按下press、普通状态normal等等），来给用户一个反馈。<br>还有我们在实际开发用得最多的是Shape资源，我们通常需要自定义一个Shape资源，包括椭圆oval、直线line、圆形ring；比如我们给按钮EditText加个边框，给标题栏加个渐变的颜色等都是使用我们的Shape资源，更多的实现需要根据设计需求来去实现。</p>
<p>本节课的内容基本上这么多，如果各位有疑问的话，可以加入我的群299402133，或者直接在本文留言，我看到会及时给各位解答。</p>
<hr>
<p>本套课程属于AS重制版课程，大家也可以到以下网址查看配套的视频教程。<br><a href="http://www.hanghangq.com/train/lesson_detail.php?lid=213" target="_blank" rel="external">Android入门课程AS重制版</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>关于drawable资源笔者之前有写过两篇文章：<br><a href="http://blog.csdn.net/wwj_748/article/details/24619491" target="_blank" rel="external">Android-自定义图像资]]>
    </summary>
    
  </entry>
  
  <entry>
    <title><![CDATA[A007-Assets资源]]></title>
    <link href="http://www.devilwwj.com/2015/08/23/A007-Assets%E8%B5%84%E6%BA%90/"/>
    <id>http://www.devilwwj.com/2015/08/23/A007-Assets资源/</id>
    <published>2015-08-23T13:51:27.000Z</published>
    <updated>2015-08-23T13:54:57.000Z</updated>
    <content type="html"><![CDATA[<p>本节课开始讲Android中所用到的一些资源，首先来讲assets资源，它是Android的其中一种资源，跟raw和drawable资源有点不同，我们获取这个目录下的文件需要指定文件的路径，它里面的文件不会映射到R.java文件中，而res目录下的资源文件时会自动映射到R.java中，我们打包成apk的时候，assets目录下的文件不会被编译成二进制文件，而是直接打包到apk文件中。我们可以打包项目成apk，然后更改它的后缀名为.zip，再进行解压，可以看到assets目录的文件。</p>
<p>上面是对assset资源的一些介绍，我们实际开发中如何获取assets目录下的资源呢：</p>
<ol>
<li>获取文件输入流<br>Context.getAssets().open(“filename”)</li>
<li>assets资源的绝对路径<br>  file:///android_asset/文件名</li>
</ol>
<p>比如在assets目录下有个test.txt文件，可以通过下面这种方式获取：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assetsText.setText(getFromAssets(<span class="string">"test.txt"</span>));</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">getFromAssets</span><span class="params">(String filename)</span> </span>&#123;</span><br><span class="line">       String result = <span class="string">""</span>;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           InputStream in = getResources().getAssets().open(filename);</span><br><span class="line">           <span class="keyword">int</span> length = in.available();</span><br><span class="line">           </span><br><span class="line">           <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[length];</span><br><span class="line">           </span><br><span class="line">           in.read(buffer);</span><br><span class="line">           </span><br><span class="line">           result = EncodingUtils.getString(buffer, <span class="string">"UTF-8"</span>);</span><br><span class="line">           </span><br><span class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>思考：这里需要大家去区分Android的一些资源，像assets这种资源是不会被编译成字节码，然而像raw、drawable资源是Android指定的资源，可以通过R.xxx.filename来进行引用，如果在res自定义一个目录是不可以通过这种方式获取资源，引用的话会R.xxx.xxx cannot be resolved” 的错误。</p>
<p>这里补充一点就是，我们使用AS开发不会默认给我们创建assets目录，需要我们按一下方法去创建目录：<br><img src="http://img.blog.csdn.net/20150814172952551" alt="assets目录"></p>
<p>然后我们创建的项目有个.iml的配置文件，会有相应的配置，大家下去可以研究一下<br><img src="http://img.blog.csdn.net/20150814173151225" alt="iml配置文件"></p>
<p><img src="http://img.blog.csdn.net/20150814173315700" alt="/src/main/assets"></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>本节课开始讲Android中所用到的一些资源，首先来讲assets资源，它是Android的其中一种资源，跟raw和drawable资源有点不同，我们获取这个目录下的文件需要指定文件的路径，它里面的文件不会映射到R.java文件中，而res目录下的资源文件时会自动映射到R.]]>
    </summary>
    
      <category term="Android" scheme="http://www.devilwwj.com/tags/Android/"/>
    
      <category term="Android" scheme="http://www.devilwwj.com/categories/Android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[A006-AndroidManifest.xml]]></title>
    <link href="http://www.devilwwj.com/2015/08/23/A006-AndroidManifest-xml/"/>
    <id>http://www.devilwwj.com/2015/08/23/A006-AndroidManifest-xml/</id>
    <published>2015-08-23T13:50:48.000Z</published>
    <updated>2015-08-23T13:54:23.000Z</updated>
    <content type="html"><![CDATA[<p>AndroidManifest.xml这个文件在Android中很重要，包含了应用程序的所有配置，包含SDK版本、应用权限、四大组件、扩展数据等等，它包含很多标签，每个标签都有具体的作用，标签下都会有不同的属性，也有通用的属性，不同的属性可能会影响我们应用程序的效果，所以我们详细了解具体标签的具体属性的使用场景是非常必要的，下面笔者会以做过的一个项目的完整配置来给大家系统介绍一下这个文件的使用方法。</p>
<h1 id="AndroidManifest-xml配置例子">AndroidManifest.xml配置例子</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">manifest</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attribute">package</span>=<span class="value">"com.infzm.o2o"</span></span><br><span class="line">    <span class="attribute">android:versionCode</span>=<span class="value">"1"</span></span><br><span class="line">    <span class="attribute">android:versionName</span>=<span class="value">"1.0.2"</span> &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-sdk</span></span><br><span class="line">        <span class="attribute">android:minSdkVersion</span>=<span class="value">"14"</span></span><br><span class="line">        <span class="attribute">android:targetSdkVersion</span>=<span class="value">"19"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.INTERNET"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.WRITE_EXTERNAL_STORAGE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_NETWORK_STATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.MOUNT_UNMOUNT_FILESYSTEMS"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_WIFI_STATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.READ_PHONE_STATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.READ_LOGS"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"com.android.vending.CHECK_LICENSE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.WAKE_LOCK"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.VIBRATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.WRITE_SETTINGS"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.CALL_PHONE"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 极光推送需要配置的权限 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">permission</span></span><br><span class="line">        <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.permission.JPUSH_MESSAGE"</span></span><br><span class="line">        <span class="attribute">android:protectionLevel</span>=<span class="value">"signature"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Required  一些系统要求的权限，如访问网络等 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.permission.JPUSH_MESSAGE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.RECEIVE_USER_PRESENT"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.INTERNET"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.WAKE_LOCK"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.READ_PHONE_STATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.WRITE_EXTERNAL_STORAGE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.READ_EXTERNAL_STORAGE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.WRITE_SETTINGS"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.VIBRATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.MOUNT_UNMOUNT_FILESYSTEMS"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_NETWORK_STATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.SYSTEM_ALERT_WINDOW"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Optional for location --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_COARSE_LOCATION"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_WIFI_STATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.CHANGE_WIFI_STATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_FINE_LOCATION"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_LOCATION_EXTRA_COMMANDS"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.CHANGE_NETWORK_STATE"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 极光推送权限配置end --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 友盟升级权限配置start --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_NETWORK_STATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_WIFI_STATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.READ_PHONE_STATE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_COARSE_LOCATION"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.ACCESS_FINE_LOCATION"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.WRITE_EXTERNAL_STORAGE"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.INTERNET"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.READ_LOGS"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.CALL_PHONE"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Permission for Unit Test --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.GET_TASKS"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 友盟升级权限配置end --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">application</span></span><br><span class="line">        <span class="attribute">android:name</span>=<span class="value">".global.O2OApplication"</span></span><br><span class="line">        <span class="attribute">android:allowBackup</span>=<span class="value">"true"</span></span><br><span class="line">        <span class="attribute">android:icon</span>=<span class="value">"@drawable/ic_launcher"</span></span><br><span class="line">        <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">        <span class="attribute">android:theme</span>=<span class="value">"@style/AppTheme"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.SplashActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span></span><br><span class="line">            <span class="attribute">android:theme</span>=<span class="value">"@android:style/Theme.NoTitleBar.Fullscreen"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.MAIN"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.LAUNCHER"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.MainActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span></span><br><span class="line">            <span class="attribute">android:uiOptions</span>=<span class="value">""</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">meta-data</span></span><br><span class="line">                <span class="attribute">android:name</span>=<span class="value">"android.support.UI_OPTIONS"</span></span><br><span class="line">                <span class="attribute">android:value</span>=<span class="value">"splitActionBarWhenNarrow"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.SettingsFeedback"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.BrowserActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.AboutUsActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.MoreSettingActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.SignUpActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.LoginAcivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.AddressActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span></span><br><span class="line">            <span class="attribute">android:windowSoftInputMode</span>=<span class="value">"adjustPan|stateHidden"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.CameristInfoActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.ThemeInfolActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.SettingActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.ReserveActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span></span><br><span class="line">            <span class="attribute">android:windowSoftInputMode</span>=<span class="value">"adjustPan|stateHidden"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.OrderReserveActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.OrderCheckActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.PictureActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span></span><br><span class="line">            <span class="attribute">android:theme</span>=<span class="value">"@style/PicShowTheme"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.OrderDetailActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.ForgetpasswordActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.MyFavoritesActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.WelcomeGuideActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> </span><br><span class="line">            <span class="attribute">android:theme</span>=<span class="value">"@android:style/Theme.Black.NoTitleBar.Fullscreen"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.ClipImageViewActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.MeActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.OnlineSelectPic"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.ImagePagerActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span></span><br><span class="line">            <span class="attribute">android:theme</span>=<span class="value">"@android:style/Theme.Black.NoTitleBar.Fullscreen"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.CalendarViewActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.MessageActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.CameristCommentActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.PayActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span></span><br><span class="line">            <span class="attribute">android:windowSoftInputMode</span>=<span class="value">"adjustPan|stateVisible"</span></span><br><span class="line">            &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.activity.MessageDetailActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span></span><br><span class="line">            &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 极光推送配置 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Required SDK核心功能 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.ui.PushActivity"</span></span><br><span class="line">            <span class="attribute">android:configChanges</span>=<span class="value">"orientation|keyboardHidden"</span></span><br><span class="line">            <span class="attribute">android:theme</span>=<span class="value">"@android:style/Theme.Translucent.NoTitleBar"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.ui.PushActivity"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Required  SDK核心功能 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">service</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.service.DownloadService"</span></span><br><span class="line">            <span class="attribute">android:enabled</span>=<span class="value">"true"</span></span><br><span class="line">            <span class="attribute">android:exported</span>=<span class="value">"false"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">service</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Required SDK 核心功能 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">service</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.service.PushService"</span></span><br><span class="line">            <span class="attribute">android:enabled</span>=<span class="value">"true"</span></span><br><span class="line">            <span class="attribute">android:exported</span>=<span class="value">"false"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.REGISTER"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.REPORT"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.PushService"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.PUSH_TIME"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">service</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Required SDK核心功能 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">receiver</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.service.PushReceiver"</span></span><br><span class="line">            <span class="attribute">android:enabled</span>=<span class="value">"true"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span> <span class="attribute">android:priority</span>=<span class="value">"1000"</span> &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.NOTIFICATION_RECEIVED_PROXY"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- Required  显示通知栏 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.USER_PRESENT"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.net.conn.CONNECTIVITY_CHANGE"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- Optional --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.PACKAGE_ADDED"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.PACKAGE_REMOVED"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="title">data</span> <span class="attribute">android:scheme</span>=<span class="value">"package"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">receiver</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Required SDK核心功能 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">receiver</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.service.AlarmReceiver"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- User defined.  For test only  用户自定义的广播接收器 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">receiver</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o.receiver.MyReceiver"</span></span><br><span class="line">            <span class="attribute">android:enabled</span>=<span class="value">"true"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.REGISTRATION"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- Required  用户注册SDK的intent --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.UNREGISTRATION"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.MESSAGE_RECEIVED"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- Required  用户接收SDK消息的intent --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.NOTIFICATION_RECEIVED"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- Required  用户接收SDK通知栏信息的intent --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.NOTIFICATION_OPENED"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- Required  用户打开自定义通知栏的intent --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.ACTION_RICHPUSH_CALLBACK"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- Optional 用户接受Rich Push Javascript 回调函数的intent --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"cn.jpush.android.intent.CONNECTION"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 接收网络变化 连接/断开 since 1.6.3 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"com.infzm.o2o"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">receiver</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Required  . Enable it you can get statistics data with channel --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">meta-data</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"JPUSH_CHANNEL"</span></span><br><span class="line">            <span class="attribute">android:value</span>=<span class="value">"developer-default"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">meta-data</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"JPUSH_APPKEY"</span></span><br><span class="line">            <span class="attribute">android:value</span>=<span class="value">"815b618e1263a55325d958f1"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;/&gt;值来自开发者平台取得的AppKey --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 极光推送配置end --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 友盟更新sdk --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Update Activitys Start --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.umeng.update.UpdateDialogActivity"</span></span><br><span class="line">            <span class="attribute">android:theme</span>=<span class="value">"@android:style/Theme.Translucent.NoTitleBar"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Update Activitys End --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Caution! Do not change this app key. It is only for demo usage. --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">meta-data</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"UMENG_APPKEY"</span></span><br><span class="line">            <span class="attribute">android:value</span>=<span class="value">"552c9094fd98c5ee45000866"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">meta-data</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">meta-data</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"UMENG_CHANNEL"</span></span><br><span class="line">            <span class="attribute">android:value</span>=<span class="value">"Umeng"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">meta-data</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="title">service</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.umeng.update.net.DownloadingService"</span></span><br><span class="line">            <span class="attribute">android:process</span>=<span class="value">":DownloadingService"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">service</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 友盟更新end --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 友盟分享配置start --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ###################注册SDK使用的Activity###################### --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 分享编辑页 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.umeng.socialize.view.ShareActivity"</span></span><br><span class="line">            <span class="attribute">android:configChanges</span>=<span class="value">"orientation|keyboard"</span></span><br><span class="line">            <span class="attribute">android:launchMode</span>=<span class="value">"singleTask"</span></span><br><span class="line">            <span class="attribute">android:noHistory</span>=<span class="value">"true"</span></span><br><span class="line">            <span class="attribute">android:theme</span>=<span class="value">"@style/Theme.UMDialog"</span></span><br><span class="line">            <span class="attribute">android:windowSoftInputMode</span>=<span class="value">"stateVisible|adjustResize"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- ############ QQ空间和QQ SSO授权的Activity注册 ############ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.tencent.tauth.AuthActivity"</span></span><br><span class="line">            <span class="attribute">android:launchMode</span>=<span class="value">"singleTask"</span></span><br><span class="line">            <span class="attribute">android:noHistory</span>=<span class="value">"true"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.VIEW"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.BROWSABLE"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 100424468，如果你使用的公用账号，则不需要修改；否则修改成你在QQ开放平台申请的 APP ID --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">data</span> <span class="attribute">android:scheme</span>=<span class="value">"tencent100424468"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"com.tencent.connect.common.AssistActivity"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span></span><br><span class="line">            <span class="attribute">android:theme</span>=<span class="value">"@android:style/Theme.Translucent.NoTitleBar"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">".wxapi.WXEntryActivity"</span></span><br><span class="line">            <span class="attribute">android:configChanges</span>=<span class="value">"keyboardHidden|orientation|screenSize"</span></span><br><span class="line">            <span class="attribute">android:exported</span>=<span class="value">"true"</span></span><br><span class="line">            <span class="attribute">android:screenOrientation</span>=<span class="value">"portrait"</span></span><br><span class="line">            <span class="attribute">android:theme</span>=<span class="value">"@android:style/Theme.Translucent.NoTitleBar"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 友盟分享配置end --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">application</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>看到上面这么多配置，初学者可能会疯掉，大呼：“这什么鬼啊？看不懂，看不懂？大家先不要怕，其实它就只是个xml文件，先了解一下xml文件的结构，我们知道一个xml文件都会有</p>
<ul>
<li>xml标准文件头</li>
<li>根元素</li>
<li>子元素</li>
</ul>
<p>我们每次创建项目会默认为我们创建这个文件，刚开始是这样的<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">manifest</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attribute">package</span>=<span class="value">"com.devilwwj.pulltorefreshlistview"</span> &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">application</span></span><br><span class="line">        <span class="attribute">android:allowBackup</span>=<span class="value">"true"</span></span><br><span class="line">        <span class="attribute">android:icon</span>=<span class="value">"@drawable/ic_launcher"</span></span><br><span class="line">        <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span></span><br><span class="line">        <span class="attribute">android:theme</span>=<span class="value">"@style/AppTheme"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">".MainActivity"</span></span><br><span class="line">            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.MAIN"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.LAUNCHER"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">application</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>后面随着我们开发才不断往这个文件添加必须的配置。</p>
<h2 id="<!-￼2->"><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39318;&#20808;&#65292;&#25105;&#20204;&#30340;&#26681;&#26631;&#31614;&#23601;&#26159; **manifest**&#65292;&#26377;&#24320;&#22987;&#26631;&#31614;&#23601;&#26377;&#32467;&#26463;&#26631;&#31614;&#65292;&#25152;&#20197;**&#27599;&#20010;&#26631;&#31614;&#37117;&#26159;&#25104;&#23545;&#20986;&#29616;**&#30340;&#12290;&#10;&#22312;&#25105;&#20204;&#30340;&#26681;&#26631;&#31614;&#20013;&#65292;&#38656;&#35201;&#25351;&#23450;package&#65292;&#24212;&#29992;&#30340;&#21253;&#21517;&#65292;&#20855;&#26377;&#21807;&#19968;&#24615;&#12290;&#36824;&#38656;&#35201;&#25351;&#23450;&#24212;&#29992;&#24403;&#21069;&#30340;&#29256;&#26412;&#21495;versionCode&#21644;&#29256;&#26412;&#21517;&#31216;versionName&#65307;&#25105;&#20204;&#21487;&#20197;&#30475;&#21040;&#20851;&#20110;Android&#30340;&#23646;&#24615;&#37117;&#20250;&#26377;android:&#36825;&#26679;&#30340;&#21069;&#32512;&#65292;&#36825;&#20010;&#26159;&#26631;&#20934;&#20889;&#27861;&#65292;&#25105;&#20204;&#27599;&#27425;&#25970;&#23436;&#21069;&#32512;&#20043;&#21518;&#21487;&#20197;&#36890;&#36807;&#20195;&#30721;&#25552;&#31034;&#21151;&#33021;&#26469;&#26597;&#30475;&#21487;&#20197;&#28155;&#21152;&#30340;&#23646;&#24615;&#65292;&#22914;&#19979;&#22270;&#65306;&#10;![&#26631;&#31614;&#23646;&#24615;](http://img.blog.csdn.net/20150810181310285)&#10;&#10;##```&#60;uses-sdk&#62;</span><br></pre></td></tr></table></figure></h2><p><strong>uses-sdk</strong>是为了程序兼容而存在的，它是如何做兼容的呢？也许从三个子项的名字上就可以猜测出来。</p>
<p><strong>minSdkVersion</strong>：若手机或平板的API level低于apk的minSdkVersion，系统不能安装这个应用。</p>
<p><strong>targetSdkVersion</strong>：API level在minSdkVersion和targetSdkVersion之间的版本可以直接执行程序（不需要打开任何兼容项）。若手机或平板的API level大于程序的targetSdkVersion，Android运行环境就需要模拟之前版本API的行为，这个称之为兼容。程序开发者如何确定这个值呢？自然是在对应平台上测试，具体的过程是：递增targetSdkVersion，每递增一次测试一次。</p>
<p><strong>maxSdkVersion：若手机或平板的API level 大于maxSdkVersion，程序不能安装或使用。google文档说</strong>不推荐这个子项，因为Android 2.0.1后不检查这一项了，只有google play还会check这一项。</p>
<h2 id="<!-￼3->"><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#62;&#25688;&#33258;&#65306;[http://blog.csdn.net/dp1234/article/details/6239933](http://blog.csdn.net/dp1234/article/details/6239933)&#10;&#10;&#36825;&#20010;&#37197;&#32622;&#26159;&#26631;&#35782;&#35813;&#24212;&#29992;&#30003;&#35831;&#31995;&#32479;&#25480;&#26435;&#20855;&#20307;&#30340;&#26435;&#38480;&#12290;&#10;&#10;|&#20540; | &#35828;&#26126; |&#10;|:: | :: |&#10;|android.permission.ACCESS_CHECKIN_PROPERTIES |&#20801;&#35768;&#35835;&#20889;&#35775;&#38382;&#8221;properties&#8221;&#34920;&#22312;checkin&#25968;&#25454;&#24211;&#20013;&#65292;&#25913;&#20540;&#21487;&#20197;&#20462;&#25913;&#19978;&#20256;|&#10;|android.permission.ACCESS_COARSE_LOCATION|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#35775;&#38382;CellID&#25110;WiFi&#26469;&#33719;&#21462;&#31895;&#30053;&#30340;&#20301;&#32622;|&#10;| android.permission.ACCESS_FINE_LOCATION |&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#35775;&#38382;&#31934;&#33391;&#20301;&#32622;(&#22914;GPS)|&#10;|android.permission.ACCESS_LOCATION_EXTRA_COMMANDS | &#20801;&#35768;&#24212;&#29992;&#31243;&#24207;&#35775;&#38382;&#39069;&#22806;&#30340;&#20301;&#32622;&#25552;&#20379;&#21629;&#20196;|&#10;| android.permission.ACCESS_MOCK_LOCATION|&#20801;&#35768;&#31243;&#24207;&#21019;&#24314;&#27169;&#25311;&#20301;&#32622;&#29992;&#20110;&#27979;&#35797;|&#10;|android.permission.ACCESS_NETWORK_STATE|&#20801;&#35768;&#31243;&#24207;&#35775;&#38382;&#26377;&#20851;&#30340;&#32593;&#32476;&#20449;&#24687;|&#10;|android.permission.ACCESS_SURFACE_FLINGER|&#20801;&#35768;&#31243;&#24207;&#20351;&#29992;SurfaceFlinger&#24213;&#23618;&#29305;&#24615;|&#10;|android.permission.ACCESS_WIFI_STATE|&#20801;&#35768;&#31243;&#24207;&#35775;&#38382;Wi-Fi&#32593;&#32476;&#29366;&#24577;&#20449;&#24687;|&#10;|android.permission.ACCOUNT_MANAGER|&#20801;&#35768;&#19968;&#20010;&#24212;&#29992;&#31243;&#24207;&#21551;&#21160;&#36134;&#25143;&#35748;&#35777;&#65292;&#35813;&#26435;&#38480;&#21482;&#33021;&#31995;&#32479;&#21435;&#35774;&#32622;|&#10;|android.permission.AUTHENTICATE_ACCOUNTS|&#20801;&#35768;&#24212;&#29992;&#31243;&#24207;&#30340;&#39564;&#35777;&#36134;&#25143;&#25198;&#28436;&#19968;&#20010;&#36134;&#25143;&#31649;&#29702;&#32773;|&#10;|android.permission.BATTERY_STATS|&#20801;&#35768;&#31243;&#24207;&#26356;&#26032;&#25163;&#26426;&#30005;&#27744;&#32479;&#35745;&#20449;&#24687;|&#10;|android.permission.BIND_APPWIDGET|&#20801;&#35768;&#24212;&#29992;&#21578;&#35785;AppWidget&#21738;&#20010;&#24212;&#29992;&#33021;&#22815;&#35775;&#38382;&#35813;AppWidget&#30340;&#25968;&#25454;|&#10;|android.permission.BIND_DEVICE_ADMIN|&#24517;&#39035;&#36890;&#36807;&#20851;&#26426;&#25509;&#25910;&#32773;&#30340;&#35831;&#27714;&#65292;&#26469;&#30830;&#20445;&#21482;&#26377;&#31995;&#32479;&#33021;&#22815;&#19982;&#20043;&#20132;&#20114;|&#10;|android.permission.BIND_INPUT_METHOD|&#24517;&#39035;&#36890;&#36807;InputMethodService&#30340;&#35831;&#27714;&#65292;&#26469;&#30830;&#20445;&#21482;&#26377;&#31995;&#32479;&#33021;&#22815;&#19982;&#20043;&#32465;&#23450;|&#10;|android.permission.BIND_WALLPAPER|&#24517;&#39035;&#36890;&#36807;WallpaperService&#30340;&#35831;&#27714;&#65292;&#26469;&#30830;&#20445;&#21482;&#26377;&#31995;&#32479;&#33021;&#22815;&#19982;&#20043;&#32465;&#23450;|&#10;|android.permission.BLUETOOTH|&#20801;&#35768;&#31243;&#24207;&#36830;&#25509;&#21040;&#24050;&#37197;&#23545;&#30340;&#34013;&#29273;&#35774;&#22791;|&#10;|android.permission.BLUETOOTH_ADMIN|&#20801;&#35768;&#31243;&#24207;&#21457;&#29616;&#21644;&#37197;&#23545;&#34013;&#29273;&#35774;&#22791;|&#10;|android.permission.BRICK|&#35831;&#27714;&#33021;&#22815;&#31105;&#29992;&#35774;&#22791;(&#38750;&#24120;&#21361;&#38505;)|&#10;|android.permission.BROADCAST_PACKAGE_REMOVED|&#20801;&#35768;&#24212;&#29992;&#21457;&#20986;&#19968;&#20010;&#31243;&#24207;&#21253;&#34987;&#31227;&#38500;&#30340;&#24191;&#25773;&#28040;&#24687;|&#10;|android.permission.BROADCAST_SMS|&#20801;&#35768;&#24212;&#29992;&#21457;&#20986;&#19968;&#20010;&#25910;&#21040;&#30701;&#20449;&#30340;&#28040;&#24687;|&#10;|android.permission.BROADCAST_STICKY|&#20801;&#35768;&#24212;&#29992;&#21457;&#20986;&#19968;&#20010;&#19982;intent&#30456;&#36830;&#30340;&#28040;&#24687;|&#10;|android.permission.BROADCAST_WAP_PUSH|&#20801;&#35768;&#24212;&#29992;&#21457;&#20986;&#19968;&#20010;&#25910;&#21040;WAP PUSH&#30340;&#24191;&#25773;&#28040;&#24687;|&#10;|android.permission.CALL_PHONE|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#21021;&#22987;&#21270;&#19968;&#20010;&#30005;&#35805;&#25320;&#21495;&#65292;&#19981;&#38656;&#36890;&#36807;&#25320;&#21495;&#29992;&#25143;&#30028;&#38754;&#38656;&#35201;&#29992;&#25143;&#30830;&#35748;|&#10;|android.permission.CALL_PRIVILEGED|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#25320;&#25171;&#20219;&#20309;&#21495;&#30721;&#65292;&#21253;&#21547;&#32039;&#24613;&#21495;&#30721;&#26080;&#38656;&#36890;&#36807;&#25320;&#21495;&#29992;&#25143;&#30028;&#38754;&#38656;&#35201;&#29992;&#25143;&#30830;&#35748;|&#10;|android.permission.CAMERA|&#35831;&#27714;&#35775;&#38382;&#20351;&#29992;&#29031;&#30456;&#35774;&#22791;|&#10;|android.permission.CHANGE_COMPONENT_ENABLED_STATE|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#26159;&#21542;&#25913;&#21464;&#19968;&#20010;&#32452;&#20214;&#25110;&#20854;&#20182;&#30340;&#21551;&#29992;&#25110;&#31105;&#29992;|&#10;|android.permission.CHANGE_CONFIGURATION|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#20462;&#25913;&#24403;&#21069;&#35774;&#32622;&#65292;&#22914;&#26412;&#22320;&#21270;|&#10;|android.permission.CHANGE_NETWORK_STATE|&#20801;&#35768;&#31243;&#24207;&#25913;&#21464;&#32593;&#32476;&#36830;&#25509;&#29366;&#24577;|&#10;|android.permission.CHANGE_WIFI_STATE|&#20801;&#35768;&#31243;&#24207;&#25913;&#21464;Wi-Fi&#36830;&#25509;&#29366;&#24577;|&#10;|android.permission.CLEAR_APP_CACHE|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#22312;&#35774;&#22791;&#20013;&#28165;&#38500;&#25152;&#26377;&#23433;&#35013;&#30340;&#31243;&#24207;&#30340;&#32531;&#23384;|&#10;|android.permission.CLEAR_APP_USER_DATA|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#28165;&#38500;&#29992;&#25143;&#25968;&#25454;|&#10;|android.permission.CONTROL_LOCATION_UPDATES|&#20801;&#35768;&#21551;&#29992;&#31105;&#27490;&#20301;&#32622;&#26356;&#26032;&#25552;&#31034;&#20174;&#26080;&#32447;&#27169;&#22359;|&#10;|android.permission.DELETE_CACHE_FILES|&#20801;&#35768;&#31243;&#24207;&#21024;&#38500;&#32531;&#23384;&#25991;&#20214;|&#10;|android.permission.DELETE_PACKAGES|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#21024;&#38500;&#21253;|&#10;|android.permission.DEVICE_POWER|&#20801;&#35768;&#35775;&#38382;&#24213;&#23618;&#30005;&#28304;&#31649;&#29702;|&#10;|android.permission.DIAGNOSTIC|&#20801;&#35768;&#31243;&#24207;RW&#35786;&#26029;&#36164;&#28304;|&#10;|android.permission.DISABLE_KEYGUARD|&#20801;&#35768;&#31243;&#24207;&#31105;&#29992;&#38190;&#30424;&#38145;|&#10;|android.permission.DUMP|&#20801;&#35768;&#31243;&#24207;&#36820;&#22238;&#29366;&#24577;&#25235;&#21462;&#20449;&#24687;&#20174;&#31995;&#32479;&#26381;&#21153;&#10;|android.permission.EXPAND_STATUS_BAR|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#25193;&#23637;&#25910;&#32553;&#22312;&#29366;&#24577;&#26639;,android&#24320;&#21457;&#32593;&#25552;&#31034;&#24212;&#35813;&#26159;&#19968;&#20010;&#31867;&#20284;Windows Mobile&#20013;&#30340;&#25176;&#30424;&#31243;&#24207;|&#10;|android.permission.FACTORY_TEST|&#20316;&#20026;&#19968;&#20010;&#24037;&#21378;&#27979;&#35797;&#31243;&#24207;&#65292;&#36816;&#34892;&#22312;root&#29992;&#25143;|&#10;|android.permission.FLASHLIGHT|&#20801;&#35768;&#35775;&#38382;&#38378;&#20809;&#28783;,&#20854;&#20013;HTC Dream&#19981;&#21253;&#21547;&#38378;&#20809;&#28783;|&#10;|android.permission.FORCE_BACK|&#20801;&#35768;&#24212;&#29992;&#24378;&#21046;&#25191;&#34892;&#36820;&#22238;&#25805;&#20316;&#32780;&#19981;&#35770;&#26159;&#19981;&#26159;&#26368;&#32456;&#30340;activity|&#10;|android.permission.GET_ACCOUNTS|&#20801;&#35768;&#35775;&#38382;&#22312;Accounts Service&#20013;&#30340;&#19968;&#20010;&#24080;&#25143;&#21015;&#34920;|&#10;|android.permission.GET_PACKAGE_SIZE|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#33719;&#21462;&#20219;&#20309;package&#21344;&#29992;&#31354;&#38388;&#23481;&#37327;|&#10;|android.permission.GET_TASKS|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#33719;&#21462;&#20449;&#24687;&#26377;&#20851;&#24403;&#21069;&#25110;&#26368;&#36817;&#36816;&#34892;&#30340;&#20219;&#21153;&#65292;&#19968;&#20010;&#32553;&#30053;&#30340;&#20219;&#21153;&#29366;&#24577;&#65292;&#26159;&#21542;&#27963;&#21160;&#31561;&#31561;|&#10;|android.permission.GLOBAL_SEARCH|&#21487;&#20197;&#34987;&#20869;&#23481;&#25552;&#20379;&#32773;&#29992;&#26469;&#20801;&#35768;&#20351;&#29992;&#20840;&#31243;&#25628;&#32034;&#20182;&#20204;&#30340;&#25968;&#25454;|&#10;|android.permission.HARDWARE_TEST|&#20801;&#35768;&#35775;&#38382;&#30828;&#20214;|&#10;|android.permission.INJECT_EVENTS|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#25130;&#33719;&#29992;&#25143;&#20107;&#20214;&#22914;&#25353;&#38190;&#12289;&#35302;&#25720;&#12289;&#36712;&#36857;&#29699;&#31561;&#31561;&#21040;&#19968;&#20010;&#26102;&#38388;&#27969;|&#10;|android.permission.INSTALL_PACKAGES|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#23433;&#35013;packages|&#10;|android.permission.INTERNAL_SYSTEM_WINDOW|&#20801;&#35768;&#25171;&#24320;&#31383;&#21475;&#20351;&#29992;&#31995;&#32479;&#29992;&#25143;&#30028;&#38754;|&#10;|android.permission.INTERNET|&#20801;&#35768;&#31243;&#24207;&#25171;&#24320;&#32593;&#32476;sockets|&#10;|android.permission.KILL_BACKGROUND_PROCESSES|&#20801;&#35768;&#24212;&#29992;&#21435;&#21628;&#21483;killBackgroundProcesses&#26041;&#27861;|&#10;|android.permission.MANAGE_ACCOUNTS|&#20801;&#35768;&#31243;&#24207;&#21435;&#31649;&#29702;&#36134;&#25143;&#21015;&#34920;(&#22312;&#36134;&#25143;&#31649;&#29702;&#32773;&#20013;)|&#10;|android.permission.MANAGE_APP_TOKENS|&#20801;&#35768;&#31243;&#24207;&#31649;&#29702;(&#21019;&#24314;&#12289;&#20652;&#21518;&#12289; z- order&#40664;&#35748;&#21521;z&#36724;&#25512;&#31227;)&#31243;&#24207;&#24341;&#29992;&#22312;&#31383;&#21475;&#31649;&#29702;&#22120;&#20013;|&#10;|android.permission.MASTER_CLEAR|&#30446;&#21069;&#36824;&#27809;&#26377;&#26126;&#30830;&#30340;&#35299;&#37322;|&#10;|android.permission.MODIFY_AUDIO_SETTINGS|&#20801;&#35768;&#31243;&#24207;&#20462;&#25913;&#20840;&#23616;&#38899;&#39057;&#35774;&#32622;|&#10;|android.permission.MODIFY_PHONE_STATE|&#20801;&#35768;&#20462;&#25913;&#35805;&#26426;&#29366;&#24577;&#65292;&#22914;&#30005;&#28304;&#65292;&#20154;&#26426;&#25509;&#21475;&#31561;|&#10;|android.permission.MODIFY_FORMAT_FILESYSTEMS|&#20801;&#35768;&#26684;&#24335;&#21270;&#21487;&#31227;&#38500;&#30340;&#23384;&#20648;&#20179;&#24211;&#30340;&#25991;&#20214;&#31995;&#32479;|&#10;|android.permission.MOUNT_UNMOUNT_FILESYSTEMS|&#20801;&#35768;&#25346;&#36733;&#21644;&#21453;&#25346;&#36733;&#25991;&#20214;&#31995;&#32479;&#21487;&#31227;&#21160;&#23384;&#20648;|&#10;|android.permission.PERSISTENT_ACTIVITY|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#35774;&#32622;&#20182;&#30340;activities&#26174;&#31034;|&#10;|android.permission.PROCESS_OUTGOING_CALLS|&#20801;&#35768;&#31243;&#24207;&#30417;&#35270;&#12289;&#20462;&#25913;&#26377;&#20851;&#25773;&#20986;&#30005;&#35805;|&#10;|android.permission.READ_CALENDAR|&#20801;&#35768;&#31243;&#24207;&#35835;&#21462;&#29992;&#25143;&#26085;&#21382;&#25968;&#25454;|&#10;|android.permission.READ_CONTACTS|&#20801;&#35768;&#31243;&#24207;&#35835;&#21462;&#29992;&#25143;&#32852;&#31995;&#20154;&#25968;&#25454;|&#10;|android.permission.READ_FRAME_BUFFER|&#20801;&#35768;&#31243;&#24207;&#23631;&#24149;&#27874;&#25110;&#21644;&#26356;&#22810;&#24120;&#35268;&#30340;&#35775;&#38382;&#24103;&#32531;&#20914;&#25968;&#25454;|&#10;|android.permission.READ_HISTORY_BOOKMARKS|&#20801;&#35768;&#24212;&#29992;&#21435;&#35835;&#21462;(&#38750;&#20889;)&#29992;&#25143;&#27983;&#35272;&#21382;&#21490;&#21644;&#20070;&#31614;|&#10;|android.permission.READ_INPUT_STATE|&#20801;&#35768;&#31243;&#24207;&#36820;&#22238;&#24403;&#21069;&#25353;&#38190;&#29366;&#24577;|&#10;|android.permission.READ_LOGS|&#20801;&#35768;&#31243;&#24207;&#35835;&#21462;&#24213;&#23618;&#31995;&#32479;&#26085;&#24535;&#25991;&#20214;|&#10;|android.permission.READ_OWNER_DATA|&#20801;&#35768;&#31243;&#24207;&#35835;&#21462;&#25152;&#26377;&#32773;&#25968;&#25454;|&#10;|android.permission.READ_PHONE_STATE|&#20801;&#35768;&#35835;&#21462;&#30005;&#35805;&#30340;&#29366;&#24577;|&#10;|android.permission.READ_SMS|&#20801;&#35768;&#31243;&#24207;&#35835;&#21462;&#30701;&#20449;&#24687;(Allows an application to read SMS messages.)|&#10;|android.permission.READ_SYNC_SETTINGS|&#20801;&#35768;&#31243;&#24207;&#35835;&#21462;&#21516;&#27493;&#35774;&#32622;|&#10;|android.permission.READ_SYNC_STATS|&#20801;&#35768;&#31243;&#24207;&#35835;&#21462;&#21516;&#27493;&#29366;&#24577;|&#10;|android.permission.REBOOT|&#35831;&#27714;&#33021;&#22815;&#37325;&#26032;&#21551;&#21160;&#35774;&#22791;|&#10;|android.permission.RECEIVE_BOOT_COMPLETED|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#25509;&#25910;&#21040; ACTION_BOOT_COMPLETED&#24191;&#25773;&#22312;&#31995;&#32479;&#23436;&#25104;&#21551;&#21160;|&#10;|android.permission.RECEIVE_MMS|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#30417;&#25511;&#23558;&#25910;&#21040;MMS&#24425;&#20449;,&#35760;&#24405;&#25110;&#22788;&#29702;|&#10;|android.permission.RECEIVE_SMS|&#20801;&#35768;&#31243;&#24207;&#30417;&#25511;&#19968;&#20010;&#23558;&#25910;&#21040;&#30701;&#20449;&#24687;&#65292;&#35760;&#24405;&#25110;&#22788;&#29702;|&#10;|android.permission.RECEIVE_WAP_PUSH|&#20801;&#35768;&#31243;&#24207;&#30417;&#25511;&#23558;&#25910;&#21040;WAP PUSH&#20449;&#24687;|&#10;|android.permission.RECORD_AUDIO|&#20801;&#35768;&#31243;&#24207;&#24405;&#21046;&#38899;&#39057;|&#10;|android.permission.REORDER_TASKS|&#20801;&#35768;&#31243;&#24207;&#25913;&#21464;Z&#36724;&#25490;&#21015;&#20219;&#21153;|&#10;|android.permission.RESTART_PACKAGES|&#20801;&#35768;&#31243;&#24207;&#37325;&#26032;&#21551;&#21160;&#20854;&#20182;&#31243;&#24207;(&#27492;&#20540;&#24050;&#24223;&#24323;&#20351;&#29992;)&#10;|android.permission.SEND_SMS|&#20801;&#35768;&#31243;&#24207;&#21457;&#36865;SMS&#30701;&#20449;|&#10;|android.permission.SET_ACTIVITY_WATCHER|&#20801;&#35768;&#31243;&#24207;&#30417;&#25511;&#25110;&#25511;&#21046;activities&#24050;&#32463;&#21551;&#21160;&#20840;&#23616;&#31995;&#32479;&#20013;|&#10;|android.permission.SET_ALWAYS_FINISH|&#20801;&#35768;&#31243;&#24207;&#25511;&#21046;&#26159;&#21542;&#27963;&#21160;&#38388;&#25509;&#23436;&#25104;&#22312;&#22788;&#20110;&#21518;&#21488;&#26102;|&#10;|android.permission.SET_ANIMATION_SCALE|&#20462;&#25913;&#20840;&#23616;&#20449;&#24687;&#27604;&#20363;|&#10;|android.permission.SET_DEBUG_APP|&#37197;&#32622;&#19968;&#20010;&#31243;&#24207;&#29992;&#20110;&#35843;&#35797;|&#10;|android.permission.SET_ORIENTATION|&#20801;&#35768;&#24213;&#23618;&#35775;&#38382;&#35774;&#32622;&#23631;&#24149;&#26041;&#21521;&#21644;&#23454;&#38469;&#26059;&#36716;|&#10;|android.permission.SET_PREFERRED_APPLICATIONS|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#20462;&#25913;&#21015;&#34920;&#21442;&#25968;PackageManager.addPackageToPreferred()&#21644;PackageManager.removePackageFromPreferred()&#26041;&#27861;|&#10;|android.permission.SET_PROCESS_LIMIT|&#20801;&#35768;&#35774;&#32622;&#26368;&#22823;&#30340;&#36816;&#34892;&#36827;&#31243;&#25968;&#37327;|&#10;|android.permission.SET_TIME|&#20801;&#35768;&#24212;&#29992;&#35774;&#32622;&#31995;&#32479;&#26102;&#38388;|&#10;|android.permission.SET_TIME_ZONE|&#20801;&#35768;&#31243;&#24207;&#35774;&#32622;&#31995;&#32479;&#26102;&#21306;&#26102;&#38388;|&#10;|android.permission.SET_WALLPAPER|&#20801;&#35768;&#31243;&#24207;&#35774;&#32622;&#22721;&#32440;|&#10;|android.permission.SET_WALLPAPER_HINTS|&#20801;&#35768;&#31243;&#24207;&#35774;&#32622;&#22721;&#32440;hits|&#10;|android.permission.SIGNAL_PERSISTENT_PROCESSES|&#20801;&#35768;&#31243;&#24207;&#35831;&#27714;&#21457;&#36865;&#20449;&#21495;&#21040;&#25152;&#26377;&#26174;&#31034;&#30340;&#36827;&#31243;&#20013;|&#10;|android.permission.STATUS_BAR|&#20801;&#35768;&#31243;&#24207;&#25171;&#24320;&#12289;&#20851;&#38381;&#25110;&#31105;&#29992;&#29366;&#24577;&#26639;&#21450;&#22270;&#26631;|&#10;|android.permission.SUBSCRIBED_FEEDS_READ|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#35775;&#38382;&#35746;&#38405;RSS Feed&#20869;&#23481;&#25552;&#20379;|&#10;|android.permission.SUBSCRIBED_FEEDS_WRITE|&#31995;&#32479;&#26242;&#26102;&#20445;&#30041;&#25913;&#35774;&#32622;,|&#10;|android.permission.SYSTEM_ALERT_WINDOW|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#25171;&#24320;&#31383;&#21475;&#20351;&#29992; TYPE_SYSTEM_ALERT&#65292;&#26174;&#31034;&#22312;&#20854;&#20182;&#25152;&#26377;&#31243;&#24207;&#30340;&#39030;&#23618;|&#10;|android.permission.UPDATE_DEVICE_STATS|&#20801;&#35768;&#24212;&#29992;&#26356;&#26032;&#35774;&#22791;&#36164;&#26009;&#20449;&#24687;|&#10;|android.permission.USE_CREDENTIALS|&#20801;&#35768;&#24212;&#29992;&#20174;&#31649;&#29702;&#22120;&#24471;&#21040;&#25480;&#26435;&#35831;&#27714;|&#10;|android.permission.VIBRATE|&#20801;&#35768;&#35775;&#38382;&#25391;&#21160;&#35774;&#22791;|&#10;|android.permission.WAKE_LOCK|&#20801;&#35768;&#20351;&#29992;PowerManager&#30340; WakeLocks&#20445;&#25345;&#36827;&#31243;&#22312;&#20241;&#30496;&#26102;&#20174;&#23631;&#24149;&#28040;&#22833;|&#10;|android.permission.WRITE_APN_SETTINGS|&#20801;&#35768;&#31243;&#24207;&#20889;&#20837;API&#35774;&#32622;|&#10;|android.permission.WRITE_CALENDAR|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#20889;&#20837;&#20294;&#19981;&#35835;&#21462;&#29992;&#25143;&#26085;&#21382;&#25968;&#25454;|&#10;|android.permission.WRITE_CONTACTS|&#20801;&#35768;&#31243;&#24207;&#20889;&#20837;&#20294;&#19981;&#35835;&#21462;&#29992;&#25143;&#32852;&#31995;&#20154;&#25968;&#25454;|&#10;|android.permission.WRITE_EXTERNAL_STORAGE|&#20801;&#35768;&#24212;&#29992;&#20889;&#65288;&#38750;&#35835;&#65289;&#29992;&#25143;&#30340;&#22806;&#37096;&#23384;&#20648;&#22120;|&#10;|android.permission.WRITE_GSERVICES|&#20801;&#35768;&#31243;&#24207;&#20462;&#25913;Google&#26381;&#21153;&#22320;&#22270;|&#10;|android.permission.WRITE_HISTORY_BOOKMARKS|&#20801;&#35768;&#24212;&#29992;&#20889;&#65288;&#38750;&#35835;&#65289;&#29992;&#25143;&#30340;&#27983;&#35272;&#22120;&#21382;&#21490;&#21644;&#20070;&#31614;|&#10;|android.permission.WRITE_OWNER_DATA|&#20801;&#35768;&#19968;&#20010;&#31243;&#24207;&#20889;&#20837;&#20294;&#19981;&#35835;&#21462;&#25152;&#26377;&#32773;&#25968;&#25454;|&#10;|android.permission.WRITE_SECURE_SETTINGS|&#20801;&#35768;&#24212;&#29992;&#20889;&#25110;&#35835;&#24403;&#21069;&#31995;&#32479;&#35774;&#32622;|&#10;|android.permission.WRITE_SETTINGS|&#20801;&#35768;&#31243;&#24207;&#35835;&#21462;&#25110;&#20889;&#20837;&#31995;&#32479;&#35774;&#32622;|&#10;|android.permission.WRITE_SMS|&#20801;&#35768;&#31243;&#24207;&#20889;&#30701;&#20449;|&#10;|android.permission.WRITE_SYNC_SETTINGS|&#20801;&#35768;&#31243;&#24207;&#20889;&#20837;&#21516;&#27493;&#35774;&#32622;|&#10;&#10;##application&#10;&#62;&#25688;&#33258;&#65306;[http://blog.csdn.net/small_love/article/details/6534956](http://blog.csdn.net/small_love/article/details/6534956)&#10;&#10;&#21253;&#21547;&#22312;&#65306;```&#60;manifest&#62;```&#20803;&#32032;&#19979;&#10;  &#21487;&#20197;&#21253;&#21547;&#65306;&#10;- ```&#60;activity&#62;</span><br></pre></td></tr></table></figure></h2><ul>
<li><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- ```&#60;service&#62;</span><br></pre></td></tr></table></figure>
</li>
<li><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- ```&#60;provider&#62;</span><br></pre></td></tr></table></figure>
</li>
<li><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;  1&#12289;**android:allowClearUserData**&#10;      &#26159;&#21542;&#32473;&#20197;&#29992;&#25143;&#21024;&#38500;&#29992;&#25143;&#25968;&#25454;&#30340;&#26435;&#38480;&#65292;&#22914;&#26524;&#20026;true&#24212;&#29992;&#31649;&#29702;&#32773;&#23601;&#25317;&#26377;&#28165;&#38500;&#25968;&#25454;&#30340;&#26435;&#38480;&#65307;false&#27809;&#26377;&#12290;&#40664;&#35748;&#20026;true&#12290;&#10;  2&#12289;**android:allowTaskReparenting**&#10;      &#24212;&#29992;&#23450;&#20041;&#30340;activities&#26159;&#21542;&#21487;&#20197;&#34987;&#20174;&#21551;&#21160;&#30340;&#20219;&#21153;&#36716;&#31227;&#21040;&#21644;&#20182;&#26377;&#30456;&#21516;&#24182;&#19988;&#23558;&#34987;&#24102;&#21040;&#21069;&#21488;&#30340;&#20219;&#21153;&#12290;true&#20182;&#20204;&#21487;&#20197;&#34987;&#36716;&#31227;&#65292;&#22914;&#26524;&#20026;false&#65292;&#10;  &#20182;&#20204;&#24517;&#39035;&#21644;&#21551;&#21160;&#20182;&#20204;&#30340;&#20219;&#21153;&#20445;&#25345;&#22312;&#19968;&#36215;&#12290;&#40664;&#35748;&#20026;false&#12290;&#10;  3&#12289;**android:backupAgent**&#10;      &#23454;&#29616;&#24212;&#29992;&#30340;&#22791;&#20221;&#20195;&#29702;&#30340;&#31867;&#21517;&#65292;BackupAgent&#30340;&#23376;&#31867;&#12290;&#36825;&#20010;&#23646;&#24615;&#30340;&#21517;&#31216;&#22240;&#35813;&#26159;&#20840;&#38480;&#23450;&#31867;&#21517;(&#22914;&#65292;&#34;com.example.project.MyBackupAgent&#34;)&#12290;&#10;  &#20294;&#26159;&#65292;&#22914;&#26524;&#21517;&#31216;&#30340;&#39318;&#23383;&#27597;&#34987;&#35774;&#32622;&#20026;&#28857;&#21495;&#65292;&#20063;&#21487;&#20197;&#20026;&#31867;&#21517;(&#22914;&#65292;&#34;.MyBackupAgent&#34;)&#65292;&#20182;&#23558;&#34987;&#36861;&#21152;&#21040;&#22312;```&#60;manifest&#62;```&#20803;&#32032;&#20013;&#23450;&#20041;&#30340;&#21253;&#21517;&#21518;&#12290;&#10;      &#27809;&#26377;&#40664;&#35748;&#20540;&#12290;&#10;  4&#12289;**android:debuggable**&#10;       &#24212;&#29992;&#26159;&#21542;&#21487;&#20197;&#20351;&#29992;debug&#65292;&#29978;&#33267;&#36816;&#34892;&#22312;&#29992;&#25143;&#27169;&#24335;&#19979;&#12290;true&#21487;&#20197;&#65292;false&#19981;&#33021;&#12290;&#40664;&#35748;&#20026;false&#12290;&#10;  5&#12289;**android:description**&#10;       &#29992;&#25143;&#21487;&#35835;&#30340;&#65292;&#27604;&#24212;&#29992;&#26631;&#31614;&#26356;&#38271;&#12289;&#26356;&#22810;&#30340;&#24212;&#29992;&#25551;&#36848;&#12290;&#27492;&#20540;&#24517;&#39035;&#26159;&#19968;&#20010;&#24341;&#29992;&#23383;&#31526;&#20018;&#12290;&#19981;&#20687;&#26631;&#31614;&#65292;&#20182;&#19981;&#33021;&#34987;&#35774;&#32622;&#20026;&#30828;&#32534;&#30721;&#23383;&#31526;&#20018;&#12290;&#27809;&#26377;&#40664;&#35748;&#20540;&#12290;&#10;  6&#12289;**android:enabled**&#10;       Android&#31995;&#32479;&#26159;&#21542;&#21487;&#20197;&#23454;&#20363;&#21270;&#24212;&#29992;&#30340;&#32452;&#20214;&#12290;&#22914;&#26524;&#20026;true&#21487;&#20197;&#65292;&#22914;&#26524;&#20026;false&#19981;&#21487;&#20197;&#12290;&#22914;&#26524;&#20026;true&#26102;&#65292;&#27599;&#20010;&#32452;&#20214;&#30340;enabled&#23646;&#24615;&#20915;&#23450;&#20102;&#27492;&#32452;&#20214;&#10;&#26159;&#21542;&#21487;&#29992;&#12290;&#22914;&#26524;&#20026;false&#65292;&#20182;&#37325;&#20889;&#20102;&#32452;&#20214;&#25351;&#23450;&#20540;&#65292;&#25152;&#26377;&#30340;&#32452;&#20214;&#23558;&#19981;&#36824;&#29992;&#12290;&#40664;&#35748;&#20026;true&#12290;&#10;  7&#12289;**android:hasCode**&#10;       &#24212;&#29992;&#26159;&#21542;&#21253;&#21547;&#20195;&#30721;&#12290;true&#34920;&#31034;&#21253;&#21547;&#65292;false&#34920;&#31034;&#19981;&#21253;&#21547;&#12290;&#24403;&#20540;&#20026;false&#26102;&#65292;&#22312;&#21551;&#21160;&#32452;&#20214;&#26159;&#31995;&#32479;&#19981;&#20250;&#35797;&#30528;&#21152;&#36733;&#24212;&#29992;&#30340;&#20219;&#20309;&#20195;&#30721;&#12290;&#40664;&#35748;&#20026;true&#12290;&#10;  8&#12289;**android:icon**&#10;       &#25972;&#20010;&#24212;&#29992;&#30340;&#22270;&#26631;&#65292;&#36824;&#26159;&#27599;&#20010;&#32452;&#20214;&#30340;&#40664;&#35748;&#22270;&#26631;&#12290;&#36825;&#20010;&#23646;&#24615;&#20540;&#24517;&#39035;&#34987;&#35774;&#32622;&#20026;drawable&#36164;&#28304;&#30340;&#24341;&#29992;&#12290;&#27809;&#26377;&#40664;&#35748;&#20540;&#12290;&#10;  9&#12289;**android:killAfterRestore**&#10;       &#22312;&#25972;&#22411;&#31995;&#32479;&#37325;&#32622;&#25805;&#20316;&#20013;&#65292;&#24403;&#20182;&#30340;&#35774;&#32622;&#34987;&#37325;&#32622;&#21518;&#65292;&#24212;&#29992;&#26159;&#21542;&#24212;&#35813;&#34987;&#32456;&#27490;&#12290;&#21333;&#20010;&#21253;&#30340;&#37325;&#32622;&#25805;&#20316;&#19981;&#20250;&#24341;&#36215;&#24212;&#29992;&#34987;&#20851;&#38381;&#12290;&#25972;&#20010;&#31995;&#32479;&#30340;&#24674;&#22797;&#25805;&#20316;&#20165;&#20195;&#34920;&#10;&#24615;&#30340;&#21457;&#29983;&#19968;&#27425;&#65292;&#24403;&#30005;&#35805;&#31532;&#19968;&#27425;&#34987;&#35774;&#32622;&#26102;&#12290;&#31532;&#19977;&#26041;&#24212;&#29992;&#23558;&#19981;&#20250;&#32463;&#24120;&#20351;&#29992;&#27492;&#23646;&#24615;&#12290;&#10;&#40664;&#35748;&#20540;&#20026;true&#65292;&#24847;&#24605;&#26159;&#65292;&#24403;&#25972;&#20010;&#31995;&#32479;&#34987;&#24674;&#22797;&#26102;&#65292;&#24212;&#29992;&#36816;&#34892;&#29609;&#20182;&#30340;&#25968;&#25454;&#21518;&#65292;&#23558;&#20250;&#32456;&#27490;&#12290;&#10;  10&#12289;**android:label**&#10;       &#19968;&#20010;&#26131;&#35835;&#30340;&#24212;&#29992;&#26631;&#31614;&#65292;&#24182;&#19988;&#36824;&#26159;&#24212;&#29992;&#30340;&#27599;&#20010;&#32452;&#20214;&#30340;&#40664;&#35748;&#26631;&#31614;&#12290;&#36825;&#20010;&#26631;&#31614;&#24212;&#35813;&#34987;&#35774;&#32622;&#20026;&#24341;&#29992;&#23383;&#31526;&#20018;&#36164;&#28304;&#65292;&#24403;&#28982;&#20182;&#20063;&#21487;&#20197;&#20687;&#20854;&#20182;&#23383;&#31526;&#20018;&#19968;&#26679;&#22312;&#29992;&#25143;&#10;&#25509;&#21475;&#20013;&#25351;&#23450;&#12290;&#20294;&#26159;&#20026;&#20102;&#26041;&#20415;&#65292;&#22312;&#24212;&#29992;&#24320;&#21457;&#26102;&#65292;&#21487;&#20197;&#34987;&#35774;&#32622;&#26410;&#23450;&#20041;&#23383;&#31526;&#20018;&#12290;&#10;  11&#12289;**android:manageSpaceActivity**&#10;       &#19968;&#20010;Activity&#23376;&#31867;&#30340;&#20840;&#38480;&#23450;&#21517;&#31216;&#65292;&#36825;&#20010;Activity&#21487;&#20197;&#34987;&#31995;&#32479;&#21551;&#21160;&#35753;&#29992;&#25143;&#31649;&#29702;&#27492;&#24212;&#29992;&#21344;&#26377;&#30340;&#23384;&#20648;&#31354;&#38388;&#12290;&#36825;&#20010;Activity&#20063;&#24212;&#35813;&#29992;```&#60;activity&#62;```&#20803;&#32032;&#22768;&#26126;&#12290;&#10;  12&#12289;**android:name**&#10;       &#20026;&#36825;&#20010;&#24212;&#29992;&#23454;&#29616;&#30340;Application&#23376;&#31867;&#30340;&#20840;&#38480;&#23450;&#21517;&#31216;&#12290;&#24403;&#24212;&#29992;&#21551;&#21160;&#26102;&#65292;&#36825;&#20010;&#31867;&#23558;&#22312;&#24212;&#29992;&#30340;&#20854;&#20182;&#32452;&#20214;&#20043;&#21069;&#34987;&#23454;&#20363;&#21270;&#12290;&#10;&#36825;&#20010;&#23376;&#31867;&#26159;&#21487;&#36873;&#30340;&#65307;&#22823;&#22810;&#25968;&#24212;&#29992;&#19981;&#38656;&#35201;&#12290;&#22312;&#32570;&#30465;&#26102;&#65292;Android&#20351;&#29992;&#22522;&#26412;Application&#31867;&#30340;&#23454;&#20363;&#12290;&#10;  13&#12289;**android:permission**&#10;       &#23458;&#25143;&#20026;&#20102;&#21644;&#24212;&#29992;&#20132;&#20114;&#24517;&#39035;&#35774;&#32622;&#30340;&#35768;&#21487;&#30340;&#21517;&#31216;&#12290;&#36825;&#20010;&#23646;&#24615;&#26159;&#19968;&#20010;&#20415;&#21033;&#30340;&#36884;&#24452;&#20026;&#24212;&#29992;&#30340;&#32452;&#20214;&#35774;&#32622;&#35768;&#21487;&#12290;&#20182;&#21487;&#20197;&#34987;&#32452;&#20214;&#30340;permission&#23646;&#24615;&#37325;&#20889;&#12290;&#10;  14&#12289;**android:persistent**&#10;       &#24212;&#29992;&#26159;&#21542;&#22312;&#25152;&#26377;&#26102;&#38388;&#19979;&#37117;&#20445;&#25345;&#36816;&#34892;&#12290;true&#26159;&#65292;false&#19981;&#26159;&#12290;&#40664;&#35748;&#20026;false&#12290;&#36890;&#24120;&#24773;&#20917;&#19979;&#24212;&#29992;&#19981;&#24212;&#35813;&#35774;&#32622;&#27492;&#26631;&#35782;&#12290;&#25345;&#20037;&#27169;&#24335;&#20165;&#20165;&#34987;&#20960;&#20010;&#31995;&#32479;&#24212;&#29992;&#25351;&#23450;&#12290;&#10;  15&#12289;**android:process**&#10;       &#20026;&#24212;&#29992;&#19979;&#30340;&#32452;&#20214;&#23450;&#19968;&#20010;&#36816;&#34892;&#36827;&#31243;&#21517;&#31216;&#12290;&#27599;&#20010;&#32452;&#20214;&#21487;&#20197;&#23450;&#20041;&#33258;&#24049;&#30340;&#36827;&#31243;&#21517;&#31216;&#36890;&#36807;&#35774;&#32622;&#33258;&#24049;&#30340;process&#23646;&#24615;&#12290;&#10;&#22312;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;Android&#20026;&#24212;&#29992;&#21019;&#24314;&#19968;&#20010;&#36827;&#31243;&#65292;&#24403;&#24212;&#29992;&#30340;&#31532;&#19968;&#20010;&#32452;&#20214;&#38656;&#35201;&#36816;&#34892;&#26102;&#12290;&#25152;&#26377;&#30340;&#32452;&#20214;&#22312;&#21516;&#19968;&#20010;&#36827;&#31243;&#19979;&#36816;&#34892;&#12290;&#36825;&#20010;&#36827;&#31243;&#30340;&#21517;&#31216;&#21644;&#22312;```&#60;manifest&#62;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>元素设置的backage属性名相同。<br>通过设置这个属性在可以在其他应用中共享，你可以协调应用的组件在同一个进程中运行，但是只有两应用也共享用户ID和签订相同的证书。<br>如果这个属性的名称一个冒号(“:”)开始，一个新的私有的进程将被创建。如果一个进程的名称以小写字母开头，一个公共的进程将被创建。<br>一个公共的进程可以被其他应用共享，来减少资源的使用。<br>  16、<strong>android:restoreAnyVersion</strong><br>       表明这个应用准备尝试恢复所有的备份数据集合，甚至如果备份数据是比当前安装的应用高的编号存储的。设置为true将允许备份管理者去尝试<br>恢复当版本不匹配，意思是数据冲突。要小心使用。默认为false。<br>  17、<strong>android:taskAffinity</strong><br>       提供给应用下所有组件的类同名称，除了设置了自己的taskAffinity属性的组件。默认情况下所有的组件使用相同的affinity。Affinity的名称<br>和在<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">  18&#12289;**android:theme**&#10;       &#20026;&#24212;&#29992;&#19979;&#30340;&#32452;&#20214;&#23450;&#20041;&#19968;&#20010;&#24341;&#29992;&#33258;&#26679;&#24335;&#36164;&#28304;&#30340;&#20027;&#39064;&#12290;&#20010;&#21035;&#30340;activities&#21487;&#20197;&#35774;&#32622;&#33258;&#24049;&#30340;&#20027;&#39064;&#65292;&#36890;&#36807;&#35774;&#32622;&#33258;&#24049;&#30340;theme&#23646;&#24615;&#12290; &#10;&#10;##```&#60;activity&#62;</span><br></pre></td></tr></table></figure></p>
<p>activity是Android四大组件之一，它的属性非常多，语法如下：<br>摘自：<a href="http://blog.sina.com.cn/s/blog_48d491300100zmg0.html" target="_blank" rel="external">http://blog.sina.com.cn/s/blog_48d491300100zmg0.html</a><br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt; activity android:<span class="variable">allowTaskReparenting=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br><span class="line">    android:<span class="variable">alwaysRetainTaskState=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br><span class="line">    android:<span class="variable">clearTaskOnLaunch=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br><span class="line">    android:<span class="variable">configChanges=</span>[<span class="string">"mcc"</span>, <span class="string">"mnc"</span>, <span class="string">"locale"</span>,</span><br><span class="line">        <span class="string">"touchscreen"</span>, <span class="string">"keyboard"</span>, <span class="string">"keyboardHidden"</span>,</span><br><span class="line">        <span class="string">"navigation"</span>, <span class="string">"screenLayout"</span>, <span class="string">"fontScale"</span>, <span class="string">"uiMode"</span>,</span><br><span class="line">        <span class="string">"orientation"</span>, <span class="string">"screenSize"</span>, <span class="string">"smallestScreenSize"</span>]</span><br><span class="line">    android:<span class="variable">enabled=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br><span class="line">    android:<span class="variable">excludeFromRecents=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br><span class="line">    android:<span class="variable">exported=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br><span class="line">    android:<span class="variable">finishOnTaskLaunch=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br><span class="line">    android:<span class="variable">hardwareAccelerated=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br><span class="line">    android:<span class="variable">icon=</span><span class="string">"drawable resource"</span></span><br><span class="line">    android:<span class="variable">label=</span><span class="string">"string resource"</span></span><br><span class="line">    android:<span class="variable">launchMode=</span>[<span class="string">"multiple"</span> | <span class="string">"singleTop"</span> |</span><br><span class="line">        <span class="string">"singleTask"</span> | <span class="string">"singleInstance"</span>]</span><br><span class="line">    android:<span class="variable">multiprocess=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br><span class="line">    android:<span class="variable">name=</span><span class="string">"string"</span></span><br><span class="line">    android:<span class="variable">noHistory=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>] </span><br><span class="line">    android:<span class="variable">parentActivityName=</span><span class="string">"string"</span> </span><br><span class="line">    android:<span class="variable">permission=</span><span class="string">"string"</span></span><br><span class="line">    android:<span class="variable">process=</span><span class="string">"string"</span></span><br><span class="line">    android:<span class="variable">screenOrientation=</span>[<span class="string">"unspecified"</span> | <span class="string">"behind"</span> |</span><br><span class="line">        <span class="string">"landscape"</span> | <span class="string">"portrait"</span> |</span><br><span class="line">        <span class="string">"reverseLandscape"</span> | <span class="string">"reversePortrait"</span> |</span><br><span class="line">        <span class="string">"sensorLandscape"</span> | <span class="string">"sensorPortrait"</span> |</span><br><span class="line">        <span class="string">"userLandscape"</span> | <span class="string">"userPortrait"</span> |</span><br><span class="line">        <span class="string">"sensor"</span> | <span class="string">"fullSensor"</span> | <span class="string">"nosensor"</span> |</span><br><span class="line">        <span class="string">"user"</span> | <span class="string">"fullUser"</span> | <span class="string">"locked"</span>]</span><br><span class="line">    android:<span class="variable">stateNotNeeded=</span>[<span class="string">"true"</span> | <span class="string">"false"</span>]</span><br><span class="line">    android:<span class="variable">taskAffinity=</span><span class="string">"string"</span></span><br><span class="line">    android:<span class="variable">theme=</span><span class="string">"resource or theme"</span></span><br><span class="line">    android:<span class="variable">uiOptions=</span>[<span class="string">"none"</span> | <span class="string">"splitActionBarWhenNarrow"</span>]</span><br><span class="line">    android:<span class="variable">windowSoftInputMode=</span>[<span class="string">"stateUnspecified"</span>,</span><br><span class="line">        <span class="string">"stateUnchanged"</span>, <span class="string">"stateHidden"</span>,</span><br><span class="line">        <span class="string">"stateAlwaysHidden"</span>, <span class="string">"stateVisible"</span>,</span><br><span class="line">        <span class="string">"stateAlwaysVisible"</span>, <span class="string">"adjustUnspecified"</span>,</span><br><span class="line">        <span class="string">"adjustResize"</span>, <span class="string">"adjustPan"</span>] &gt; </span><br><span class="line">    . . .</span><br><span class="line">&lt; /activity &gt;</span><br></pre></td></tr></table></figure></p>
<p>包含于：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#21487;&#21253;&#21547;&#65306;&#10;```&#60;intent-filter&#62;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#35828;&#26126;&#65306;&#10;&#22768;&#26126;&#19968;&#20010; Activity&#65288; Activity &#23376;&#31867;&#65289;&#65292;&#23454;&#29616;&#24212;&#29992;&#31243;&#24207;&#30340;&#21487;&#35270;&#21270;&#29992;&#25143;&#30028;&#38754;&#12290; &#25152;&#26377; Activity &#37117;&#24517;&#39035;&#22312;manifest&#25991;&#20214;&#20013;&#29992; &#60; activity &#62; &#22768;&#26126;&#12290; &#20219;&#20309;&#26410;&#32463;&#22768;&#26126;&#30340; Activity &#31995;&#32479;&#37117;&#20250;&#35270;&#32780;&#19981;&#35265;&#65292;&#19988;&#19981;&#20250;&#36816;&#34892;&#12290;&#10;&#23646;&#24615;&#65306;&#10;**android:allowTaskReparenting**&#10;&#24403;&#26576;&#20010;&#25317;&#26377;&#30456;&#21516; affinity &#30340;&#20219;&#21153;&#21363;&#23558;&#36820;&#22238;&#21069;&#21488;&#26102;&#65292;Activity &#26159;&#21542;&#33021;&#20174;&#21551;&#21160;&#26102;&#30340;&#20219;&#21153;&#36716;&#31227;&#33267;&#27492;&#20219;&#21153;&#20013;&#21435; &#8212;&#8220;true&#8221;&#34920;&#31034;&#21487;&#20197;&#31227;&#21160;&#65292;&#8220;false&#8221;&#34920;&#31034;&#23427;&#24517;&#39035;&#30041;&#22312;&#21551;&#21160;&#26102;&#30340;&#20219;&#21153;&#20013;&#12290;&#10;&#22914;&#26524;&#26410;&#35774;&#32622;&#26412;&#23646;&#24615;&#65292;&#21017; &#60; application &#62; &#20803;&#32032;&#20013;&#23545;&#24212;&#30340; allowTaskReparenting &#23646;&#24615;&#20540;&#23558;&#20250;&#24212;&#29992;&#20110; Activity &#12290; &#40664;&#35748;&#20540;&#26159;&#8220;false&#8221;&#12290;&#10;&#36890;&#24120;&#22312;&#21551;&#21160;&#26102;&#65292;Activity &#19982;&#21551;&#21160;&#26102;&#30340;&#20219;&#21153;&#30456;&#20851;&#32852;&#65292;&#24182;&#22312;&#25972;&#20010;&#29983;&#21629;&#21608;&#26399;&#37117;&#20301;&#20110;&#27492;&#20219;&#21153;&#20013;&#12290; &#21033;&#29992;&#26412;&#23646;&#24615;&#21487;&#20197;&#24378;&#34892;&#35753; Activity &#22312;&#24403;&#21069;&#20219;&#21153;&#19981;&#20877;&#26174;&#31034;&#26102;&#24402;&#23646;&#20110;&#21478;&#19968;&#20010;&#19982;&#20854; affinity &#30456;&#21516;&#30340;&#20219;&#21153;&#12290; &#20856;&#22411;&#24212;&#29992;&#26159;&#35753;&#19968;&#20010;&#24212;&#29992;&#31243;&#24207;&#30340; Activity &#36716;&#31227;&#21040;&#21478;&#19968;&#20010;&#24212;&#29992;&#31243;&#24207;&#20851;&#32852;&#30340;&#20027;&#20219;&#21153;&#20013;&#21435;&#12290;&#10;&#20363;&#22914;&#65292;&#22914;&#26524;&#26576;&#26465; e-mail &#20449;&#24687;&#21253;&#21547;&#20102;&#19968;&#20010; Web &#39029;&#30340;&#38142;&#25509;&#65292;&#28857;&#20987;&#27492;&#38142;&#25509;&#23558;&#21551;&#21160;&#19968;&#20010; Activity &#26174;&#31034;&#27492; Web &#39029;&#12290; &#36825;&#20010; Activity &#26159;&#30001;&#27983;&#35272;&#22120;&#31243;&#24207;&#23450;&#20041;&#30340;&#65292;&#20294;&#21364;&#20316;&#20026; e-mail &#20219;&#21153;&#30340;&#19968;&#37096;&#20998;&#34987;&#21551;&#21160;&#12290; &#22914;&#26524;&#23427;&#37325;&#26032;&#24402;&#23646;&#20110;&#27983;&#35272;&#22120;&#30340;&#20219;&#21153;&#65292;&#37027;&#20040;&#22312;&#19979;&#27425;&#27983;&#35272;&#22120;&#36827;&#20837;&#21069;&#21488;&#26102;&#23601;&#20250;&#26174;&#31034;&#20986;&#26469;&#65292;&#24182;&#19988;&#20250;&#22312; e-mail &#20219;&#21153;&#20877;&#27425;&#22238;&#21040;&#21069;&#21488;&#26102;&#28040;&#22833;&#12290;&#10;Activity &#30340; affinity &#30001; taskAffinity &#23646;&#24615;&#23450;&#20041;&#12290; &#20219;&#21153;&#30340; affinity &#30001;&#26681; Activity &#30340; affinity &#30830;&#23450;&#12290; &#28982;&#32780;&#65292;&#26681;&#25454;&#35268;&#23450;&#65292;&#26681; Activity &#24635;&#26159;&#20301;&#20110; affinity &#21516;&#21517;&#30340;&#20219;&#21153;&#20013;&#12290; &#22240;&#20026;&#20197;&#8220;singleTask&#8221;&#21644;&#8220;singleInstance&#34; &#27169;&#24335;&#21551;&#21160;&#30340; Activity &#21482;&#33021;&#20301;&#20110;&#20219;&#21153;&#30340;&#26681;&#37096;&#65292; &#25152;&#20197; Activity &#30340;&#37325;&#26032;&#24402;&#23646;&#20165;&#38480;&#20110;&#8220;standard&#8221;&#21644;&#8220;singleTop&#8221;&#21551;&#21160;&#27169;&#24335;&#12290; &#65288;&#35831;&#21442;&#38405; launchMode &#23646;&#24615;&#12290;&#65289;&#10;**android:alwaysRetainTaskState**&#10;&#31995;&#32479;&#26159;&#21542;&#19968;&#30452;&#32500;&#25345; Activity &#25152;&#23646;&#20219;&#21153;&#30340;&#29366;&#24577; &#8212;&#8220;true&#8221;&#34920;&#31034;&#26159;&#65292;&#8220;false&#8221;&#34920;&#31034;&#20801;&#35768;&#31995;&#32479;&#22312;&#29305;&#23450;&#24773;&#20917;&#19979;&#37325;&#21551;&#20219;&#21153;&#12290; &#40664;&#35748;&#20540;&#26159;&#8220;false&#8221;&#12290; &#26412;&#23646;&#24615;&#21482;&#23545;&#20219;&#21153;&#30340;&#26681; Activity &#26377;&#25928;&#65292;&#20854;&#20182; Activity &#37117;&#24573;&#30053;&#26412;&#23646;&#24615;&#12290;&#10;&#36890;&#24120;&#65292;&#22312;&#29992;&#25143;&#20174;&#20027;&#23631;&#24149;&#65288;Home Screen&#65289;&#37325;&#26032;&#36816;&#34892;&#24212;&#29992;&#31243;&#24207;&#26102;&#65292;&#31995;&#32479;&#26377;&#26102;&#20250;&#28165;&#29702;&#20219;&#21153;&#65288;&#28165;&#38500;&#20219;&#21153;&#26632;&#20013;&#26681; Activity &#20197;&#19978;&#30340;&#25152;&#26377; Activity&#65289;&#12290; &#25191;&#34892;&#27492;&#25805;&#20316;&#30340;&#20856;&#22411;&#24773;&#20917;&#26159;&#65306;&#29992;&#25143;&#26377;&#27573;&#26102;&#38388;&#65288;&#27604;&#22914;30&#20998;&#38047;&#65289;&#27809;&#26377;&#35775;&#38382;&#35813;&#20219;&#21153;&#20102;&#12290;&#10;&#28982;&#32780;&#65292;&#19968;&#26086;&#26412;&#23646;&#24615;&#35774;&#20026;&#8220;true&#8221;&#65292;&#21017;&#19981;&#35770;&#29992;&#25143;&#20301;&#20110;&#20309;&#22788;&#65292;&#23558;&#24635;&#26159;&#36820;&#22238;&#20219;&#21153;&#30340;&#26368;&#21518;&#29366;&#24577;&#12290; &#20030;&#20363;&#26469;&#35828;&#65292;&#36825;&#23545;&#27983;&#35272;&#22120;&#23601;&#24456;&#26377;&#29992;&#65292;Web &#27983;&#35272;&#22120;&#36825;&#31867;&#24212;&#29992;&#38656;&#35201;&#20445;&#25345;&#24456;&#22810;&#29366;&#24577;&#65288;&#35832;&#22914;&#22810;&#20010;&#24050;&#25171;&#24320;&#30340;&#39029;&#38754;&#65289;&#65292;&#29992;&#25143;&#19981;&#26399;&#26395;&#36825;&#20123;&#29366;&#24577;&#39532;&#19978;&#28040;&#22833;&#12290;&#10;**android:clearTaskOnLaunch**&#10;&#27599;&#27425;&#20174;&#20027;&#23631;&#24149;&#37325;&#26032;&#25191;&#34892;&#31243;&#24207;&#26102;&#65292;&#26159;&#21542;&#23558;&#20219;&#21153;&#20013;&#38500;&#26681; Activity &#20197;&#22806;&#30340;&#25152;&#26377; Activity &#37117;&#28165;&#38500;  &#8212; &#8220;true&#8221;&#34920;&#31034;&#24635;&#26159;&#28165;&#38500;&#33267;&#26681; Activity&#65292;&#8220;false&#8221;&#21017;&#19981;&#28165;&#38500;&#12290; &#40664;&#35748;&#20540;&#26159;&#8220;false&#8221;&#12290; &#26412;&#23646;&#24615;&#21482;&#23545;&#21551;&#21160;&#26032;&#20219;&#21153;&#30340; Activity&#65288;&#26681; Activity&#65289;&#26377;&#25928;&#65292;&#20854;&#20182; Activity &#37117;&#24573;&#30053;&#26412;&#23646;&#24615;&#12290;&#10;&#22914;&#26524;&#27492;&#20540;&#20026;&#8220;true&#8221;&#65292;&#21017;&#27599;&#24403;&#29992;&#25143;&#20877;&#27425;&#21551;&#21160;&#20219;&#21153;&#26102;&#37117;&#20250;&#36827;&#20837;&#26681; Activity&#65292; &#26080;&#35770;&#20043;&#21069;&#22312;&#27492;&#20219;&#21153;&#20013;&#20570;&#36807;&#20160;&#20040;&#25805;&#20316;&#65292;&#20063;&#26080;&#35770;&#19978;&#27425;&#26159;&#29992; Back &#36824;&#26159; Home &#38190;&#31163;&#24320;&#20219;&#21153;&#30340;&#12290; &#22914;&#26524;&#27492;&#20540;&#20026;&#8220;false&#8221;&#65292;&#37027;&#20040;&#22312;&#26576;&#20123;&#24773;&#20917;&#19979;&#20063;&#35768;&#36824;&#20250;&#28165;&#29702;&#20219;&#21153;&#65288;&#35831;&#21442;&#38405; alwaysRetainTaskState&#23646;&#24615;&#65289;&#65292;&#20294;&#24182;&#19981;&#26159;&#27599;&#27425;&#37117;&#20250;&#25191;&#34892;&#12290;&#10;&#20363;&#22914;&#65292;&#20551;&#35774;&#29992;&#25143;&#20174;&#20027;&#23631;&#24149;&#21551;&#21160;&#20102; Activity P&#65292;&#21448;&#20174; P &#36716;&#21040; Activity Q&#12290; &#25509;&#19979;&#26469;&#29992;&#25143;&#25353;&#19979;&#20102; Home &#38190;&#65292;&#28982;&#21518;&#20877;&#22238;&#21040; Activity P &#12290; &#36890;&#24120;&#65292;&#29992;&#25143;&#23558;&#20250;&#30475;&#21040; Activity Q&#65292;&#22240;&#20026;&#22312; P &#30340;&#20219;&#21153;&#37324;&#26368;&#21518;&#25805;&#20316;&#30340;&#23601;&#26159; Q&#12290; &#28982;&#32780;&#65292;&#22914;&#26524; P &#25226;&#26412;&#23646;&#24615;&#35774;&#20026;&#8220;true&#8221;&#65292;&#21017;&#29992;&#25143;&#25353;&#19979; HOME &#38190;&#26102;&#25152;&#26377;&#22312;&#23427;&#20043;&#19978;&#30340; Activity&#65288;&#26412;&#20363;&#20013;&#26159;Q&#65289;&#37117;&#20250;&#34987;&#28165;&#38500;&#65292;&#20219;&#21153;&#23558;&#36827;&#20837;&#21518;&#21488;&#12290; &#22240;&#27492;&#29992;&#25143;&#22312;&#19979;&#27425;&#36820;&#22238;&#35813;&#20219;&#21153;&#26102;&#23601;&#21482;&#20250;&#30475;&#21040; P &#20102;&#12290;&#10;&#22914;&#26524;&#26412;&#23646;&#24615;&#21644;  allowTaskReparenting  &#37117;&#35774;&#20026;&#8220;true&#8221;&#65292;&#37027;&#20040;&#25152;&#26377;&#21487;&#25913;&#21464;&#20219;&#21153;&#24402;&#23646;&#30340; Activity &#37117;&#20250;&#36716;&#31227;&#21040;&#20855;&#26377;&#30456;&#21516; affinity &#30340;&#20219;&#21153;&#20013;&#21435;&#65292;&#20854;&#20313;&#30340; Activity &#37117;&#23558;&#22914;&#19978;&#25152;&#36848;&#34987;&#28165;&#38500;&#12290;&#10;**android:configChanges**&#10;&#21015;&#20986; Activity &#22312;&#21464;&#21270;&#26102;&#23558;&#20250;&#33258;&#34892;&#22788;&#29702;&#30340;&#37197;&#32622;&#21442;&#25968;&#12290; &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#22914;&#26524;&#36816;&#34892;&#26102;&#37197;&#32622;&#21457;&#29983;&#20102;&#21464;&#21270;&#65292; Activity &#20250;&#34987;&#20851;&#38381;&#24182;&#37325;&#21551;&#12290; &#20294;&#22312;&#26412;&#23646;&#24615;&#20013;&#22768;&#26126;&#37197;&#32622;&#21442;&#25968;&#23558;&#20250;&#38459;&#27490; Activity &#30340;&#37325;&#21551;&#65292;Activity &#23558;&#20250;&#20445;&#25345;&#36816;&#34892;&#65292;&#19988;&#20250;&#35843;&#29992;&#20854; onConfigurationChanged()&#26041;&#27861;&#12290;&#10;&#27880;&#24847;&#65306; &#35831;&#23613;&#37327;&#36991;&#20813;&#20351;&#29992;&#26412;&#23646;&#24615;&#65292;&#36825;&#21482;&#33021;&#29992;&#20316;&#26368;&#21518;&#30340;&#25163;&#27573;&#12290; &#20851;&#20110;&#22914;&#20309;&#27491;&#30830;&#22788;&#29702;&#37197;&#32622;&#21464;&#21270;&#24341;&#36215;&#30340;&#37325;&#21551;&#65292;&#35814;&#24773;&#35831;&#21442;&#38405; &#22788;&#29702;&#36816;&#34892;&#26102;&#37197;&#32622;&#30340;&#21464;&#21270;&#12290;&#10;&#10;&#19979;&#38754;&#21015;&#20986;&#26412;&#23646;&#24615;&#21487;&#22635;&#20837;&#30340;&#20540;&#65292;&#22810;&#20010;&#20540;&#20043;&#38388;&#29992;&#8220;|&#8221;&#20998;&#38548; &#8212; &#20363;&#22914;&#8220;locale|navigation|orientation&#8221;&#12290;&#10;| &#20540; | &#35828;&#26126; |&#10;|:----:|:----:|&#10;|&#34;mcc&#34;| IMSI &#31227;&#21160;&#22269;&#23478;&#20195;&#30721;&#65288;MCC&#65289;&#21457;&#29983;&#25913;&#21464; &#8212; &#26816;&#27979;&#21040; SIM &#21345;&#24182;&#26356;&#26032;&#20102; MCC&#12290;|&#10;|&#34;mnc&#34;| IMSI&#31227;&#21160;&#32593;&#32476;&#20195;&#30721;&#65288;MNC&#65289;&#21457;&#29983;&#25913;&#21464;&#8212;&#8212;&#26816;&#27979;&#21040; SIM &#21345;&#24182;&#26356;&#26032;&#20102; MNC&#12290;|&#10;|&#34;locale&#34;|  &#22320;&#21306;&#21457;&#29983;&#25913;&#21464;&#8212;&#8212;&#29992;&#25143;&#36873;&#25321;&#20102;&#26032;&#30340;&#35821;&#35328;&#65288;&#29992;&#20110;&#25991;&#26412;&#26174;&#31034;&#65289;&#12290;|&#10;|&#34;touchscreen&#34;  |&#35302;&#25720;&#23631;&#21457;&#29983;&#25913;&#21464;&#65288;&#36890;&#24120;&#19981;&#21487;&#33021;&#21457;&#29983;&#65289;&#12290;|&#10;|&#34;keyboard&#34;|    &#38190;&#30424;&#21457;&#29983;&#25913;&#21464; &#8212; &#27604;&#22914;&#29992;&#25143;&#25554;&#20837;&#20102;&#22806;&#25509;&#38190;&#30424;&#12290;|&#10;|&#34;keyboardHidden&#34;   |&#38190;&#30424;&#21151;&#33021;&#21457;&#29983;&#25913;&#21464; &#8212; &#27604;&#22914;&#29992;&#25143;&#35753;&#30828;&#38190;&#30424;&#26174;&#31034;&#20986;&#26469;&#12290;|&#10;|&#34;navigation&#34;|  &#23548;&#33322;&#25163;&#27573;&#65288;&#36712;&#36857;&#29699;/D-Pad&#65289;&#21457;&#29983;&#20102;&#25913;&#21464;&#65288;&#36890;&#24120;&#19981;&#21487;&#33021;&#21457;&#29983;)&#12290;|&#10;|&#34;screenLayout&#34;|    &#23631;&#24149;&#24067;&#23616;&#21457;&#29983;&#20102;&#25913;&#21464; &#8212; &#21487;&#33021;&#26159;&#30001;&#20110;&#28608;&#27963;&#20102;&#20854;&#20182;&#26174;&#31034;&#23631;&#12290;|&#10;|&#34;fontScale&#34;    |&#23383;&#20307;&#32553;&#25918;&#20493;&#25968;&#21457;&#29983;&#20102;&#25913;&#21464; &#8212; &#29992;&#25143;&#36873;&#25321;&#20102;&#26032;&#30340;&#20840;&#23616;&#23383;&#20307;&#22823;&#23567;&#12290;|&#10;|&#34;uiMode&#34;   |&#29992;&#25143;&#30028;&#38754;&#27169;&#24335;&#21457;&#29983;&#20102;&#25913;&#21464; &#8212; &#21487;&#33021;&#26159;&#30001;&#20110;&#29992;&#25143;&#25226;&#35774;&#22791;&#25918;&#36827;&#26700;&#38754;/&#36710;&#29992;&#24213;&#24231;&#37324;&#65292;&#25110;&#32773;&#26159;&#21464;&#25104;&#20102;&#22812;&#38388;&#27169;&#24335;&#12290; &#35831;&#21442;&#38405; UiModeManager &#12290;&#33258;API &#32423;&#21035; 8 &#24320;&#22987;&#21152;&#20837;&#12290;|&#10;|&#34;orientation&#34;  |&#23631;&#24149;&#26041;&#21521;&#21457;&#29983;&#20102;&#25913;&#21464; &#8212; &#29992;&#25143;&#26059;&#36716;&#20102;&#35774;&#22791;&#12290; &#27880;&#24847;&#65306; &#22914;&#26524;&#24212;&#29992;&#31243;&#24207;&#30340;&#30446;&#26631;&#29256;&#26412;&#26159; API &#32423;&#21035; 13 &#20197;&#19978;&#30340;&#35805;&#65288;&#30001;  minSdkVersion &#21644; targetSdkVersion &#23646;&#24615;&#23450;&#20041;&#65289;&#65292;&#19988;&#39035;&#21516;&#26102;&#22768;&#26126;&#8220;screenSize&#34; &#21442;&#25968;&#65292;&#22240;&#20026;&#35774;&#22791;&#22312;&#27178;&#21521;/&#31446;&#21521;&#20999;&#25442;&#26102; screenSize &#21442;&#25968;&#20063;&#20250;&#21457;&#29983;&#25913;&#21464;&#12290; &#10;|&#10;|&#34;screenSize&#34;   |&#24403;&#21069;&#21487;&#29992;&#30340;&#23631;&#24149;&#23610;&#23544;&#21457;&#29983;&#25913;&#21464;&#12290; &#36825;&#34920;&#31034;&#24403;&#21069;&#21487;&#29992;&#30340;&#23631;&#24149;&#22823;&#23567;&#21457;&#29983;&#20102;&#25913;&#21464;&#65292;&#19982;&#24403;&#21069;&#23631;&#24149;&#38271;&#23485;&#27604;&#20363;&#26377;&#20851;&#65292;&#22240;&#27492;&#36825;&#20250;&#22312;&#29992;&#25143;&#25913;&#21464;&#20102;&#32437;&#27178;&#26041;&#21521;&#26102;&#21457;&#29983;&#12290; &#19981;&#36807;&#65292;&#22914;&#26524;&#29992;&#25143;&#31243;&#24207;&#30340;&#30446;&#26631;&#29256;&#26412;&#26159; API &#32423;&#21035; 12 &#20197;&#19979;&#26102;&#65292; Activity &#23558;&#24635;&#26159;&#33258;&#34892;&#22788;&#29702;&#26412;&#21442;&#25968;&#30340;&#21464;&#21270; &#65288;&#21363;&#20351;&#22312; Android 3.2 &#20197;&#19978;&#29256;&#26412;&#20013;&#36816;&#34892;&#65292;&#26412;&#21442;&#25968;&#30340;&#21464;&#21270;&#20063;&#19981;&#20250;&#23548;&#33268; Activity &#30340;&#37325;&#21551;&#65289;&#12290;&#33258; API &#32423;&#21035; 13 &#24320;&#22987;&#21152;&#20837;&#12290;|&#10;|&#34;smallestScreenSize&#34;   |&#23631;&#24149;&#30340;&#29289;&#29702;&#23610;&#23544;&#21457;&#29983;&#20102;&#25913;&#21464;&#12290; &#36825;&#31181;&#21464;&#21270;&#19982;&#23631;&#24149;&#30340;&#26041;&#21521;&#26080;&#20851;&#65292;&#22240;&#27492;&#21482;&#20250;&#22312;&#23631;&#24149;&#30495;&#23454;&#30340;&#29289;&#29702;&#22823;&#23567;&#21457;&#29983;&#21464;&#21270;&#26102;&#25165;&#20250;&#21457;&#29983;&#65292;&#27604;&#22914;&#20999;&#25442;&#21040;&#22806;&#25509;&#26174;&#31034;&#22120;&#12290; &#26412;&#21442;&#25968;&#30340;&#21464;&#21270;&#21644; smallestWidth &#21442;&#25968; &#30340;&#21464;&#21270;&#30456;&#21628;&#24212;&#12290; &#19981;&#36807;&#65292;&#22914;&#26524;&#24212;&#29992;&#31243;&#24207;&#30340;&#30446;&#26631;&#29256;&#26412;&#26159; API &#32423;&#21035; 12 &#20197;&#19979;&#65292; &#21017; Activity &#23558;&#24635;&#26159;&#33258;&#34892;&#22788;&#29702;&#26412;&#21442;&#25968;&#30340;&#21464;&#21270; &#65288;&#21363;&#20351;&#22312; Android 3.2 &#20197;&#19978;&#29256;&#26412;&#20013;&#36816;&#34892;&#65292;&#26412;&#21442;&#25968;&#30340;&#21464;&#21270;&#20063;&#19981;&#20250;&#23548;&#33268; Activity &#30340;&#37325;&#21551;&#65289;&#12290;&#33258; API &#32423;&#21035; 13 &#24320;&#22987;&#21152;&#20837;&#12290;|&#10;|&#34;layoutDirection&#34;  |Layout &#30340;&#26041;&#21521;&#25918;&#29983;&#20102;&#25913;&#21464;&#12290; &#20363;&#22914;&#65292;&#20174;&#24038;&#21040;&#21491;&#65288;LTR&#65289;&#21464;&#25104;&#20102;&#20174;&#21491;&#21040;&#24038;&#65288;RTL&#65289;&#12290; &#33258; API &#32423;&#21035; 17 &#24320;&#22987;&#21152;&#20837;&#12290;|&#10;&#25152;&#26377;&#20197;&#19978;&#21442;&#25968;&#30340;&#25913;&#21464;&#37117;&#20250;&#24433;&#21709;&#21040;&#24212;&#29992;&#31243;&#24207;&#24341;&#29992;&#30340;&#36164;&#28304;&#20540;&#12290; &#22240;&#27492;&#22312;&#35843;&#29992; onConfigurationChanged() &#26102;&#65292;&#36890;&#24120;&#38656;&#35201;&#37325;&#26032;&#35835;&#21462;&#19968;&#19979;&#25152;&#26377;&#30340;&#36164;&#28304;&#65288;&#21253;&#25324; View Layout&#12289;drawable &#31561;&#31561;&#65289;&#65292;&#20197;&#20415;&#27491;&#30830;&#24212;&#23545;&#21442;&#25968;&#30340;&#21464;&#21270;&#12290;&#10;**android:enabled**&#10;Activity &#33021;&#21542;&#34987;&#31995;&#32479;&#23454;&#20363;&#21270; &#8212; &#8220;true&#8221;&#34920;&#31034;&#21487;&#20197;&#65292;&#8220;false&#8221;&#34920;&#31034;&#19981;&#20801;&#35768;&#12290; &#40664;&#35748;&#20540;&#26159;&#8220;true&#8221;&#12290;&#10;```&#60;application&#62;``` &#20803;&#32032;&#25317;&#26377;&#33258;&#24049;&#30340; enabled &#23646;&#24615;&#65292;&#23427;&#36866;&#29992;&#20110;&#24212;&#29992;&#31243;&#24207;&#20013;&#25152;&#26377;&#30340;&#32452;&#20214;&#65292;&#21253;&#25324; Activity&#12290; &#31995;&#32479;&#35201;&#33021;&#22815;&#23454;&#20363;&#21270; Activity &#65292;  &#60; application &#62; &#21644;&#60; activity &#62;&#30340; enabled &#23646;&#24615;&#37117;&#24517;&#39035;&#35774;&#20026;&#8220;true&#8221;&#65288;&#36825;&#20063;&#37117;&#26159;&#40664;&#35748;&#20540;&#65289;&#12290; &#21482;&#35201;&#20854;&#20013;&#26377;&#19968;&#20010;&#26159;&#8220;false&#8221;&#65292; Activity &#23601;&#19981;&#33021;&#34987;&#23454;&#20363;&#21270;&#12290;&#10;**android:excludeFromRecents**&#10;Activity &#26159;&#21542;&#25490;&#38500;&#22312;&#29992;&#25143;&#26368;&#36817;&#35775;&#38382;&#24212;&#29992;&#31243;&#24207;&#30340;&#21015;&#34920;&#65288;&#8220;recent apps&#8221;&#65289;&#20043;&#22806; &#12290; &#20063;&#23601;&#26159;&#35828;&#65292;&#22914;&#26524;&#26412; Activity &#26159;&#26032;&#20219;&#21153;&#20013;&#30340;&#26681; Activity&#65292;&#21017;&#26412;&#23646;&#24615;&#30830;&#23450;&#20102;&#35813;&#20219;&#21153;&#26159;&#21542;&#19981;&#20986;&#29616;&#22312;&#26368;&#36817;&#24212;&#29992;&#31243;&#24207;&#21015;&#34920;&#20013;&#12290; &#22914;&#26524;&#35201;&#25490;&#38500;&#22312;&#21015;&#34920;&#22806;&#65292;&#23601;&#35774;&#20026;&#8220;true&#8221;&#12290; &#22914;&#26524;&#35201;&#21253;&#21547;&#22312;&#21015;&#34920;&#20013;&#65292;&#21017;&#35774;&#20026;&#8220;false&#8221;&#12290; &#40664;&#35748;&#20540;&#26159;&#8220;false&#8221;&#12290;&#10;**android:exported**&#10;Activity &#26159;&#21542;&#33021;&#34987;&#20854;&#20182;&#24212;&#29992;&#31243;&#24207;&#30340;&#32452;&#20214;&#21551;&#21160; &#8212;&#8220;true&#8221;&#34920;&#31034;&#21487;&#20197;&#65292;&#8220;false&#8221;&#34920;&#31034;&#19981;&#33021;&#12290; &#22914;&#26524;&#35774;&#20026;&#8220;false&#8221;&#65292;&#37027;&#20040; Activity &#20165;&#33021;&#34987;&#26412;&#24212;&#29992;&#31243;&#24207;&#25110;&#29992;&#25143;ID&#30456;&#21516;&#30340;&#24212;&#29992;&#31243;&#24207;&#30340;&#32452;&#20214;&#21551;&#21160;&#12290;&#10;&#40664;&#35748;&#20540;&#21462;&#20915;&#20110; Activity &#26159;&#21542;&#21253;&#21547; Intent &#36807;&#28388;&#22120;&#12290; &#22914;&#26524;&#19981;&#23384;&#22312;&#36807;&#28388;&#22120;&#65292;&#21017;&#24847;&#21619;&#30528; Activity &#21482;&#33021;&#36890;&#36807;&#25351;&#23450;&#20934;&#30830;&#30340;&#31867;&#21517;&#26469;&#21551;&#21160;&#12290; &#36825;&#34920;&#31034; Activity &#20165;&#38480;&#20110;&#24212;&#29992;&#31243;&#24207;&#20869;&#37096;&#20351;&#29992;&#65288;&#22240;&#20026;&#20854;&#20182;&#24212;&#29992;&#31243;&#24207;&#26080;&#27861;&#30693;&#36947;&#23427;&#30340;&#31867;&#21517;&#65289;&#12290; &#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#40664;&#35748;&#20540;&#26159;&#8220;false&#8221;&#12290; &#21478;&#19968;&#26041;&#38754;&#65292;&#21482;&#35201;&#23384;&#22312;&#19968;&#20010;&#20197;&#19978;&#30340;&#36807;&#28388;&#22120;&#65292;&#23601;&#24847;&#21619;&#30528; Activity &#24895;&#24847;&#34987;&#22806;&#37096;&#21551;&#21160;&#65292;&#36825;&#26102;&#40664;&#35748;&#20540;&#23601;&#26159;&#8220;true&#8221;&#12290;&#10;&#26412;&#23646;&#24615;&#24182;&#19981;&#26159;&#38480;&#21046; Activity &#21521;&#20854;&#20182;&#24212;&#29992;&#31243;&#24207;&#24320;&#25918;&#30340;&#21807;&#19968;&#25163;&#27573;&#12290; &#20320;&#36824;&#21487;&#20197;&#29992;&#26435;&#38480;&#26469;&#38480;&#21046;&#22806;&#37096;&#23545;&#35937;&#23545; Activity &#30340;&#21551;&#21160;&#65288;&#35831;&#21442;&#38405; permission &#23646;&#24615;&#65289;&#12290;&#10;**android:finishOnTaskLaunch**&#10;&#27599;&#24403;&#29992;&#25143;&#20877;&#27425;&#21551;&#21160;&#20219;&#21153;&#26102;&#65288;&#22312;&#20027;&#23631;&#24149;&#19978;&#36873;&#25321;&#35813;&#20219;&#21153;&#65289;&#65292;&#24050;&#23384;&#22312;&#30340; Activity &#23454;&#20363;&#26159;&#21542;&#24212;&#35813;&#20851;&#38381; &#8212; &#8220;true&#8221;&#34920;&#31034;&#38656;&#35201;&#20851;&#38381;&#65292;&#8220;false&#8221;&#34920;&#31034;&#19981;&#35201;&#20851;&#38381;&#12290; &#40664;&#35748;&#20540;&#26159;&#8220;false&#8221;&#12290;&#10;&#22914;&#26524;&#26412;&#23646;&#24615;&#21644; allowTaskReparenting &#37117;&#35774;&#20026;&#8220;true&#8221;&#65292;&#21017;&#26412;&#23646;&#24615;&#20248;&#20808;&#12290; Activity &#30340; affinity &#23558;&#34987;&#24573;&#30053;&#12290; Activity &#23558;&#19981;&#20250;&#25913;&#21464;&#24402;&#23646;&#30340;&#20219;&#21153;&#65292;&#32780;&#26159;&#34987;&#38144;&#27585;&#12290;&#10;**android:hardwareAccelerated**&#10;&#26159;&#21542;&#20026;&#26412; Activity &#24320;&#21551;&#30828;&#20214;&#21152;&#36895;&#28210;&#26579;&#21151;&#33021; &#8212;&#8220;true&#8221;&#34920;&#31034;&#24320;&#21551;&#65292;&#8220;false&#8221;&#34920;&#31034;&#20851;&#38381;&#12290; &#40664;&#35748;&#20540;&#26159;&#8220;false&#8221;&#12290;&#10;&#33258; Android 3.0 &#24320;&#22987;&#65292;&#24212;&#29992;&#31243;&#24207;&#21487;&#20197;&#20351;&#29992;&#30828;&#20214;&#21152;&#36895;&#30340; OpenGL &#28210;&#26579;&#22120;&#26469;&#25913;&#21892;&#24456;&#22810;&#24120;&#29992; 2D &#22270;&#24418;&#25805;&#20316;&#30340;&#24615;&#33021;&#12290; &#24403;&#30828;&#20214;&#21152;&#36895;&#28210;&#26579;&#24320;&#21551;&#26102;&#65292;&#22823;&#37096;&#20998; Canvas&#12289;Paint&#12289;Xfermode&#12289;ColorFilter&#12289;Shader &#21644; Camera &#20869;&#30340;&#25805;&#20316;&#37117;&#20250;&#34987;&#21152;&#36895;&#12290; &#21363;&#20351;&#24212;&#29992;&#31243;&#24207;&#27809;&#26377;&#26174;&#24335;&#35843;&#29992;&#31995;&#32479; OpenGL &#24211;&#65292;&#36825;&#20173;&#33021;&#20351;&#21160;&#30011;&#26356;&#21152;&#24179;&#28369;&#12289;&#23631;&#24149;&#28378;&#21160;&#20063;&#26356;&#21152;&#24179;&#39034;&#12289;&#25972;&#20307;&#21709;&#24212;&#24615;&#33021;&#33719;&#24471;&#25913;&#21892;&#12290; &#22240;&#20026;&#21551;&#29992;&#30828;&#20214;&#21152;&#36895;&#21151;&#33021;&#38656;&#35201;&#26356;&#22810;&#30340;&#36164;&#28304;&#65292;&#24212;&#29992;&#31243;&#24207;&#23558;&#28040;&#32791;&#26356;&#22810;&#30340; RAM &#12290;&#10;&#35831;&#27880;&#24847;&#65292;&#24182;&#38750;&#25152;&#26377;&#30340; OpenGL 2D &#25805;&#20316;&#37117;&#20250;&#34987;&#21152;&#36895;&#12290; &#22914;&#26524;&#24320;&#21551;&#20102;&#30828;&#20214;&#21152;&#36895;&#28210;&#26579;&#21151;&#33021;&#65292;&#35831;&#23545;&#24212;&#29992;&#31243;&#24207;&#36827;&#34892;&#27979;&#35797;&#65292;&#20197;&#30830;&#20445;&#28210;&#26579;&#30340;&#27491;&#24120;&#20351;&#29992;&#12290;&#10;**android:icon**&#10;&#20195;&#34920; Activity &#30340;&#22270;&#26631;&#12290; &#24403;&#38656;&#35201;&#22312;&#23631;&#24149;&#19978;&#29992;&#22270;&#26631;&#26469;&#34920;&#31034; Activity &#26102;&#65292;&#23558;&#20250;&#26174;&#31034;&#26412;&#22270;&#26631;&#12290; &#20363;&#22914;&#65292;&#22312;&#26700;&#38754;&#65288;launcher&#65289;&#31383;&#21475;&#20013;&#26174;&#31034;&#29992;&#20110;&#21551;&#21160;&#20219;&#21153;&#30340; Activity &#22270;&#26631;&#12290; &#22270;&#26631;&#24120;&#24120;&#20276;&#38543;&#30528;&#19968;&#20010;&#25991;&#26412;&#26631;&#31614;&#65288;&#35831;&#21442;&#38405;android:label&#23646;&#24615;&#65289;&#12290;&#10;&#26412;&#23646;&#24615;&#24517;&#39035;&#35774;&#20026;&#23545; drawable &#36164;&#28304;&#30340;&#24341;&#29992;&#65292;&#36164;&#28304;&#20869;&#21253;&#21547;&#20102;&#22270;&#29255;&#30340;&#23450;&#20041;&#12290; &#22914;&#26524;&#26410;&#35774;&#32622;&#26412;&#23646;&#24615;&#65292;&#21017;&#29992;&#20316;&#20026;&#20840;&#23616;&#35774;&#32622;&#30340;&#24212;&#29992;&#31243;&#24207;&#22270;&#26631;&#20195;&#26367;&#65288;&#35831;&#21442;&#38405; &#60; application &#62; &#20803;&#32032;&#30340; icon &#23646;&#24615;&#65289;&#12290;&#10;Activity &#30340;&#22270;&#26631; &#8212; &#26080;&#35770;&#26159;&#29992;&#26412;&#23646;&#24615;&#36824;&#26159;&#29992; &#60; application &#62; &#20803;&#32032;&#30340;&#23646;&#24615;&#35774;&#32622;&#30340; &#8212; &#37117;&#23558;&#21516;&#26102;&#20316;&#20026; Activity &#25152;&#26377; Intent &#36807;&#28388;&#22120;&#30340;&#32570;&#30465;&#22270;&#26631;&#65288;&#35831;&#21442;&#38405; &#60; intent-filter &#62; &#20803;&#32032;&#30340; icon &#23646;&#24615;&#12290;&#10;**android:label**&#10;&#20379;&#29992;&#25143;&#38405;&#35835;&#30340; Activity &#30340; Label&#12290; &#24403;&#24517;&#39035;&#21521;&#29992;&#25143;&#26631;&#35782; Activity &#26102;&#65292;&#26412; Label &#23558;&#26174;&#31034;&#22312;&#23631;&#24149;&#19978;&#12290; Label &#24120;&#24120;&#26159;&#36319;&#22312; Activity &#22270;&#26631;&#21518;&#38754;&#26174;&#31034;&#30340;&#12290;&#10;&#22914;&#26524;&#26410;&#35774;&#32622;&#26412;&#23646;&#24615;&#65292;&#21017;&#29992;&#20316;&#20026;&#20840;&#23616;&#35774;&#32622;&#30340;&#24212;&#29992;&#31243;&#24207;  Label &#20195;&#26367;&#65288;&#35831;&#21442;&#38405; ```&#60;application&#62;``` &#20803;&#32032;&#30340; label &#23646;&#24615;&#65289;&#12290;&#10;&#65313;ctivity&#12288;&#30340; Label &#8212; &#26080;&#35770;&#26159;&#29992;&#26412;&#23646;&#24615;&#36824;&#26159;&#29992;``` &#60;application&#62;``` &#20803;&#32032;&#30340;&#23646;&#24615;&#35774;&#32622;&#30340; &#8212; &#37117;&#23558;&#20316;&#20026; Activity &#25152;&#26377; Intent &#36807;&#28388;&#22120;&#30340;&#32570;&#30465; Label&#65288;&#35831;&#21442;&#38405; ```&#60;intent-filter&#62; ```&#20803;&#32032;&#30340; label &#23646;&#24615;&#65289;&#12290;&#10;Label &#24212;&#35774;&#20026;&#19968;&#20010;&#23545;&#23383;&#31526;&#20018;&#36164;&#28304;&#30340;&#24341;&#29992;&#65292;&#36825;&#26679;&#23601;&#33021;&#20687;&#20854;&#20182;&#29992;&#25143;&#30028;&#38754;&#20869;&#30340;&#23383;&#31526;&#20018;&#19968;&#26679;&#23545;&#20854;&#36827;&#34892;&#26412;&#22320;&#21270;&#12290; &#19981;&#36807;&#65292;&#32771;&#34385;&#21040;&#24320;&#21457;&#26102;&#30340;&#20415;&#21033;&#24615;&#65292;&#20063;&#21487;&#20197;&#30452;&#25509;&#23558;&#20854;&#35774;&#20026;&#23383;&#31526;&#20018;&#12290;&#10;**android:launchMode**&#10;&#25351;&#26126; Activity &#30340;&#21551;&#21160;&#27169;&#24335;&#12290; &#24403;&#35843;&#29992; Activity &#26469;&#22788;&#29702; Intent &#26102;&#65292; Activity &#30340;&#24037;&#20316;&#27169;&#24335;&#19982;&#22235;&#31181;&#26631;&#24535;&#65288;FLAG_ACTIVITY_*&#24120;&#37327;&#26377;&#20851;&#65292;&#36825;&#20123;&#24120;&#37327;&#22312; Intent &#20013;&#23450;&#20041;&#12290;&#23427;&#20204;&#26159;&#65306;&#10;&#8220;standard&#8221;&#10;&#8220;singleTop&#8221;&#10;&#8220;singleTask&#8221;&#10;&#8220;singleInstance&#8221;&#10;&#32570;&#30465;&#27169;&#24335;&#26159;&#8220;standard&#8221;&#12290;&#10;&#22914;&#19979;&#34920;&#25152;&#36848;&#65292;&#36825;&#20123;&#27169;&#24335;&#24402;&#20026;&#20004;&#32452;&#65306; &#8220;standard&#8221;&#21644;&#8220;singleTop&#8221;&#27169;&#24335;&#30340; Activity &#20026;&#19968;&#32452;&#65292;  &#8220;singleTask&#8221;&#21644;&#8220;singleInstance&#8221;&#27169;&#24335;&#30340; Activity &#20026;&#21478;&#19968;&#32452;&#12290; &#29992;&#8220;standard&#8221;&#25110;&#8220;singleTop&#8221;&#27169;&#24335;&#21551;&#21160;&#30340; Activity &#21487;&#20197;&#34987;&#23454;&#20363;&#21270;&#22810;&#27425;&#12290; &#36825;&#20123;&#23454;&#20363;&#21487;&#20197;&#23646;&#20110;&#20219;&#20309;&#19968;&#20010;&#20219;&#21153;&#65292;&#24182;&#19988;&#21487;&#20197;&#22788;&#20110; Activity &#26632;&#30340;&#20219;&#20309;&#20301;&#32622;&#12290; &#20856;&#22411;&#24773;&#20917;&#19979;&#65292;&#23427;&#20204;&#34987;&#20219;&#21153;&#36890;&#36807;&#35843;&#29992; startActivity() &#21551;&#21160;&#24182;&#32622;&#20837;&#20854;&#20013;&#65288;&#38500;&#38750; Intent &#23545;&#35937;&#21253;&#21547; FLAG_ACTIVITY_NEW_TASK &#26631;&#24535;&#65292;&#36825;&#31181;&#24773;&#20917;&#19979;&#20250;&#36873;&#21462;&#20854;&#20182;&#20219;&#21153; &#8212; &#35831;&#21442;&#38405; taskAffinity  &#23646;&#24615;&#65289;&#12290;&#10;&#30456;&#21453;&#65292;&#8220;singleTask&#8221;&#21644;&#8220;singleInstance&#8221;&#27169;&#24335;&#30340; Activity &#21482;&#33021;&#21551;&#21160;&#19968;&#20010;&#20219;&#21153;&#12290; &#23427;&#20204;&#24635;&#26159;&#20301;&#20110; Activity &#26632;&#30340;&#26681;&#37096;&#12290; &#19981;&#20165;&#22914;&#27492;&#65292;&#35774;&#22791;&#21516;&#26102;&#21482;&#20445;&#30041;&#19968;&#20010; Activity &#23454;&#20363; &#8212;  &#21482;&#21551;&#21160;&#19968;&#20010;&#20219;&#21153;&#12290;&#10;&#8220;standard&#8221;&#21644;&#8220;singleTop&#8221;&#27169;&#24335;&#20043;&#38388;&#21482;&#26377;&#19968;&#28857;&#19981;&#21516;&#65306; &#27599;&#27425;&#26377;&#8220;standard&#8221;&#27169;&#24335; Activity &#30340; Intent &#21457;&#29983;&#26102;&#65292; &#37117;&#20250;&#26032;&#24314;&#19968;&#20010; Activity &#31867;&#30340;&#23454;&#20363;&#26469;&#21709;&#24212;&#35813; Intent&#12290; &#27599;&#20010;&#23454;&#20363;&#21482;&#36127;&#36131;&#22788;&#29702;&#19968;&#20010; Intent &#12290; &#21516;&#29702;&#65292;singleTop &#27169;&#24335; Activity &#30340;&#26032;&#23454;&#20363;&#20063;&#21487;&#20197;&#29992;&#20110;&#22788;&#29702;&#26032;&#21457;&#29983;&#30340; Intent &#12290; &#19981;&#36807;&#65292;&#22914;&#26524;&#30446;&#26631;&#20219;&#21153;&#30340;&#26632;&#39030;&#24050;&#32463;&#23384;&#22312;&#35813; Activity&#12288;&#30340;&#23454;&#20363;&#20102;&#65292;&#21017;&#27492;&#23454;&#20363;&#23558;&#25910;&#21040;&#36825;&#20010;&#26032; Intent&#65288;&#22312; onNewIntent() &#37324;&#65289;&#65307;&#32780;&#19981;&#20250;&#20877;&#21019;&#24314;&#26032;&#30340;&#23454;&#20363;&#20102;&#12290; &#22312;&#20854;&#20182;&#24773;&#20917;&#19979; &#8212; &#27604;&#22914;&#30446;&#26631;&#20219;&#21153;&#20013;&#24050;&#23384;&#22312;&#8220;singleTop&#8221;&#27169;&#24335;&#30340; Activity &#20294;&#21364;&#19981;&#26159;&#22312;&#26632;&#39030;&#65292;&#25110;&#32773;&#22312;&#26632;&#39030;&#20294;&#21364;&#19981;&#26159;&#20301;&#20110;&#30446;&#26631;&#20219;&#21153;&#20013; &#8212; &#36824;&#26159;&#20250;&#21019;&#24314;&#26032;&#30340;&#23454;&#20363;&#24182;&#21387;&#20837;&#26632;&#39030;&#12290;&#10;&#8220;singleTask&#8221;&#21644;&#8220;singleInstance&#8221;&#27169;&#24335;&#20043;&#38388;&#20063;&#21482;&#26377;&#19968;&#28857;&#24046;&#21035;&#65306; &#8220;singleTask&#8221;&#27169;&#24335;&#30340; Activity &#20801;&#35768;&#20854;&#20182; Activity &#21152;&#20837;&#23427;&#30340;&#20219;&#21153;&#12290; &#23427;&#24635;&#26159;&#22788;&#20110;&#20219;&#21153;&#30340;&#26681;&#37096;&#65292;&#32780;&#20854;&#20182; Activity &#65288;&#24517;&#39035;&#26159;&#8220;standard&#8221;&#21644;&#8220;singleTop&#8221;&#27169;&#24335;&#30340; Activity &#65289;&#21487;&#20197;&#22312;&#23427;&#30340;&#20219;&#21153;&#20013;&#21551;&#21160;&#12290; &#30456;&#21453;&#65292;&#8220;singleInstance&#8221;&#27169;&#24335;&#30340; Activity &#23601;&#19981;&#20801;&#35768;&#20854;&#20182; Activity &#21152;&#20837;&#23427;&#30340;&#20219;&#21153;&#65292;&#23427;&#26159;&#20219;&#21153;&#37324;&#21807;&#19968;&#30340; Activity &#12290; &#22914;&#26524;&#23427;&#21551;&#21160;&#20102;&#20854;&#20182; Activity&#65292;&#20063;&#20250;&#34987;&#25918;&#20837;&#21478;&#19968;&#20010;&#20219;&#21153;&#20013; &#8212; &#31867;&#20284; Intent &#20013;&#35774;&#32622;&#20102; FLAG_ACTIVITY_NEW_TASK &#26631;&#24535;&#30340;&#24773;&#20917;&#12290;&#10;&#10;|  &#20351;&#29992;&#22330;&#21512; |    &#21551;&#21160;&#27169;&#24335; | &#22810;&#20010;&#23454;&#20363;&#65311;| &#27880;&#37322; |&#10;|:----:|:--:|:-----:|:-----:|&#10;| &#27491;&#24120;&#21551;&#21160;&#22823;&#22810;&#25968; Activity |    &#34;standard&#34;  |&#26159;  &#40664;&#35748;&#20540;&#12290;|&#31995;&#32479;&#24635;&#26159;&#22312;&#30446;&#26631;&#20219;&#21153;&#20013;&#21019;&#24314; Activity&#12288;&#30340;&#26032;&#23454;&#20363;&#24182;&#25226; Intent &#20256;&#20837;&#12290;|&#10;||&#34;singleTop&#34;   |&#26377;&#26465;&#20214;&#30340;   |&#22914;&#26524;&#30446;&#26631;&#20219;&#21153;&#30340;&#26632;&#39030;&#24050;&#32463;&#23384;&#22312;&#26412; Activity &#30340;&#23454;&#20363;&#65292;&#21017;&#31995;&#32479;&#36890;&#36807;&#35843;&#29992; onNewIntent() &#26041;&#27861;&#20256;&#20837; Intent&#65292;&#32780;&#19981;&#20877;&#21019;&#24314; Activity &#30340;&#26032;&#23454;&#20363;&#12290;|&#10;|&#29305;&#27530;&#21551;&#21160;&#27169;&#24335;&#65288;&#19981;&#24314;&#35758;&#22312;&#27491;&#24120;&#24773;&#20917;&#19979;&#20351;&#29992;&#65289;    |&#34;singleTask&#34;|  &#21542;   |&#31995;&#32479;&#22312;&#19968;&#20010;&#26032;&#20219;&#21153;&#30340;&#26681;&#37096;&#21019;&#24314; Activity &#24182;&#20256;&#20837; Intent &#12290; &#19981;&#36807;&#65292;&#22914;&#26524;&#26412; Activity &#30340;&#23454;&#20363;&#24050;&#32463;&#23384;&#22312;&#65292;&#31995;&#32479;&#23558;&#36890;&#36807;&#35843;&#29992;&#23427;&#30340; onNewIntent() &#26041;&#27861;&#26469;&#20256;&#20837; Intent&#65292;&#32780;&#19981;&#20877;&#21019;&#24314;&#26032;&#30340;&#23454;&#20363;&#12290;&#10;||&#34;singleInstance&#34;| &#21542;   |&#38500;&#20102;&#31995;&#32479;&#19981;&#22312;&#23454;&#20363;&#25152;&#23646;&#20219;&#21153;&#20013;&#21551;&#21160;&#20854;&#20182; Activity &#20197;&#22806;&#65292;&#19982;&#8220;singleTask&#34;&#8221;&#30456;&#21516;&#12290; &#26412; Activity &#24635;&#26159;&#20854;&#20219;&#21153;&#20013;&#30340;&#21807;&#19968;&#25104;&#21592;&#12290;|&#10;&#22914;&#19978;&#34920;&#25152;&#36848;&#65292;standard&#26159;&#40664;&#35748;&#27169;&#24335;&#65292;&#36866;&#29992;&#20110;&#22823;&#22810;&#25968;&#31867;&#22411;&#30340; Activity &#12290; SingleTop &#20063;&#26159;&#24120;&#29992;&#30340;&#21551;&#21160;&#27169;&#24335;&#65292;&#36866;&#29992;&#20110;&#22810;&#31181; Activity &#12290; &#20854;&#20182;&#27169;&#24335; &#8212; singleTask &#21644; singleInstance &#8212; &#23545;&#20110;&#22823;&#22810;&#25968;&#24212;&#29992;&#31243;&#24207;&#32780;&#35328;&#24182;&#19981;&#36866;&#29992;&#65292; &#22240;&#20026;&#23427;&#20204;&#30340;&#29992;&#25143;&#20132;&#20114;&#27169;&#24335;&#19982;&#20854;&#20182;&#22810;&#25968;&#24212;&#29992;&#22823;&#19981;&#30456;&#21516;&#65292;&#24456;&#21487;&#33021;&#20250;&#35753;&#29992;&#25143;&#24863;&#21040;&#38476;&#29983;&#12290;&#10;&#26080;&#35770;&#36873;&#25321;&#20102;&#21738;&#31181;&#21551;&#21160;&#27169;&#24335;&#65292;&#37117;&#35201;&#30830;&#20445;&#23545; Activity &#30340;&#21487;&#29992;&#24615;&#36827;&#34892;&#27979;&#35797;&#65292;&#21253;&#25324; Activity &#21551;&#21160;&#36807;&#31243;&#12289;&#20174;&#20854;&#20182; Activity &#21644;&#20219;&#21153;&#20013;&#29992; Back  &#38190;&#36820;&#22238;&#30340;&#36807;&#31243;&#12290;&#10;&#20851;&#20110;&#21551;&#21160;&#27169;&#24335;&#21450;&#20854;&#19982; Intent &#26631;&#24535;&#20301;&#30340;&#20851;&#31995;&#65292;&#35814;&#24773;&#35831;&#21442;&#38405;&#25991;&#26723; &#20219;&#21153;&#21644; Back &#26632;&#12290;&#10;**android:multiprocess**&#10;&#26159;&#21542;&#21487;&#20197;&#25226; Activity &#30340;&#23454;&#20363;&#25918;&#20837;&#21551;&#21160;&#23427;&#30340;&#32452;&#20214;&#25152;&#22312;&#30340;&#36827;&#31243;&#20013;&#12290; &#8212; &#8220;true&#8221;&#34920;&#31034;&#21487;&#20197;&#65292;&#8220;false&#8221; &#34920;&#31034;&#19981;&#21487;&#20197;&#12290; &#40664;&#35748;&#20540;&#26159;&#8220;false&#8221;&#12290;&#10;&#36890;&#24120;&#24773;&#20917;&#19979;&#65292; Activity &#30340;&#26032;&#23454;&#20363;&#20250;&#25918;&#20837;&#24212;&#29992;&#31243;&#24207;&#25351;&#23450;&#30340;&#36827;&#31243;&#20013;&#65292;&#25152;&#20197; Activity &#30340;&#25152;&#26377;&#23454;&#20363;&#37117;&#36816;&#34892;&#22312;&#21516;&#19968;&#20010;&#36827;&#31243;&#20013;&#12290; &#28982;&#32780;&#65292;&#22914;&#26524;&#26412;&#23646;&#24615;&#35774;&#20026;&#8220;true&#8221;&#65292; Activity &#30340;&#36827;&#31243;&#23601;&#21487;&#20197;&#22312;&#22810;&#20010;&#36827;&#31243;&#20013;&#36816;&#34892;&#65292; &#36825;&#23601;&#20801;&#35768;&#31995;&#32479;&#22312;&#20219;&#20309;&#38656;&#35201;&#29992;&#21040;&#35813; Activity &#30340;&#36827;&#31243;&#20013;&#65288;&#26435;&#38480;&#20801;&#35768;&#26102;&#65289;&#21019;&#24314;&#23454;&#20363;&#65292;&#23613;&#31649;&#36825;&#20063;&#35768;&#27704;&#36828;&#37117;&#29992;&#19981;&#21040;&#12290;&#10;**android:name**&#10;&#23454;&#29616; Activity &#30340;&#31867;&#21517;&#65292; &#20063;&#21363; Activity &#30340;&#23376;&#31867;&#12290; &#26412;&#23646;&#24615;&#20540;&#24212;&#35813;&#26159;&#19968;&#20010;&#23436;&#20840;&#38480;&#23450;&#30340;&#31867;&#21517;&#65288;&#27604;&#22914;&#8220;com.example.project.ExtracurricularActivity&#8221;&#65289;&#12290; &#19981;&#36807;&#20316;&#20026;&#31616;&#31216;&#65292;&#22914;&#26524;&#21517;&#31216;&#30340;&#39318;&#23383;&#31526;&#26159;&#21477;&#28857;&#65288;&#27604;&#22914;&#8220;.ExtracurricularActivity&#8221;&#65289;&#65292;&#37027;&#20040; &#60; manifest &#62; &#20803;&#32032;&#20013;&#35774;&#32622;&#30340;&#21253;&#21517;&#20250;&#33258;&#21160;&#21152;&#21040;&#21069;&#38754;&#12290;&#10;&#24212;&#29992;&#31243;&#24207;&#19968;&#32463;&#21457;&#24067;&#65292;&#23601; &#19981;&#24212;&#35813;&#20462;&#25913;&#26412;&#21517;&#31216; &#65288;&#38500;&#38750;&#35774;&#32622;&#20102;android:exported=&#34;false&#34;&#65289;&#12290;&#10;&#27809;&#26377;&#40664;&#35748;&#20540;&#65292;&#24517;&#39035;&#25351;&#23450;&#26412;&#23646;&#24615;&#12290;&#10;**android:noHistory**&#10;&#24403;&#29992;&#25143;&#31163;&#24320;&#19988;&#23631;&#24149;&#19978;&#24050;&#30475;&#19981;&#21040; Activity &#26102;&#65292;&#26159;&#21542;&#35201;&#20174;&#26632;&#20013;&#28165;&#38500;&#24182;&#32467;&#26463;&#65288;&#35843;&#29992;&#20854; finish() &#26041;&#27861;&#65289;&#23427; &#8212; &#8220;true&#8221;&#34920;&#31034;&#38656;&#35201;&#32467;&#26463;&#65292;&#8220;false&#8221;&#34920;&#31034;&#19981;&#35201;&#32467;&#26463;&#12290; &#40664;&#35748;&#20540;&#26159;&#8220;false&#8221;&#12290;&#10;&#27492;&#20540;&#20026;&#8220;true&#8221;&#24847;&#21619;&#30528; Activity &#19981;&#20250;&#30041;&#19979;&#21382;&#21490;&#35760;&#24405;&#12290; &#20219;&#21153;&#19981;&#20250;&#22312;&#26632;&#20013;&#20445;&#30041;&#27492; Activity &#65292;&#22240;&#27492;&#29992;&#25143;&#20063;&#23558;&#26080;&#27861;&#36820;&#22238;&#23427;&#12290;&#10;&#26412;&#23646;&#24615;&#33258; API &#32423;&#21035; 3 &#24320;&#22987;&#21152;&#20837;&#12290;&#10;**android:parentActivityName**&#10;&#23450;&#20041;&#26412; Activity &#30340;&#29238; Activity&#12290; &#26412;&#23646;&#24615;&#20540;&#24517;&#39035;&#19982;&#29238; Activity &#30340;&#31867;&#21517;&#19968;&#33268;&#65292;&#30001; ```&#60;activity&#62;``` &#20803;&#32032;&#30340; android:name &#23646;&#24615;&#23545;&#24212;&#12290;&#10;&#24403;&#29992;&#25143;&#28857;&#20987; ActionBar &#30340; Up &#25353;&#38062;&#26102;&#65292;&#31995;&#32479;&#23558;&#35835;&#21462;&#26412;&#23646;&#24615;&#20197;&#30830;&#23450;&#24212;&#35813;&#25171;&#24320;&#30340; Activity &#12290; &#21033;&#29992;&#26412;&#23646;&#24615;&#65292;&#31995;&#32479;&#36824;&#21487;&#20197;&#36890;&#36807; TaskStackBuilder &#29983;&#25104; Activity &#30340; back &#26632;&#12290;&#10;&#20026;&#20102;&#25903;&#25345; API 4~16 &#29256;&#26412;&#30340;&#31995;&#32479;&#65292;&#20320;&#20063;&#21487;&#20197;&#36890;&#36807; &#23450;&#20041;&#20102; &#34;android.support.PARENT_ACTIVITY&#34; &#30340; ```&#60;meta-data&#62;```  &#20803;&#32032;&#26469;&#22768;&#26126;&#29238; Activity&#65306;&#10;```&#60; activity&#10;  android:name=&#34;com.example.app.ChildActivity&#34;&#10;  android:label=&#34;@string/title_child_activity&#34;&#10; android:parentActivityName=&#34;com.example.myfirstapp.MainActivity&#34; &#62;&#10;    &#60; !-- Parent activity meta-data to support API level 4+ -- &#62;&#10;          android:name=&#34;android.support.PARENT_ACTIVITY&#34;&#10;        android:value=&#34;com.example.app.MainActivity&#34; / &#62;</span><br></pre></td></tr></table></figure>
<p>关于声明父 Activity 以支持 Up 导航的更多信息，请阅读 提供 Up 导航。<br>本属性自 API 级别 16 开始加入。<br><strong>android:permission</strong><br>要启动本 Activity 或者要用本 Activity 响应 Intent ，客户端必须拥有的权限名称。 如果 startActivity() 或 startActivityForResult() 的调用者没有被授权，那么它的 Intent 将不会传递给 Activity。<br>如果未设置本属性，则会把 &lt; application &gt; 元素的 permission 属性应用到本 Activity 上。 如果这两个属性都没有设置，那么 Activity 将不受权限保护。<br>关于权限的详细信息，请参阅介绍一文中的 权限 章节和另一篇文档 安全和权限。<br><strong>android:process</strong><br>将要运行 Activity 的进程名称。 通常，同一个应用程序的所有组件都会运行在应用启动时的默认进程中，你不需要用到本属性。 不过必要的时候，可以用本属性覆盖缺省的进程名称，你就可以让应用程序的多个组件分开运行于多个进程中。<br>如果赋予本属性的名称是以冒号（’:’）开头的，那么在必要的时候会新建一个属于应用程序的私有进程， Activity 将运行于该进程中。 如果进程名称以小写字母开头，则 Activity 将运行于一个以该名称命名的全局进程中，并赋予应有的权限。 这就允许不同应用程序的组件共享同一个进程，以|减少资源的占用。<br>&lt; application &gt; 元素的 process 属性可以为全体组件设置默认的进程名称。<br><strong>android:screenOrientation</strong><br>Activity 在设备上的显示方向。<br>属性值可以设为以下字符串之一：<br>|值|说明|<br>|  ————  |  ———-  |<br>| “unspecified” |    默认值。由系统选择方向。选择的策略、进而根据特定的内容做出的选择，可能因不同的设备而各不相同。|<br>|”behind”   |与 Activity 栈中下方相邻的 Activity 方向相同。|<br>|”landscape”    | 横向（宽度大于高度）。|<br>|”portrait” |   纵向（高度大于宽度）。|<br>|”reverseLandscape”  | 与正常方向相反的横向。自 API 级别 9 开始加入。|<br>|”reversePortrait”  | 与正常方向相反的纵向。自 API 级别 9 开始加入。|<br>|”sensorLandscape”  | 横向，但基于设备传感器，既可能是正常横向也可能是反向横向。自 API 级别 9 开始加入。|<br>|”sensorPortrait” |     纵向，但基于设备传感器，既可能是正常纵向也可能是反向纵向。自 API 级别 9 开始加入。|<br>|”userLandscape”     | 横向，但基于设备传感器和用户的传感器设置，既可能是正常横向也可能是反向横向。 如果用户锁定了基于传感器的旋转，则本属性与landscape作用一样，否则就与sensorLandscape一样。 自 API 级别 18 开始加入。|<br>|”userPortrait”  | 纵向，但基于设备传感器和用户的传感器设置，既可能是正常纵向也可能是反向纵向。 如果用户锁定了基于传感器的旋转，则本属性与portrait作用一样，否则就与sensorPortrait一样。 自 API 级别 18 开始加入。|<br>|”sensor”    | 由设备的方向传感器来确定方向。 显示的方向取决于用户如何放置设备，当用户旋转设备时就会发生改变。 不过，有些设备默认情况下无法旋转至全部四个方向。 要允许使用全部4个方向，请用“ “fullSensor””属性。|<br>|”fullSensor”    | 由设备的方向传感器确定为四个方向中的一个。 这类似于“sensor”，只是可以是四个方向中的任意一个，而不论设备正常情况如何 （比如，有些设备通常不会使用横向反向和纵向反向，但这个属性可以启用）。 自 API 级别 9 开始加入。|<br>|”nosensor”  | 不根据物理上的方向传感器来确定方向。 传感器将会被忽略，因此用户移动设备时显示方式不会旋转。 除此之外，系统使用与“unspecified”属性相同的原则来选择方向。|<br>|”user” | 用户当前所用的方向。|<br>|”fullUser”  |  如果用户锁定了基于传感器的旋转，本属性与user的作用相同。 否则，与fullSensor的作用相同，允许使用四个方向。 自 API 级别 18 开始加入。|<br>|”locked”    | 锁定为当前方向，无论当前是什么方向。自 API 级别 18 开始加入。|</p>
<blockquote>
<p>注意： 一旦声明了横向或纵向值，则视为对 Activity 运行的方向有强制要求。 这时，此声明值将启用 Google Play 之类服务的过滤功能，于是应用程序就只能在支持所需方向的设备上使用。 比如，如果声明了“landscape”、“reverseLandscape”或者“sensorLandscape”， 则应用程序将只能在支持横向显示的设备上使用。 不过，你还可以用 &lt; uses-feature &gt; 元素来显式声明应用程序同时需要横向和纵向模式。 这样就会取消 Google Play（以及其他提供过滤的服务）的过滤行为， 即使设备仅支持特定的方向，系统也不会对是否安装应用程序进行控制了。</p>
</blockquote>
<p><strong>android:stateNotNeeded</strong><br>未经保存状态， Activity 是否可被杀死并能够成功重启 —“true”表示可以不管之前的状态而被重启， “false” 表示需要保存之前的状态。 默认值是“false”。<br>通常，在为了腾出资源而临时关闭 Activity 之前，将会调用 onSaveInstanceState() 方法。该方法把当前 Activity 的状态存储到一个 Bundle 对象中，重新启动 Activity 时该 Bundle 对象将会被传给 onCreate() 。如果本属性设为“true”，则onSaveInstanceState() 可能就不会被调用，传入onCreate() 的将为 null 而非 Bundle — 就像第一次启动 Activity 一样。<br>本属性设为“true”将确保 Activity 能未经保存状态而被重启。 比如，显示主屏幕的 Activity 就利用本属性来保证由于某种原因崩溃时不会被清除。<br><strong>android:taskAffinity</strong><br>带有 affinity 的 Activity 所处的任务。 拥有相同 affinity 的 Activity 在概念上属于同一个任务（从用户的角度来看被视为同一个应用程序）。 任务的 affinity 取决于其根 Activity 的 affinity。<br>affinity 决定两件事情 — Activity 要重新归属于的任务（参阅 allowTaskReparenting 属性）和通过 FLAG_ACTIVITY_NEW_TASK 标志启动的 Activity 所处的任务。<br>默认情况下，同一个应用程序中的所有 Activity 都拥有相同的 affinity。 通过设置本属性，可以把 Activity 分为不同的组，甚至可以把不同应用程序的 Activity 放入同一个任务里。 要把 Activity 设置为不带 affinity ，也即不属于任何任务，只要将本属性设为空字符串即可。<br>如果未设置本属性，那么 Activity 将会继承应用程序的 affinity 设置（请参阅 &lt; application &gt; 元素的 taskAffinity 属性）。应用程序默认的 affinity 名称是由 &lt; manifest &gt; 元素设置的包名称。<br><strong>android:theme</strong><br>这是一个对样式资源的引用，该资源定义了 Activity 的整体主题（theme）。 Activity 将自动适用本属性设置的主题。（请参阅 setTheme() ），并可能会触发 Activity 的“启动”动画效果（为了让 Activity 看上去更美观协调）。<br>如果未设置本属性，Activity 将会继承作为全局设置的应用程序的主题 — 参见 元素的 theme 属性。如果应用程序也未设置该属性，则使用默认的系统主题。 详情请参阅样式和主题开发指南。<br><strong>android:uiOptions</strong><br>用于 Activity 用户界面的附加选项。<br>只能是以下值之一。<br>|   值   |说明|<br>|:——-:|:——:|<br>|”none”|    没有附加选项。这是默认值。|<br>|”splitActionBarWhenNarrow” |当横向空间不足时（比如手机处于纵向模式时），在屏幕底部增加一个导航条，显示 ActionBar 中的 Action 项。Action Bar 将拆分为顶部和底部导航条，而不是只在屏幕顶部显示少量 Action 项。 这样就保证了合理的可用空间，不仅可容纳 Action Bar，还可以在顶部显示导航条和标题。 菜单项不会拆开在两个导航条显示，而一定是放在一起显示的。|<br>关于 Action Bar 的更多信息，请参阅 Action Bar 开发指南。<br>本属性自 API 级别 14 开始引入。<br><strong>android:windowSoftInputMode</strong><br>Activity 主窗口如何与显示软键盘的窗口进行交互。 本属性影响两件事情：<br>软键盘的状态 — 当 Activity 获得用户焦点时，是隐藏还是显示。<br>Activity 主窗口的调整 — 是否缩小窗口以便为软键盘腾出空间，或者在软键盘覆盖部分窗口时移动显示内容，以便显示当前的输入焦点。<br>本设置只能是下表所列值之一，或者是一个“state…”值与一个“adjust…”值的组合。 如果在每个组中设置多于一个的值 — 比如多个“state…”值 — 则会导致不可预知的结果。 每个值之间用竖线（|）分隔。 例如：<br><figure class="highlight"><figcaption><span>activity android:windowSoftInputMode="stateVisible|adjustResize" . . . >```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#20197;&#19979;&#20540;&#23558;&#35206;&#30422;&#20027;&#39064;&#20013;&#30340;&#30456;&#20851;&#35774;&#32622;&#10;&#65288;&#8220;stateUnspecified&#8221;&#21644;&#8220;adjustUnspecified&#8221;&#38500;&#22806;&#65289;&#10;&#10;|&#20540;  |&#35828;&#26126;|&#10;|:----:|:------:|&#10;|&#34;stateUnspecified&#34; |&#36719;&#38190;&#30424;&#30340;&#29366;&#24577;&#65288;&#38544;&#34255;&#25110;&#26174;&#31034;&#65289;&#26410;&#25351;&#23450;&#12290;&#30001;&#31995;&#32479;&#36873;&#25321;&#21512;&#36866;&#30340;&#29366;&#24577;&#65292;&#25110;&#30001;&#20027;&#39064;&#20013;&#30340;&#35774;&#32622;&#26469;&#20915;&#23450;&#12290;&#36825;&#26159;&#36719;&#38190;&#30424;&#30340;&#40664;&#35748;&#35774;&#32622;&#12290;|&#10;|&#34;stateUnchanged&#34;|  &#24403; Activity &#36827;&#20837;&#21069;&#21488;&#26102;&#65292;&#36719;&#38190;&#30424;&#20445;&#25345;&#20043;&#21069;&#30340;&#29366;&#24577;&#19981;&#21464;&#65292;&#26080;&#35770;&#38544;&#34255;&#36824;&#26159;&#26174;&#31034;&#12290;|&#10;|&#34;stateHidden&#34;| &#24403;&#29992;&#25143;&#36873;&#20013;&#26412; Activity &#26102;&#38544;&#34255;&#36719;&#38190;&#30424; &#8212; &#20063;&#21363;&#29992;&#25143;&#30830;&#23454;&#26159;&#21069;&#36827;&#21040;&#26412; Activity &#26102;&#65292;&#32780;&#19981;&#26159;&#31163;&#24320;&#20854;&#20182; Activity &#22238;&#36864;&#36807;&#26469;&#26102;&#12290;|&#10;|&#34;stateAlwaysHidden&#34;    |&#24403; Activity &#30340;&#20027;&#31383;&#21475;&#33719;&#24471;&#36755;&#20837;&#28966;&#28857;&#26102;&#65292;&#24635;&#26159;&#38544;&#34255;&#36719;&#38190;&#30424;&#12290;|&#10;|&#34;stateVisible&#34; |&#19968;&#33324;&#24773;&#20917;&#19979;&#26174;&#31034;&#36719;&#38190;&#30424;&#65288;&#24403;&#29992;&#25143;&#36827;&#20837; Activity &#20027;&#31383;&#21475;&#26102;&#65289;&#12290;|&#10;|&#34;stateAlwaysVisible&#34;|  &#24403;&#29992;&#25143;&#36873;&#20013;&#26412; Activity &#26102;&#26174;&#31034;&#36719;&#38190;&#30424; &#8212; &#20063;&#21363;&#29992;&#25143;&#30830;&#23454;&#26159;&#21069;&#36827;&#21040;&#26412; Activity &#26102;&#65292;&#32780;&#19981;&#26159;&#31163;&#24320;&#20854;&#20182; Activity &#22238;&#36864;&#36807;&#26469;&#26102;&#12290;|&#10;|&#34;adjustUnspecified&#34;|   &#26410;&#25351;&#23450;&#26159;&#21542;&#35843;&#25972;&#65306;Activity &#20027;&#31383;&#21475;&#26159;&#21542;&#35201;&#20026;&#36719;&#38190;&#30424;&#30041;&#20986;&#31354;&#38388;&#32780;&#25913;&#21464;&#22823;&#23567;&#12289;&#36824;&#26159;&#22312;&#36719;&#38190;&#30424;&#35206;&#30422;&#37096;&#20998;&#31383;&#21475;&#26102;&#25110;&#31227;&#21160;&#26174;&#31034;&#20869;&#23481;&#20197;&#20415;&#26174;&#31034;&#24403;&#21069;&#36755;&#20837;&#28966;&#28857;&#12290; &#26681;&#25454;&#31383;&#21475;&#20013;&#26174;&#31034;&#30340;&#20869;&#23481;&#26159;&#21542;&#20855;&#26377;&#21487;&#28378;&#21160;&#24067;&#23616;&#30340; View&#65292;&#31995;&#32479;&#23558;&#33258;&#21160;&#36873;&#25321;&#20854;&#20013;&#19968;&#31181;&#27169;&#24335;&#26469;&#22788;&#29702;&#12290; &#22914;&#26524;&#26159;&#36825;&#31867; View &#21017;&#31383;&#21475;&#23558;&#20250;&#32553;&#23567;&#65292;&#22240;&#20026;&#28378;&#21160;&#24067;&#23616;&#21487;&#20197;&#22312;&#36739;&#23567;&#30340;&#21306;&#22495;&#20869;&#26174;&#31034;&#23436;&#25972;&#30340;&#20869;&#23481;&#12290;&#36825;&#26159;&#20027;&#31383;&#21475;&#30340;&#40664;&#35748;&#35774;&#32622;&#12290;|&#10;|&#34;adjustResize&#34; |Activity &#30340;&#20027;&#31383;&#21475;&#24635;&#26159;&#20250;&#25913;&#21464;&#22823;&#23567;&#65292;&#20197;&#20415;&#20026;&#36719;&#38190;&#30424;&#33150;&#20986;&#23631;&#24149;&#31354;&#38388;&#12290;|&#10;|&#34;adjustPan&#34;|   Activity &#30340;&#20027;&#31383;&#21475;&#19981;&#20250;&#20026;&#36719;&#38190;&#30424;&#30041;&#20986;&#31354;&#38388;&#32780;&#25913;&#21464;&#22823;&#23567;&#65292;&#32780;&#26159;&#33258;&#21160;&#31227;&#21160;&#31383;&#21475;&#37324;&#30340;&#26174;&#31034;&#20869;&#23481;&#65292;&#20351;&#24471;&#24403;&#21069;&#36755;&#20837;&#28966;&#28857;&#19981;&#20250;&#34987;&#38190;&#30424;&#25377;&#20303;&#65292;&#29992;&#25143;&#20063;&#19968;&#30452;&#33021;&#22815;&#30475;&#35265;&#36755;&#20837;&#30340;&#20869;&#23481;&#12290; &#19968;&#33324;&#24773;&#20917;&#19979;&#26356;&#25512;&#33616;&#20351;&#29992; adjustResize &#27169;&#24335;&#65292;&#22240;&#20026;&#29992;&#25143;&#21487;&#33021;&#38656;&#35201;&#19982;&#34987;&#36974;&#25377;&#20869;&#23481;&#20132;&#20114;&#65292;&#36827;&#32780;&#20851;&#38381;&#36719;&#38190;&#30424;&#12290;&#10;&#26412;&#23646;&#24615;&#33258; API &#32423;&#21035; 3 &#24320;&#22987;&#24341;&#20837;&#10;&#24341;&#20837;&#33258;&#65306;&#10;noHistory &#21644; windowSoftInputMode &#33258; API &#32423;&#21035; 3 &#24320;&#22987;&#24341;&#20837;&#65292;&#20854;&#20313;&#33258; API &#32423;&#21035; 1 &#24320;&#22987;&#24341;&#20837;&#12290;&#10;&#21442;&#38405;&#65306;&#10;```&#60;application&#62;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;&#10;&#10;###```&#60;intent-filter&#62;</span><br></pre></td></tr></table></figure>
<p>我们可以看到在activity、receiver、service都包含了<code>&lt;intent-filter&gt;</code>标签，它有什么作用呢？<br>Intent Filter其实就是 用来注册 Activity 、 Service 和 Broadcast Receiver 具有能在某种数据上执行一个动作的能力。<br>使用 Intent Filter ，应用程序组件告诉 Android ，它们能为其它程序的组件的动作请求提供服务，包括同一个程序的组<br>件、本地的或第三方的应用程序。</p>
<p>它至少要包含一个<code>&lt;action&gt;</code>，代表了一个动作<br>(1) 如果<code>&lt;intent-filter&gt;</code>中没有包含任何Action类型，那么无论什么Intent请求都无法和这条<code>&lt;intent-filter&gt;</code>匹配；<br>(2) 反之，如果Intent请求中没有设定Action类型，那么只要<code>&lt;intent-filter&gt;</code>中包含有Action类型，这个Intent请求就将顺利地通过<code>&lt;intent-filter&gt;</code>的行为测试。</p>
<p>可以包含    <code>&lt;category&gt;</code>、<code>&lt;data&gt;</code>标签，分别代表类别匹配和数据匹配。</p>
<p>详情参考：<a href="http://blog.csdn.net/wuwenxiang91322/article/details/7671593" target="_blank" rel="external">http://blog.csdn.net/wuwenxiang91322/article/details/7671593</a></p>
<h2 id="更多">更多</h2><p>activity里面标签属性是最多的，其他标签大家可以自行查询SDK文档<br><a href="http://www.android-doc.com/guide/topics/manifest/manifest-intro.html" target="_blank" rel="external">http://www.android-doc.com/guide/topics/manifest/manifest-intro.html</a></p>
<p>光是一个AndroidManifest.xml文件涉及到内容就如此之多，初学者想要一下吃个胖子是不可能的事情，最好的办法是从最简单的学起，遇到不熟悉的标签属性的时候才去查询文档，笔者对里面的一些东西也不太熟悉，或者根本就没有使用过，只有当遇到一些问题的时候才会去查询，建议最好不要死记硬背，学到的时候才去查询，并且要结合具体场景，这样才能更好的掌握知识。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>AndroidManifest.xml这个文件在Android中很重要，包含了应用程序的所有配置，包含SDK版本、应用权限、四大组件、扩展数据等等，它包含很多标签，每个标签都有具体的作用，标签下都会有不同的属性，也有通用的属性，不同的属性可能会影响我们应用程序的效果，所以我]]>
    </summary>
    
      <category term="Android" scheme="http://www.devilwwj.com/tags/Android/"/>
    
      <category term="Android" scheme="http://www.devilwwj.com/categories/Android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[A005-AS项目结构解析]]></title>
    <link href="http://www.devilwwj.com/2015/08/10/A005-AS%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90/"/>
    <id>http://www.devilwwj.com/2015/08/10/A005-AS项目结构解析/</id>
    <published>2015-08-10T01:31:14.000Z</published>
    <updated>2015-08-10T01:33:37.000Z</updated>
    <content type="html"><![CDATA[<p>上一节课给大家介绍了如何使用AS进行开发我们的第一个Android应用程序——HelloWorld，本节课来给大家系统介绍一下在Android Studio中Android的项目结构是怎样的，每一个文件夹和文件具体含义是什么，在我们Android程序中有什么作用，大家不妨来看看接下来的内容。</p>
<p>我们创建了一个Android Project，打开就如下图所示：<br><img src="http://img.blog.csdn.net/20150808144606324" alt="项目全貌"></p>
<p>我们选择Project视图，就会有以下的项目文档结构：<br><img src="http://img.blog.csdn.net/20150808145148831" alt="Project视图"></p>
<p>上面笔者标注的数字是接下来要讲解的内容。<br>我们先来看1：<br>我们创建Application的时候，要求我们输入项目名称，1就是我们创建的项目，AndroidDevelopCourse是项目名称，在实际开发中，我们要为我们项目取一个能明确表达产品的名称，一般使用英文来描述，比如我们的课程是“<strong>Android开发课程</strong>”。1展开之后是我们完整的项目文档结构。</p>
<p>2： 我们的Android 模块，在AS当中，分为了Project（工作空间），Module（模块）两种概念，我们创建项目的时候会默认创建一个模块，这里的app就是我们的一个module，一个Android应用程序的文档结构。</p>
<p>3：libs，存放项目的类库，例如我们项目中用到的.jar文件。</p>
<p>4：src，Android项目的源文件目录，存放应用程序中所有用到的资源文件。</p>
<p>5：androidTest，存放我们应用程序单元测试代码，我们可以在这里进行单元测试。</p>
<p>6：main，Android项目的主目录，包含java目录存放.java源代码文件，res存放资源文件，包含图像、字符串资源等等，AndroidManifest.xml是项目的配置文件。</p>
<p>7：build.gradle，Android项目的Gradle构建脚本，详细解释看以下注释：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 表示使用com.android.application插件。</span></span><br><span class="line">apply plugin: <span class="string">'com.android.application'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置所有android构建过程需要的参数</span></span><br><span class="line">android &#123;</span><br><span class="line">    <span class="comment">// 用于编译的SDK版本</span></span><br><span class="line">    compileSdkVersion <span class="number">21</span></span><br><span class="line">    <span class="comment">// 用于Gradle编译项目的工具版本</span></span><br><span class="line">    buildToolsVersion <span class="string">"21.1.2"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 项目默认配置</span></span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        <span class="comment">// 应用程序包名</span></span><br><span class="line">        applicationId <span class="string">"com.devilwwj.androiddevelopcourse"</span></span><br><span class="line">        <span class="comment">// 最低支持Android版本</span></span><br><span class="line">        minSdkVersion <span class="number">14</span></span><br><span class="line">        <span class="comment">// 目标版本</span></span><br><span class="line">        targetSdkVersion <span class="number">21</span></span><br><span class="line">        <span class="comment">// 版本号</span></span><br><span class="line">        versionCode <span class="number">1</span></span><br><span class="line">        <span class="comment">// 版本名称</span></span><br><span class="line">        versionName <span class="string">"1.0"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 编译类型。默认两个：release和debug</span></span><br><span class="line">    buildTypes &#123;</span><br><span class="line">        release &#123;</span><br><span class="line">            <span class="comment">// 设置是否使用混淆</span></span><br><span class="line">            minifyEnabled <span class="keyword">false</span></span><br><span class="line">            <span class="comment">// 混淆文件</span></span><br><span class="line">            proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用于配置引用的依赖</span></span><br><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="keyword">compile</span> <span class="keyword">fileTree</span>(dir: <span class="string">'libs'</span>, <span class="keyword">include</span>: [<span class="string">'*.jar'</span>])</span><br><span class="line">    <span class="keyword">compile</span> <span class="string">'com.android.support:appcompat-v7:22.0.0'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>8：build，Android studio项目的编译目录。</p>
<p>9：gradle，存放项目用到的构建工具。</p>
<p>10：build.gradle，Android Studio项目的构建脚本<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Top-level build file where you can add configuration options common to all sub-projects/modules.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用于设置驱动构建过程的代码</span></span><br><span class="line"><span class="keyword">buildscript</span> &#123;</span><br><span class="line">    <span class="comment">// 远程仓库</span></span><br><span class="line">    <span class="keyword">repositories</span></span><br><span class="line">        <span class="comment">// 这里依赖的远程仓库是jcenter</span></span><br><span class="line">        jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 声明了使用Android Studio gradle插件版本。</span></span><br><span class="line">    <span class="keyword">dependencies</span> &#123;</span><br><span class="line">        <span class="keyword">classpath</span> <span class="string">'com.android.tools.build:gradle:1.0.0'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// NOTE: Do not place your application dependencies here; they belong</span></span><br><span class="line">        <span class="comment">// in the individual module build.gradle files</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">allprojects</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>11：External Libraries，显示项目所依赖的所有类库。<br><img src="http://img.blog.csdn.net/20150808152436661" alt="项目依赖库"></p>
<p>以上基本上就是完整的Android Studio项目的文档结构，有一些IDE的配置文件这里我们无需关注。</p>
<p>如果大家想了解更多更详细关于Android Studio的使用，可以到Android Studio中文社区<a href="http://www.android-studio.org/" target="_blank" rel="external">http://www.android-studio.org/</a>，那么本节课就到这里了，写下大家，下次再见。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>上一节课给大家介绍了如何使用AS进行开发我们的第一个Android应用程序——HelloWorld，本节课来给大家系统介绍一下在Android Studio中Android的项目结构是怎样的，每一个文件夹和文件具体含义是什么，在我们Android程序中有什么作用，大家不妨来]]>
    </summary>
    
      <category term="Android" scheme="http://www.devilwwj.com/tags/Android/"/>
    
      <category term="Android" scheme="http://www.devilwwj.com/categories/Android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[A004-AS开发HelloWorld]]></title>
    <link href="http://www.devilwwj.com/2015/08/10/A004-AS%E5%BC%80%E5%8F%91HelloWorld/"/>
    <id>http://www.devilwwj.com/2015/08/10/A004-AS开发HelloWorld/</id>
    <published>2015-08-10T01:30:29.000Z</published>
    <updated>2015-08-10T01:33:21.000Z</updated>
    <content type="html"><![CDATA[<p>前面的一节课已经给大家介绍了如何搭建Android开发环境。<br>本节课就来给大家介绍如何使用Android studio来开发我们第一个Android应用程序。</p>
<p><img src="http://img.blog.csdn.net/20150806001040909" alt="创建项目1"></p>
<p><img src="http://img.blog.csdn.net/20150806001114386" alt="创建项目2"></p>
<p><img src="http://img.blog.csdn.net/20150806001147450" alt="创建项目3"></p>
<p><img src="http://img.blog.csdn.net/20150806001221098" alt="创建项目4"></p>
<p><img src="http://img.blog.csdn.net/20150806001300397" alt="创建项目5"></p>
<p><img src="http://img.blog.csdn.net/20150806001325150" alt="创建项目6"></p>
<p><img src="http://img.blog.csdn.net/20150806001346252" alt="创建项目7"></p>
<p><img src="http://img.blog.csdn.net/20150806001401883" alt="创建项目8"></p>
<p>以后每一个项目都会上传到git@OSC中，大家可以down下来参考。<br>(<a href="http://git.oschina.net/devilwwj/AndroidDevelopCourse" target="_blank" rel="external">http://git.oschina.net/devilwwj/AndroidDevelopCourse</a>)</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>前面的一节课已经给大家介绍了如何搭建Android开发环境。<br>本节课就来给大家介绍如何使用Android studio来开发我们第一个Android应用程序。</p>
<p><img src="http://img.blog.csdn.net/201508060010]]>
    </summary>
    
      <category term="Android" scheme="http://www.devilwwj.com/tags/Android/"/>
    
      <category term="Android" scheme="http://www.devilwwj.com/categories/Android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[A003-Android开发环境搭建]]></title>
    <link href="http://www.devilwwj.com/2015/08/10/A003-Android%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <id>http://www.devilwwj.com/2015/08/10/A003-Android开发环境搭建/</id>
    <published>2015-08-10T01:30:04.000Z</published>
    <updated>2015-08-10T01:32:04.000Z</updated>
    <content type="html"><![CDATA[<p>上一节课给大家粗略的介绍了在实际开发当中会使用到的一些开发工具，本节课正式给大家介绍如何在我们的PC来大家开发环境，主要有两个步骤：</p>
<ol>
<li>配置JDK&amp;SDK环境变量</li>
<li>在Android Studio中配置project structure</li>
</ol>
<p>关于在windows下如何配置Android环境变量本节课不说，各位自己去百度，已经有很多总结得很好的文章，按照步骤来做就行。在Mac配置Android开发环境跟Windows系统下是类似的，都离不开配置PATH, 如下图：<br><img src="http://img.blog.csdn.net/20150805082217869" alt="/etc/profile"></p>
<h2 id="配置PATH">配置PATH</h2><p>PATH=”.;$PATH:$JAVA_HOME/bin:$ANT_HOME/bin:$SDK_HOME/tools:$SDK_HOME/platforms-tools:$SDK_HOME/build-tools”</p>
<blockquote>
<p>在mac下配置JDK：<a href="http://blog.csdn.net/wwj_748?viewmode=contents" target="_blank" rel="external">http://blog.csdn.net/wwj_748?viewmode=contents</a><br>windows下配置JDK环境变量<br>计算机-&gt;右键-&gt;属性-&gt;高级系统设置-&gt;环境变量<br>NAME:JAVA_HOME<br>VALUE:C:\Program Files\Java\jdk1.7.0_75</p>
</blockquote>
<p>以上配置完之后，我们可以在命令行去测试是否配置成功：<br><img src="http://img.blog.csdn.net/20150805082634821" alt="环境变量配置"></p>
<h2 id="配置Android_Studio">配置Android Studio</h2><p><img src="http://img.blog.csdn.net/20150805082945039" alt="Project Structure"></p>
<p>配置完毕之后，我们就可以使用AS来创建项目了，下一节课会告诉大家如何使用AS来开发我们的HelloWorld，谢谢大家。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>上一节课给大家粗略的介绍了在实际开发当中会使用到的一些开发工具，本节课正式给大家介绍如何在我们的PC来大家开发环境，主要有两个步骤：</p>
<ol>
<li>配置JDK&amp;SDK环境变量</li>
<li>在Android Studio中配置project stru]]>
    </summary>
    
      <category term="Android" scheme="http://www.devilwwj.com/tags/Android/"/>
    
      <category term="Android" scheme="http://www.devilwwj.com/categories/Android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[A002-开发工具介绍]]></title>
    <link href="http://www.devilwwj.com/2015/08/05/A002-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D/"/>
    <id>http://www.devilwwj.com/2015/08/05/A002-开发工具介绍/</id>
    <published>2015-08-05T03:02:19.000Z</published>
    <updated>2015-08-10T01:29:36.000Z</updated>
    <content type="html"><![CDATA[<p>关于Android的开发工具有很多，基本上都可以在SDK中找到，下面我们逐个来看一下：</p>
<p>首先我们使用的是Java语言进行Android应用的开发，那么Java的运行环境是少不了的了，我们需要在我们的PC中配置好jdk的环境变量，才能让我们的IDE跑起来。前面博文，小巫发表过一篇如何在macosx中配置java环境变量，如果大家不记得如何配置的话，可以参考那边博文，关于SDK的环境变量配置类似：<br><a href="http://blog.csdn.net/wwj_748/article/details/44628111" target="_blank" rel="external">Mac osx 下搭建java开发环境</a></p>
<p>本篇博客不讲环境配置，会再下一节课给大家演示如何配置。</p>
<h2 id="JDK">JDK</h2><p>JDK(Java Development kit) Java语言软件开发工具包<br>主要是用来运行和编译我们的java程序，如果在我们的开发环境中没有JDK的话，是无法进行编译的，如果只是运行java程序，只需要安装jre即可。目前jdk最新版本是8.0，大家想下载最新版本的jdk，可以到oracle官网下载，这里不多说。</p>
<h2 id="IDE">IDE</h2><p>Eclipse &amp; Android Studio(Google官方）<br>Google已经明确说明不再支持Eclipse，我们在官网也找不到ADT Bundle的更新，所以建议童鞋们尽早脱离Eclipse的束缚，投入到AS的怀抱中吧。基于如何下载和安装AS，大家尽管百度，建议购买VPN，因为AS的更新会比较频繁，有时候各种需要翻墙的工作，没有VPN基本上想死。</p>
<h2 id="SDK">SDK</h2><p>SDK是我们Android开发工具包，主要包含以下几个工具类：</p>
<ul>
<li>SDK Tools</li>
<li>Platform Tools</li>
<li>Build Tools<br>这些都可以在我们下载的SDK中找到<br><img src="http://img.blog.csdn.net/20150804091926727" alt="SDK"></li>
</ul>
<h3 id="SDK_Tools">SDK Tools</h3><p>android – 用于创建更新项目、虚拟机、sdk<br>ddms – Dalvik虚拟机调试监控服务<br>draw9patch – 用于制作.9.png图片<br>emulator – 用于启动模拟器<br>Hierarchy Viewer – 用于检视UI的工具<br>traceview – 用于对Android应用程序以及Framework层的代码进行性能分析<br>monitor – 替代traceview的一个工具</p>
<h3 id="Platform_Tools">Platform Tools</h3><p>adb – android调试桥<br>sqlite3 – 用于对SQLite数据库进行操作<br>dmtracedump – 生成函数调用图<br>fastboot – 主要用于刷机的命令</p>
<h3 id="Build_Tools">Build Tools</h3><p>aapt – 用于查看、创建、更新zip格式的文档附件（zip, jar, apk)<br>aidl – 用于生成Android接口定义文件<br>dx – 用于将.class文件生成classes.dex文件<br>zipalign – 对apk文件进行优化</p>
<p>以上所介绍的开发工具，都需要各位去熟悉掌握，具体的使用方法，官方还有网上的一些资源已经介绍得非常详细，小巫就不在这里继续总结了。<br>具体可以参考以下两个网址：<br><a href="http://developer.android.com/tools/help/index.html" target="_blank" rel="external">http://developer.android.com/tools/help/index.html
</a><br><a href="http://wiki.eoeandroid.com/Android_Tools" target="_blank" rel="external">http://wiki.eoeandroid.com/Android_Tools
</a></p>
<p>本节课就到此结束，下节课会给大家演示如何搭建Android开发环境，谢谢大家！！！</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>关于Android的开发工具有很多，基本上都可以在SDK中找到，下面我们逐个来看一下：</p>
<p>首先我们使用的是Java语言进行Android应用的开发，那么Java的运行环境是少不了的了，我们需要在我们的PC中配置好jdk的环境变量，才能让我们的IDE跑起来。前面博]]>
    </summary>
    
      <category term="Android" scheme="http://www.devilwwj.com/tags/Android/"/>
    
      <category term="Android" scheme="http://www.devilwwj.com/categories/Android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[A001-课程介绍]]></title>
    <link href="http://www.devilwwj.com/2015/08/04/A001-%E8%AF%BE%E7%A8%8B%E4%BB%8B%E7%BB%8D/"/>
    <id>http://www.devilwwj.com/2015/08/04/A001-课程介绍/</id>
    <published>2015-08-04T00:22:35.000Z</published>
    <updated>2015-08-04T00:57:34.000Z</updated>
    <content type="html"><![CDATA[<h1 id="课程目标">课程目标</h1><p>针对人群：Android初学者&amp;稍有基础的Android学员<br>课程要求：Java编程语言基础&amp;面向对象思维<br>课程计划：大约70个课时课程目标：熟练掌握Android基础知识和掌握主流开发框架的使用，熟悉app开发流程</p>
<blockquote>
<p>如果大家只是入门，可以学习本套课程，如果大家有相应的基础，可以通过本套课程进行巩固，学习一些新的东西。</p>
</blockquote>
<h1 id="授课方式">授课方式</h1><p>真实API教学<br>最新Android Studio<br>开发工具接地气实战<br>PPT &amp; Git代码管理<br><img src="www.devilwwj.com/images/Snip20150804_10.png" alt=""></p>
<blockquote>
<p>使用原生Android API进行教学讲解<br>抛弃Eclipse，使用Android Studio作为开发工具课程内容紧扣实际开发，提供使用Demo代码和ppt都会上传到开源中国代码仓库中，供各位学习参考<a href="http://git.oschina.net/devilwwj/AndroidDevelopCourse" target="_blank" rel="external">http://git.oschina.net/devilwwj/AndroidDevelopCourse</a><br>博客会同步发表在CSDN和简书当中，如果大家对课程有什么不明白的地方可以给我留言，不要私聊我，一般我不会回复。本节是课程介绍，下一节课将会给大家介绍实际开发中经常用到的开发工具，谢谢大家。</p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="课程目标">课程目标</h1><p>针对人群：Android初学者&amp;稍有基础的Android学员<br>课程要求：Java编程语言基础&amp;面向对象思维<br>课程计划：大约70个课时课程目标：熟练掌握Android基础知识和掌握主流开发框架的使用，熟]]>
    </summary>
    
      <category term="Android" scheme="http://www.devilwwj.com/tags/Android/"/>
    
      <category term="Android" scheme="http://www.devilwwj.com/categories/Android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[租房记]]></title>
    <link href="http://www.devilwwj.com/2015/07/04/rental-record/"/>
    <id>http://www.devilwwj.com/2015/07/04/rental-record/</id>
    <published>2015-07-04T12:41:43.000Z</published>
    <updated>2015-07-04T13:53:04.000Z</updated>
    <content type="html"><![CDATA[<h1 id="租房记">租房记</h1><blockquote>
<p>2015年7月4日，这一天我跟呆呆两个人走了一天，在地铁沿线附近找出租房，最终在员村附近找到了我们即将要一起居住的出租房，作为我们奋斗的起点，写这篇文章是为了记录一下这次找房子给我带来的一些体验和感触。<br>2015年的七月，是我毕业刚好满一年的时间，时间过得飞快，想不到毕业一年后，我竟然和女友一起去找房子，回想大学四年也没有谈过恋爱的我，却能在毕业后找到女朋友，这也是比较戏剧化的事情，想想现在自己心智确实成长了不少，不像以往那么幼稚了，至少思想上不会那么幼稚。关于我的事情不多说，这里主要是谈谈这天找房子的一些想法，我从毕业到现在，如果算上刚找到的这个房子的话，可以说换了三次地方，每次换地方都感觉是一次升华（这是扯淡），一次进阶（主要是房租每次加倍，进毛阶）。为什么我换房子那么频繁，基本上半年就换了一次，这个主要是自己不在是一个人了，刚毕业的时候，我还单身，自己没啥钱，住的比较随便，只要去公司方便，价格便宜就可以了；后来帆哥乱入，我就跟他一起合租房子，那时租的地方，环境不是特别好，没有什么家私，最主要的是没空调，我就在哪里热了整个夏天，那是14年的时候了，很苦逼。14年11份，我跳槽离来到现在已经工作半年多的公司，因为我是一个很讨厌等待、人多并且拥挤的人，所以我就想换个房子离地铁方便，虽然也挤，但最起码不用把时间花在等待挤车上。就在2015年放完年假回来，我跟帆哥就搬到离地铁沿线比较近的东圃，环境比之前的要好，两房一厅，独立卫生间，有空调（草泥马，这个空调是坏的），就是附近没啥吃的地方，但整体上还是比较满意的，所以很开心就签了合同，准备住上一段时间。谁知道计划赶不上变化，我跟交往了还不到半年的女友，感情突飞猛进，度过了3个月的魔咒，互相觉得是可以互相依靠的人，所以我也就打算，等她毕业后就跟她一起住了，主要是我喜欢干净的地方，然后我的好舍友个人卫生习惯实在不敢恭维，分开住对大家都好，不用大眼瞪小眼的。7月份，呆呆也准备要毕业离开象牙塔，工作没稳定的她，我是她的依靠，所以我又只能换一个既能满足我方便上班，又能满足她舒适的需求的地方。这就是我要换房子的缘由。说到在大城市找出租房一般会通过什么途径，第一种就是上网找房源，比如上58同城、赶集网查找租房信息，这种方式非常不靠谱，一般会遇到信息不对称，虚假信息等等问题，我花了很多时间在网上查找资源，发现都是些不靠谱的信息，等我根据信息去找房子的时候，只想骂娘，什么垃圾网站，什么垃圾信息，会感觉整个社会都是灰暗的，怎么骗子辣么多，到后面直接放弃。第二种就是选定地方，找房产中介，这个稍微靠谱，信息基本上一致，但要收取高额中介费，一般式房租的50%，就是说如果你要租一个1500的房子，就要给750元的中介费，也是有点坑，尤其对刚毕业不久的童鞋。这些房子呢，基本上是要押二付一，我们算算这笔账哈，假如要租个一房一厅，价格1500左右，那就是第一个月要交1500 * 2 + 1500 + 750 = 5250元，草泥马的，如果一个人如果月薪连5000都不到的童鞋，岂不是连饭都吃不上，所以生活还是苦逼的，尤其对刚毕业不久的大学生们，注定要在大城市苦逼一段时间，这是必经之路。其他方式的找房子不在讨论范围，比如你是高富帅，有熟人这些就另外说了。我跟呆呆在地铁沿线，下了几个站，找了一遍，发现我们想居住的地方，如果要住的话只能住环境特差，然后价格非常贵的出租屋，因为想在黄金地段租房子，除非住小区房（辣么贵），不然只能住屌丝房，一千多块，还没有家私配置那种，所以如果你是屌丝在黄金地段租房绝对是个坑。这不我意识到是一个坑，果断放弃了，我们去了稍微远一点的下一站，然后就是被网上的租房信息坑，又果断放弃，再后来去到了稍微离工作地方远的员村，算不上黄金地段，但租房子的人多，能找到好一点的也非常艰难，我跟呆呆已经找了一天了，也是累得够呛，也准备要打退堂鼓了，去其他地方再看看，我想起之前看的地方，想再去看看，我就带着呆呆过去看，找到电话打过去，发现还有一个不错的一房一厅还没看过，找到一个负责租房的中介（这个不是房地产那样的中介，是帮忙房东做中介，她只收30%的中介费），最后带我们过去看房，发现找了那么多地方，对比了一下，然后问了呆呆的意见，我们都挺满意这个地方的，所以最后决定不考虑直接在下定金把这个地方租了，因为我也怕过几天这个房子就被别人给租了。整个租房的过程虽然波折，但也是一种不错的体验，因为可以让我们意识到，在大城市生活，如果不努力去改变的话，就只能一直疲于租房，为别人打工，最后啥也没有得到，只能一直处于社会的最底层。<br>过多一个星期我们还要面临搬家之苦，所以一般人时不会随便换房子的，因为搬家太折腾，假如东西多的话，只能叫搬家公司帮忙运东西了，这也是一笔钱。最后向在大城市的童鞋说一句话，租房不易，且租且珍惜。</p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="租房记">租房记</h1><blockquote>
<p>2015年7月4日，这一天我跟呆呆两个人走了一天，在地铁沿线附近找出租房，最终在员村附近找到了我们即将要一起居住的出租房，作为我们奋斗的起点，写这篇文章是为了记录一下这次找房子给我带来的一些体验和感触。<b]]>
    </summary>
    
      <category term="随笔" scheme="http://www.devilwwj.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="随笔" scheme="http://www.devilwwj.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[就算我们不能改变世界，我们还能影响身边的人]]></title>
    <link href="http://www.devilwwj.com/2015/06/13/influene-the-person-around-with-you/"/>
    <id>http://www.devilwwj.com/2015/06/13/influene-the-person-around-with-you/</id>
    <published>2015-06-13T04:39:32.000Z</published>
    <updated>2015-06-13T04:41:17.000Z</updated>
    <content type="html"><![CDATA[<p>正文：<br>    就算改变不了世界，至少我们还能影响身边的人，想想你们身上传播的是正能量么？这个是学习一位同行的视频看到的，这里也分享一下，因为自己本身就是一直正能量过来的，不然也不会有今天，虽然今天的我好不到哪里去，但至少比以前强很多了，我们常常看到别人为什么比自己牛逼，却没想过别人怎么做到让自己牛逼的，他们都做了些什么事情？我不相信整天抱怨，抱怨生活不顺，抱怨工资没别人高的人会吸引到正能量的人，我们选择加入一个团队也是一样的，你也不会想加入一个不积极向上的团队，因为团队里面的人并不能给你带来什么成长的体验。我们经常提到要求高薪，高职位，我觉得应该从自己身上考虑一下，假如给你这样的职位，你是否能承受这样的压力，能否把属于你的工作很好的执行下去，如果你不能说yes，还是继续积累经验，提升自己的能力，哪天等你真正牛逼了，不用你自己提，会有人找上来跟你谈合作，如果不相信，你牛逼给我看看。然而不管你怎么做，总会有比你牛逼的人存在，而你要做的不是跟他们比较，而是突破自己成为一个靠谱的人，说个实在话，不靠谱，谁鸟你啊。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>正文：<br>    就算改变不了世界，至少我们还能影响身边的人，想想你们身上传播的是正能量么？这个是学习一位同行的视频看到的，这里也分享一下，因为自己本身就是一直正能量过来的，不然也不会有今天，虽然今天的我好不到哪里去，但至少比以前强很多了，我们常常看到别人为什么比自己牛]]>
    </summary>
    
      <category term="随笔" scheme="http://www.devilwwj.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="随笔" scheme="http://www.devilwwj.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[android更换皮肤解决方案]]></title>
    <link href="http://www.devilwwj.com/2015/06/03/android-skin-update/"/>
    <id>http://www.devilwwj.com/2015/06/03/android-skin-update/</id>
    <published>2015-06-03T07:08:24.000Z</published>
    <updated>2015-06-03T10:40:44.000Z</updated>
    <content type="html"><![CDATA[<h1 id="Android更换皮肤解决方案">Android更换皮肤解决方案</h1><blockquote>
<p>转载请注明出处：<a href="http://www.devilwwj.com/" target="_blank" rel="external">IT_xiao小巫</a></p>
</blockquote>
<p>本篇博客要给大家分享的一个关于Android应用换肤的Demo，大家可以到我的github去下载demo，以后博文涉及到的代码均会上传到github中统一管理。<br>github地址：<a href="https://github.com/devilWwj/Android-skin-update" target="_blank" rel="external">https://github.com/devilWwj/Android-skin-update</a></p>
<p><img src="http://www.devilwwj.com/images/Snip20150603_1.png" alt=""></p>
<h2 id="思路">思路</h2><p>换肤功能一般有什么？<br>元素一般有背景颜色、字体颜色、图片、布局等等</p>
<p>我们知道Android中有主题Theme还有style，theme是针对整个activity的，而style可以针对指定控件，如果比较少的替换可以在app内做，但如果需要动态来做，可以选择下面这种思路：<br><strong>把app和skin分开，将skin做成一个apk，作为一个插件来提供给app使用，这样可以做到在线下载皮肤，然后动态更换皮肤</strong></p>
<p>下面这个demo，小巫是建立了一个res的工程项目，简单提供了一个colors.xml，在里面指定了背景颜色和按钮颜色：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line">&lt;resources&gt;</span><br><span class="line">    &lt;color name="day_btn_color"&gt;#E61ABD&lt;/color&gt;</span><br><span class="line">    &lt;color name="day_background"&gt;#38F709&lt;/color&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;color name="night_btn_color"&gt;#000000&lt;/color&gt;</span><br><span class="line">    &lt;color name="night_background"&gt;#FFFFFF&lt;/color&gt;</span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure></p>
<p>里面没有任何逻辑代码，只提供资源文件，然后我们导出为skin.apk文件，复制到目标项目的assets中去。<br><img src="http://www.devilwwj.com/images/Snip20150603_2.png" alt=""></p>
<p>因为这里不涉及到下载皮肤这个操作，所以直接放到assets目录下，然后在程序中把assets下的apk文件复制到sd卡中.<br>在程序中提供一个皮肤包管理器<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.devilwwj.skin;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.pm.PackageInfo;</span><br><span class="line"><span class="keyword">import</span> android.content.pm.PackageManager;</span><br><span class="line"><span class="keyword">import</span> android.content.res.AssetManager;</span><br><span class="line"><span class="keyword">import</span> android.content.res.Resources;</span><br><span class="line"><span class="keyword">import</span> android.os.AsyncTask;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * 皮肤包管理器</span><br><span class="line"> * </span><br><span class="line"> *<span class="javadoctag"> @author</span> devilwwj</span><br><span class="line"> * </span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SkinPackageManager</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SkinPackageManager mInstance;</span><br><span class="line">    <span class="keyword">private</span> Context mContext;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 当前资源包名</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> String mPackageName;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 皮肤资源</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> Resources mResources;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SkinPackageManager</span><span class="params">(Context mContext)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.mContext = mContext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 获取单例</span><br><span class="line">     * </span><br><span class="line">     *<span class="javadoctag"> @param</span> mContext</span><br><span class="line">     *<span class="javadoctag"> @return</span></span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SkinPackageManager <span class="title">getInstance</span><span class="params">(Context mContext)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (mInstance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            mInstance = <span class="keyword">new</span> SkinPackageManager(mContext);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mInstance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 从assets中复制apk到sd中</span><br><span class="line">     * </span><br><span class="line">     *<span class="javadoctag"> @param</span> context</span><br><span class="line">     *<span class="javadoctag"> @param</span> filename</span><br><span class="line">     *<span class="javadoctag"> @param</span> path</span><br><span class="line">     *<span class="javadoctag"> @return</span></span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">copyApkFromAssets</span><span class="params">(Context context, String filename,</span><br><span class="line">            String path)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> copyIsFinish = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 打开assets的输入流</span></span><br><span class="line">            InputStream is = context.getAssets().open(filename);</span><br><span class="line">            File file = <span class="keyword">new</span> File(path);</span><br><span class="line">            <span class="comment">// 创建一个新的文件</span></span><br><span class="line">            file.createNewFile();</span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">            <span class="keyword">byte</span>[] temp = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> ((i = is.read(temp)) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                fos.write(temp, <span class="number">0</span>, i); <span class="comment">// 写入到文件</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fos.close();</span><br><span class="line">            is.close();</span><br><span class="line">            copyIsFinish = <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> copyIsFinish;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 异步加载皮肤资源</span><br><span class="line">     * </span><br><span class="line">     *<span class="javadoctag"> @param</span> dexPath</span><br><span class="line">     *            需要加载的皮肤资源</span><br><span class="line">     *<span class="javadoctag"> @param</span> callback</span><br><span class="line">     *            回调接口</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadSkinAsync</span><span class="params">(String dexPath, <span class="keyword">final</span> loadSkinCallBack callback)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> AsyncTask&lt;String, Void, Resources&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="annotation">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPreExecute</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onPreExecute();</span><br><span class="line">                <span class="keyword">if</span> (callback != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    callback.startloadSkin();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="annotation">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> Resources <span class="title">doInBackground</span><span class="params">(String... params)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (params.length == <span class="number">1</span>) &#123;</span><br><span class="line">                        <span class="comment">//</span></span><br><span class="line">                        String dexPath_tmp = params[<span class="number">0</span>];</span><br><span class="line">                        <span class="comment">// 得到包管理器</span></span><br><span class="line">                        PackageManager mpm = mContext.getPackageManager();</span><br><span class="line">                        <span class="comment">// 得到包信息</span></span><br><span class="line">                        PackageInfo mInfo = mpm.getPackageArchiveInfo(</span><br><span class="line">                                dexPath_tmp, PackageManager.GET_ACTIVITIES);</span><br><span class="line">                        mPackageName = mInfo.packageName;</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// AssetManager实例</span></span><br><span class="line">                        AssetManager assetManager = AssetManager.class</span><br><span class="line">                                .newInstance();</span><br><span class="line">                        <span class="comment">// 通过反射调用addAssetPath方法</span></span><br><span class="line">                        Method addAssetPath = assetManager.getClass()</span><br><span class="line">                                .getMethod(<span class="string">"addAssetPath"</span>, String.class);</span><br><span class="line">                        addAssetPath.invoke(assetManager, dexPath_tmp);</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// 得到资源实例</span></span><br><span class="line">                        Resources superRes = mContext.getResources();</span><br><span class="line">                        <span class="comment">// 实例化皮肤资源</span></span><br><span class="line">                        Resources skinResource = <span class="keyword">new</span> Resources(assetManager,</span><br><span class="line">                                superRes.getDisplayMetrics(),</span><br><span class="line">                                superRes.getConfiguration());</span><br><span class="line">                        <span class="comment">// 保存资源路径</span></span><br><span class="line">                        SkinConfig.getInstance(mContext).setSkinResourcePath(</span><br><span class="line">                                dexPath_tmp);</span><br><span class="line">                        <span class="keyword">return</span> skinResource;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="annotation">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPostExecute</span><span class="params">(Resources result)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onPostExecute(result);</span><br><span class="line">                mResources = result;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 这里执行回调方法</span></span><br><span class="line">                <span class="keyword">if</span> (callback != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (mResources != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        callback.loadSkinSuccess();</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        callback.loadSkinFail();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;.execute(dexPath);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">interface</span> <span class="title">loadSkinCallBack</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startloadSkin</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadSkinSuccess</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadSkinFail</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>重点关注这个类，里面提供了一个异步方法对包和asset进行操作，这里用到了反射机制，反射调用addAssetPath来添加assets的路径，这个路径就是我们skin.apk的路径。具体细节，各位查看代码。</p>
<p>我们在Activity界面中使用上面提供的方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.devilwwj.skin;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.content.res.Resources;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.os.Environment;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.devilwwj.skin.SkinPackageManager.loadSkinCallBack;</span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * 功能：切换皮肤</span><br><span class="line"> *<span class="javadoctag"> @author</span> devilwwj</span><br><span class="line"> *</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">OnClickListener</span>,</span><br><span class="line">        <span class="title">ISkinUpdate</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String APK_NAME = <span class="string">"skin.apk"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String DEX_PATH = Environment</span><br><span class="line">            .getExternalStorageDirectory().getAbsolutePath() + <span class="string">"/skin.apk"</span>;</span><br><span class="line">    <span class="keyword">private</span> Button dayButton;</span><br><span class="line">    <span class="keyword">private</span> Button nightButton;</span><br><span class="line">    <span class="keyword">private</span> TextView textView;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> nightModel = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        dayButton = (Button) findViewById(R.id.btn_day);</span><br><span class="line">        nightButton = (Button) findViewById(R.id.btn_night);</span><br><span class="line">        textView = (TextView) findViewById(R.id.text);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 把apk文件复制到sd卡</span></span><br><span class="line">        SkinPackageManager.getInstance(<span class="keyword">this</span>).copyApkFromAssets(<span class="keyword">this</span>, APK_NAME,</span><br><span class="line">                DEX_PATH);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onResume();</span><br><span class="line">        <span class="keyword">if</span> (SkinPackageManager.getInstance(<span class="keyword">this</span>).mResources != <span class="keyword">null</span>) &#123;</span><br><span class="line">            updateTheme();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (v.getId()) &#123;</span><br><span class="line">        <span class="keyword">case</span> R.id.btn_day:</span><br><span class="line">            nightModel = <span class="keyword">false</span>;</span><br><span class="line">            loadSkin();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> R.id.btn_night:</span><br><span class="line">            nightModel = <span class="keyword">true</span>;</span><br><span class="line">            loadSkin();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 加载皮肤</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">loadSkin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        SkinPackageManager.getInstance(<span class="keyword">this</span>).loadSkinAsync(DEX_PATH,</span><br><span class="line">                <span class="keyword">new</span> loadSkinCallBack() &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="annotation">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startloadSkin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        Log.d(<span class="string">"xiaowu"</span>, <span class="string">"startloadSkin"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="annotation">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadSkinSuccess</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        Log.d(<span class="string">"xiaowu"</span>, <span class="string">"loadSkinSuccess"</span>);</span><br><span class="line">                        <span class="comment">// 然后这里更新主题</span></span><br><span class="line">                        updateTheme();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="annotation">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadSkinFail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        Log.d(<span class="string">"xiaowu"</span>, <span class="string">"loadSkinFail"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateTheme</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Resources mResource = SkinPackageManager.getInstance(<span class="keyword">this</span>).mResources;</span><br><span class="line">        <span class="keyword">if</span> (nightModel) &#123;</span><br><span class="line">            <span class="comment">// 如果是黑夜的模式，则加载黑夜的主题</span></span><br><span class="line">            <span class="keyword">int</span> id1 = mResource.getIdentifier(<span class="string">"night_btn_color"</span>, <span class="string">"color"</span>,</span><br><span class="line">                    <span class="string">"com.devilwwj.res"</span>);</span><br><span class="line">            nightButton.setBackgroundColor(mResource.getColor(id1));</span><br><span class="line">            <span class="keyword">int</span> id2 = mResource.getIdentifier(<span class="string">"night_background"</span>, <span class="string">"color"</span>,</span><br><span class="line">                    <span class="string">"com.devilwwj.res"</span>);</span><br><span class="line">            nightButton.setTextColor(mResource.getColor(id2));</span><br><span class="line">            textView.setTextColor(mResource.getColor(id2));</span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 如果是白天模式，则加载白天的主题</span></span><br><span class="line">            <span class="keyword">int</span> id1 = mResource.getIdentifier(<span class="string">"day_btn_color"</span>, <span class="string">"color"</span>,</span><br><span class="line">                    <span class="string">"com.devilwwj.res"</span>);</span><br><span class="line">            dayButton.setBackgroundColor(mResource.getColor(id1));</span><br><span class="line">            <span class="keyword">int</span> id2 = mResource.getIdentifier(<span class="string">"day_background"</span>, <span class="string">"color"</span>,</span><br><span class="line">                    <span class="string">"com.devilwwj.res"</span>);</span><br><span class="line">            dayButton.setTextColor(mResource.getColor(id2));</span><br><span class="line">            textView.setTextColor(mResource.getColor(id2));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我们可以保存一个模式，比如黑夜白天模式，每次启动按照前面保存的模式来显示皮肤。我们可以看到上面是通过调用getIdentifier方法来得到指定的资源的id，name是我们在资源文件中指定的名字。</p>
<p>最后，各位自己跑一遍这样的流程：</p>
<ol>
<li>导出res的apk文件</li>
<li>复制到目标项目的assets目录下</li>
<li>查看切换皮肤的效果</li>
</ol>
<p>参考博文：<a href="http://blog.csdn.net/yuanzeyao/article/details/42390431" target="_blank" rel="external">http://blog.csdn.net/yuanzeyao/article/details/42390431</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="Android更换皮肤解决方案">Android更换皮肤解决方案</h1><blockquote>
<p>转载请注明出处：<a href="http://www.devilwwj.com/" target="_blank" rel="external">IT_xi]]>
    </summary>
    
      <category term="android" scheme="http://www.devilwwj.com/tags/android/"/>
    
      <category term="技术" scheme="http://www.devilwwj.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android数据库框架ormlite使用精要]]></title>
    <link href="http://www.devilwwj.com/2015/06/02/ormlite/"/>
    <id>http://www.devilwwj.com/2015/06/02/ormlite/</id>
    <published>2015-06-02T02:02:15.000Z</published>
    <updated>2015-06-02T02:11:08.000Z</updated>
    <content type="html"><![CDATA[<h1 id="Android_数据库框架ormlite_使用精要">Android 数据库框架ormlite 使用精要</h1><h2 id="前言">前言</h2><p>本篇博客记录一下笔者在实际开发中使用到的一个数据库框架，这个可以让我们快速实现数据库操作，避免频繁手写sql，提高我们的开发效率，减少出错的机率。</p>
<h2 id="ormlite是什么？">ormlite是什么？</h2><p>首先可以去它的官网看看<a href="www.ormlite.com">www.ormlite.com</a>，它的英文全称是Object Relational Mapping，意思是对象关系映射；如果接触过Java EE开发的，一定知道Java Web开发就有一个类似的数据库映射框架——Hibernate。简单来说，就是我们定义一个实体类，利用这个框架，它可以帮我们吧这个实体映射到我们的数据库中，在Android中是SQLite，数据中的字段就是我们定义实体的成员变量。</p>
<h2 id="为什么要用ormlite？">为什么要用ormlite？</h2><p><strong>先说说优点</strong></p>
<ol>
<li>轻量级</li>
<li>使用简单，易上手</li>
<li>封装完善</li>
<li>文档全面</li>
</ol>
<p><strong>缺点</strong></p>
<ol>
<li>基于反射，效率较低</li>
<li>缺少中文翻译文档</li>
</ol>
<h2 id="如何使用？">如何使用？</h2><h3 id="导入jar包到项目libs文件夹下">导入jar包到项目libs文件夹下</h3><p>到<a href="http://ormlite.com/releases/" target="_blank" rel="external">http://ormlite.com/releases/</a>下载相应版本的jar，下载最新的，目前是最新版本4.49。我们下载稳定的4.48即可。</p>
<p><img src="http://www.devilwwj.com/images/Snip20150602_3.png" alt=""></p>
<h3 id="继承OrmLiteSqliteOpenHelper类定义数据库帮助类">继承OrmLiteSqliteOpenHelper类定义数据库帮助类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.devilwwj.ormlite.db;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteDatabase;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.devilwwj.ormlite.model.Img;</span><br><span class="line"><span class="keyword">import</span> com.devilwwj.ormlite.model.PackageInfo;</span><br><span class="line"><span class="keyword">import</span> com.devilwwj.ormlite.model.Photographer;</span><br><span class="line"><span class="keyword">import</span> com.devilwwj.ormlite.model.Theme;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.android.apptools.OrmLiteSqliteOpenHelper;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.dao.Dao;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.support.ConnectionSource;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.table.TableUtils;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * 功能：数据库帮助类</span><br><span class="line"> *<span class="javadoctag"> @author</span> devilwwj</span><br><span class="line"> *</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DBHelper</span> <span class="keyword">extends</span> <span class="title">OrmLiteSqliteOpenHelper</span> </span>&#123;</span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 数据库名字</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String DB_NAME = <span class="string">"test.db"</span>;</span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 数据库版本</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DB_VERSION = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 用来存放Dao的地图</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Dao&gt; daos = <span class="keyword">new</span> HashMap&lt;String, Dao&gt;();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> DBHelper instance;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 获取单例</span><br><span class="line">     *<span class="javadoctag"> @param</span> context</span><br><span class="line">     *<span class="javadoctag"> @return</span></span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> DBHelper <span class="title">getHelper</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        context = context.getApplicationContext();</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (DBHelper.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> DBHelper(context);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 构造方法</span><br><span class="line">     *<span class="javadoctag"> @param</span> context</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DBHelper</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, DB_NAME, <span class="keyword">null</span>, DB_VERSION);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 这里创建表</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(SQLiteDatabase sqliteDatabase, ConnectionSource connectionSource)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建表</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            TableUtils.createTable(connectionSource, PackageInfo.class);</span><br><span class="line">            TableUtils.createTable(connectionSource, Photographer.class);</span><br><span class="line">            TableUtils.createTable(connectionSource, Theme.class);</span><br><span class="line">            TableUtils.createTable(connectionSource, Img.class);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 这里进行更新表操作</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onUpgrade</span><span class="params">(SQLiteDatabase sqLiteDatabase, ConnectionSource connectionSource, <span class="keyword">int</span> oldVersion,</span><br><span class="line">            <span class="keyword">int</span> newVersion)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span>  </span><br><span class="line">        &#123;  </span><br><span class="line">            TableUtils.dropTable(connectionSource, PackageInfo.class, <span class="keyword">true</span>);  </span><br><span class="line">            TableUtils.dropTable(connectionSource, Photographer.class, <span class="keyword">true</span>);  </span><br><span class="line">            TableUtils.dropTable(connectionSource, Theme.class, <span class="keyword">true</span>);  </span><br><span class="line">            TableUtils.dropTable(connectionSource, Img.class, <span class="keyword">true</span>);</span><br><span class="line">            onCreate(sqLiteDatabase, connectionSource);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e)  </span><br><span class="line">        &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 通过类来获得指定的Dao</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> Dao <span class="title">getDao</span><span class="params">(Class clazz)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Dao dao = <span class="keyword">null</span>;</span><br><span class="line">        String className = clazz.getSimpleName();</span><br><span class="line">        <span class="keyword">if</span> (daos.containsKey(className)) &#123;</span><br><span class="line">            dao = <span class="keyword">super</span>.getDao(clazz);</span><br><span class="line">            daos.put(className, dao); </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dao;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 释放资源</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.close();</span><br><span class="line">        <span class="keyword">for</span> (String key : daos.keySet()) &#123;</span><br><span class="line">            Dao dao = daos.get(key);</span><br><span class="line">            dao = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="定义实体类Bean，代表一张表">定义实体类Bean，代表一张表</h3><p>创建上面用到的Bean，在ormlite中，它代表数据库中的一张表，我们所定义的所有成员变量均可为表中的字段，只要我们按照它提供的注解方式来指定成员变量属性。</p>
<p>举个栗子：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.devilwwj.ormlite.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.dao.ForeignCollection;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.field.DatabaseField;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.field.ForeignCollectionField;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.table.DatabaseTable;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * 套餐</span><br><span class="line"> *<span class="javadoctag"> @author</span> wwj_748</span><br><span class="line"> *</span><br><span class="line"> */</span></span><br><span class="line"><span class="annotation">@DatabaseTable</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PackageInfo</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">    <span class="annotation">@DatabaseField</span>(id = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String pid;</span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String photographerId;</span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="annotation">@DatabaseField</span>()</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> cost;</span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String description;</span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String detail;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 一个套餐可以对应多个主题</span></span><br><span class="line">    <span class="annotation">@ForeignCollectionField</span>(eager = <span class="keyword">true</span>) <span class="comment">// 必须</span></span><br><span class="line">    <span class="keyword">public</span> ForeignCollection&lt;Theme&gt; themes;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 外部对象，一个套餐只对应一个摄影师，一个摄影师可以对应多个套餐</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span>(foreign = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">public</span> Photographer photographer;</span><br><span class="line">    </span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Package [id="</span> + id + <span class="string">", pid="</span> + pid + <span class="string">", photographerId="</span></span><br><span class="line">                + photographerId + <span class="string">", name="</span> + name + <span class="string">", cost="</span> + cost</span><br><span class="line">                + <span class="string">", description="</span> + description + <span class="string">", detail="</span> + detail + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面定义了一个套餐对象，我们来看一下它所用到的几个注解：<br>@DatabaseTable：表示定义了一个数据表，如果不指定名字，在Android中会以类名作为表名，如packageInfo就是SQLite数据库中的表名，我们也可以指定表名，@DatabaseTable(tableName = “tb_package”) 。</p>
<p>DatabaseField：表示定义了数据中的一个字段，id表示数据中的一个主键，如果指定为generatedId，表示自动增长id，我们不需要给它赋值。其他字段，可以使用columnName来指定字段名，canBeNull表示是否为空，这些赋值可以按照以下来指定<br>-（id = true, canBeNull = false）</p>
<ul>
<li><p>(columnName = “name”)</p>
<p>还有更多的注解用法，可以到官网查看它提供的文档，非常清楚详尽了，笔者这里不多说。</p>
<h3 id="ormlite的外键约束（一对一、一对多、多对多关系）">ormlite的外键约束（一对一、一对多、多对多关系）</h3><p>使用这个框架需要比较注意的一点就是外键约束，这里笔者只讨论一对一、一对多的情况。<br>上一节我们定义了PackageInfo这个实体，里面有这样的定义：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一个套餐可以对应多个主题</span></span><br><span class="line">    <span class="annotation">@ForeignCollectionField</span>(eager = <span class="keyword">true</span>) <span class="comment">// 必须</span></span><br><span class="line">    <span class="keyword">public</span> ForeignCollection&lt;Theme&gt; themes;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 外部对象，一个套餐只对应一个摄影师，一个摄影师可以对应多个套餐</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span>(foreign = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">public</span> Photographer photographer;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>这里就用到了外键的约束，我们来分析一下：<br>一个套餐对应多个主题：1:n的关系<br>一个套餐对应一个摄影师：1:1的关系</p>
<p>在n的一方，我们可以使用@ForeignCollectionField这样的注解，eager = true表示可以进行懒加载。</p>
<p>如果是一对一，我们还是用@DatabaseField注解，但要指定(foreign = true)表示是一个外键。</p>
<p>现在我们看一下多的一方是怎么定义的：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.devilwwj.ormlite.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.dao.ForeignCollection;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.field.DatabaseField;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.field.ForeignCollectionField;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.table.DatabaseTable;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * 摄影主题</span><br><span class="line"> * </span><br><span class="line"> *<span class="javadoctag"> @author</span> wwj_748</span><br><span class="line"> * </span><br><span class="line"> */</span></span><br><span class="line"><span class="annotation">@DatabaseTable</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Theme</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">    <span class="annotation">@DatabaseField</span>(id = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">public</span> String id;</span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String tid;</span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String photographerId;</span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String packageId; <span class="comment">// 隶属套餐</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String status; <span class="comment">// 后台审核状态</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String title; <span class="comment">// 标题</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String coverId; <span class="comment">// 封面Id</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String coverUrl; <span class="comment">// 封面img</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String detail;  <span class="comment">// 详情</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> photoCount; <span class="comment">// 图片个数</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String photos; <span class="comment">//图集</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String createTime; <span class="comment">// 上传时间</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String recordTime; <span class="comment">// 拍摄时间</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">double</span> cost; <span class="comment">// 花费</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String tags; <span class="comment">// 标签</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String address;<span class="comment">// 地址</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> String loacationCode; <span class="comment">// 位置代码</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> popularCount; <span class="comment">// 热度</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span>(defaultValue = <span class="string">"0"</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> favStatus; <span class="comment">// 收藏状态</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 外部对象字段</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span>(foreign = <span class="keyword">true</span>, foreignAutoRefresh = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">public</span> PackageInfo mPackage;</span><br><span class="line">    </span><br><span class="line">    <span class="annotation">@DatabaseField</span>(foreign = <span class="keyword">true</span>, foreignAutoRefresh = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">public</span> Photographer photographer;</span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 这里需要注意的是：属性类型只能是ForeignCollection&lt;T&gt;或者Collection&lt;T&gt;</span><br><span class="line">     * 如果需要懒加载（延迟加载）可以在@ForeignCollectionField加上参数eager=false</span><br><span class="line">     * 这个属性也就说明一个部门对应着多个用户</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@ForeignCollectionField</span>(eager = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">public</span> ForeignCollection&lt;Img&gt; imgs;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我们这里不关注其他字段，关注它的外键字段，前面我们说到，一个套餐对应多个主题，所以我们在主题这个实体类中也需要定义一个关联套餐的字段。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 外部对象字段</span></span><br><span class="line">    <span class="annotation">@DatabaseField</span>(foreign = <span class="keyword">true</span>, foreignAutoRefresh = <span class="keyword">true</span>)</span><br><span class="line">    <span class="keyword">public</span> PackageInfo mPackage;</span><br></pre></td></tr></table></figure></p>
<p><strong>注：要实现一对多关系，一定要这样定义，不然会出错。</strong></p>
<h3 id="定义Bean的DAO，对数据库进行增、删、改、查">定义Bean的DAO，对数据库进行增、删、改、查</h3><p>这里笔者举个例子，大家以后开发根据这样来添加相应的业务逻辑方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.devilwwj.ormlite.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.devilwwj.ormlite.db.DBHelper;</span><br><span class="line"><span class="keyword">import</span> com.devilwwj.ormlite.model.Theme;</span><br><span class="line"><span class="keyword">import</span> com.j256.ormlite.dao.Dao;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * 定义数据访问对象，对指定的表进行增删改查操作</span><br><span class="line"> *<span class="javadoctag"> @author</span> devilwwj</span><br><span class="line"> *</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThemeDao</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Dao&lt;Theme, Integer&gt; themeDao;</span><br><span class="line">    <span class="keyword">private</span> DBHelper dbHelper;</span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 构造方法</span><br><span class="line">     * 获得数据库帮助类实例，通过传入Class对象得到相应的Dao</span><br><span class="line">     *<span class="javadoctag"> @param</span> context</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ThemeDao</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            dbHelper = DBHelper.getHelper(context);</span><br><span class="line">            themeDao = dbHelper.getDao(Theme.class);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 添加一条记录</span><br><span class="line">     *<span class="javadoctag"> @param</span> theme</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Theme theme)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            themeDao.create(theme);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 删除一条记录</span><br><span class="line">     *<span class="javadoctag"> @param</span> theme</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(Theme theme)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            themeDao.delete(theme);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 更新一条记录</span><br><span class="line">     *<span class="javadoctag"> @param</span> theme</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(Theme theme)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            themeDao.update(theme);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 查询一条记录</span><br><span class="line">     *<span class="javadoctag"> @param</span> id</span><br><span class="line">     *<span class="javadoctag"> @return</span></span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Theme <span class="title">queryForId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        Theme theme = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            theme = themeDao.queryForId(id);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> theme;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 查询所有记录</span><br><span class="line">     *<span class="javadoctag"> @return</span></span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Theme&gt; <span class="title">queryForAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;Theme&gt; themes = <span class="keyword">new</span> ArrayList&lt;Theme&gt;();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            themes = themeDao.queryForAll();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> themes;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面笔者定义了一个Dao类，用来进行数据访问的，定义了增加、删除、更新、查询几个方法，我们在应用中就可以使用这个几个方法来帮助我们完成相关的操作。</p>
<p>具体使用方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Theme theme = <span class="keyword">new</span> Theme()；</span><br><span class="line"><span class="comment">// 赋值</span></span><br><span class="line">theme.id = <span class="number">1</span>;</span><br><span class="line">theme.title = <span class="string">"主题"</span>;</span><br><span class="line">theme.detail = <span class="string">"主题详情"</span>；</span><br><span class="line"><span class="keyword">new</span> ThemeDao(context).add(theme);</span><br></pre></td></tr></table></figure>
<h3 id="ormlite的批处理操作">ormlite的批处理操作</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">     * 转化json对象为数据库对象</span><br><span class="line">     *<span class="javadoctag"> @param</span> context</span><br><span class="line">     *<span class="javadoctag"> @param</span> theme</span><br><span class="line">     *<span class="javadoctag"> @return</span></span><br><span class="line">     *<span class="javadoctag"> @throws</span> SQLException</span><br><span class="line">     *<span class="javadoctag"> @throws</span> Exception</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Theme <span class="title">ConvertTheme</span><span class="params">(Context context, <span class="keyword">final</span> JSONObject theme)</span> <span class="keyword">throws</span> SQLException, Exception </span>&#123;</span><br><span class="line">        JSONObject photographerObj = theme.getJSONObject(<span class="string">"photographer"</span>);</span><br><span class="line">        JSONObject packageObj = theme.getJSONObject(<span class="string">"package"</span>);</span><br><span class="line">        </span><br><span class="line">        ThemeDao themeDao = <span class="keyword">new</span> ThemeDao(context);</span><br><span class="line">        </span><br><span class="line">        PhotographDao photographDao = <span class="keyword">new</span> PhotographDao(context);</span><br><span class="line">        <span class="comment">// 根据id查询摄影师</span></span><br><span class="line">        Photographer mPhotographer = photographDao.queryForId(theme.optInt(<span class="string">"photographerId"</span>));</span><br><span class="line">        <span class="keyword">if</span> (mPhotographer == <span class="keyword">null</span>)</span><br><span class="line">            mPhotographer = <span class="keyword">new</span> Photographer();</span><br><span class="line"></span><br><span class="line">        mPhotographer.id = theme.optString(<span class="string">"photographerId"</span>);</span><br><span class="line">        mPhotographer.name = photographerObj.optString(<span class="string">"nickname"</span>);</span><br><span class="line">        mPhotographer.serviceArea = photographerObj.optString(<span class="string">"serviceArea"</span>);</span><br><span class="line">        mPhotographer.avatar = photographerObj.optString(<span class="string">"avatar"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 这里创建或更新摄影师</span></span><br><span class="line">        photographDao.createOrUpdate(mPhotographer);</span><br><span class="line">        </span><br><span class="line">        PackageDao packageDao = <span class="keyword">new</span> PackageDao(context);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 根据id查询套餐</span></span><br><span class="line">        PackageInfo mPackage = packageDao.queryForId(packageObj.optInt(<span class="string">"id"</span>));</span><br><span class="line">        <span class="keyword">if</span> (mPackage == <span class="keyword">null</span>) </span><br><span class="line">            mPackage = <span class="keyword">new</span> PackageInfo();</span><br><span class="line">        </span><br><span class="line">        mPackage.id = packageObj.optInt(<span class="string">"id"</span>);</span><br><span class="line">        mPackage.name = packageObj.optString(<span class="string">"title"</span>);</span><br><span class="line">        mPackage.cost = packageObj.optInt(<span class="string">"cost"</span>);</span><br><span class="line">        mPackage.detail = packageObj.optString(<span class="string">"detail"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 这里创建或更新套餐</span></span><br><span class="line">        packageDao.createOrUpdate(mPackage);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据id查询作品</span></span><br><span class="line">        Theme mThemeTmp = themeDao.queryForId(</span><br><span class="line">                theme.optInt(<span class="string">"id"</span>));</span><br><span class="line">        <span class="keyword">if</span> (mThemeTmp == <span class="keyword">null</span>)</span><br><span class="line">            mThemeTmp = <span class="keyword">new</span> Theme(); </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">final</span> Theme mTheme = mThemeTmp;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        mTheme.id = theme.optString(<span class="string">"id"</span>);</span><br><span class="line">        mTheme.title = theme.optString(<span class="string">"title"</span>);</span><br><span class="line">        <span class="comment">// mTheme.coverId = theme.optString("place");</span></span><br><span class="line">        <span class="comment">// mTheme.coverUrl = theme.optString("coverUrl");</span></span><br><span class="line">        mTheme.photographerId = theme.optString(<span class="string">"photographerId"</span>);</span><br><span class="line">        mTheme.detail = theme.optString(<span class="string">"detail"</span>);</span><br><span class="line">        <span class="comment">// mTheme.cost = theme.optDouble("cost");</span></span><br><span class="line">        <span class="comment">// mTheme.recordTime = theme.optString("recordTime");</span></span><br><span class="line">        mTheme.favStatus = theme.optInt(<span class="string">"isFav"</span>);</span><br><span class="line">        mTheme.photoCount = theme.optInt(<span class="string">"photoCount"</span>);</span><br><span class="line">        mTheme.tags = theme.optString(<span class="string">"tags"</span>);</span><br><span class="line">        mTheme.packageId = theme.optString(<span class="string">"packageId"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 同步更新</span></span><br><span class="line">        mTheme.photographer = mPhotographer;</span><br><span class="line">        mTheme.mPackage = mPackage;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建或更新主题</span></span><br><span class="line">        themeDao.createOrUpdate(mTheme);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">final</span> ImgDao mDao = <span class="keyword">new</span> ImgDao(context);</span><br><span class="line">        Dao&lt;Img, Integer&gt; imgDao = mDao.getImgDao();</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 执行批处理操作</span></span><br><span class="line">        imgDao.callBatchTasks(<span class="keyword">new</span> Callable&lt;Void&gt;() &#123;</span><br><span class="line">            <span class="annotation">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Void <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">                JSONArray imgs = theme.getJSONArray(<span class="string">"photos"</span>);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; imgs.length(); i++) &#123;</span><br><span class="line">                    JSONObject jsonObject = imgs.getJSONObject(i);</span><br><span class="line">                    Img mImg = mDao.queryForId(jsonObject.optInt(<span class="string">"id"</span>));</span><br><span class="line">                    <span class="keyword">if</span> (mImg == <span class="keyword">null</span>)</span><br><span class="line">                        mImg = <span class="keyword">new</span> Img();</span><br><span class="line"></span><br><span class="line">                    mImg.id = jsonObject.optString(<span class="string">"id"</span>);</span><br><span class="line">                    mImg.isCover = jsonObject.optInt(<span class="string">"isCover"</span>);</span><br><span class="line">                    mImg.imgUrl = jsonObject.optString(<span class="string">"url"</span>);</span><br><span class="line">                    mImg.theme = mTheme;</span><br><span class="line"></span><br><span class="line">                    mDao.createOrUpdate(mImg);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> mTheme;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码就是把我们从服务端获取的json对象进行数据转化，我们对json数据进行解析，得到相应的数据库对象，再进行创建或更新的操作，如果涉及到较多的插入，就可以使用ormlite为我们提供的批处理回调方法，具体看代码。</p>
<h3 id="在Android中使用">在Android中使用</h3><p>我们通过网络请求得到的json对象，然后直接调用上面写好的转化方法，这样我们就可以实现数据存储了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">getTheme</span><span class="params">(<span class="keyword">final</span> Theme mTheme)</span> </span>&#123;</span><br><span class="line">        DataFetcher.getHttpRequestAsync(</span><br><span class="line">                HttpRequest.getThemeInfoUrl(getActivity(), mTheme.id),</span><br><span class="line">                <span class="keyword">new</span> JsonResponseHandler(getActivity(),</span><br><span class="line">                        getString(R.string.tip_requesing_info)) &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="annotation">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(<span class="keyword">int</span> statusCode, Header[] headers,</span><br><span class="line">                            JSONObject response)</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">super</span>.onSuccess(statusCode, headers, response);</span><br><span class="line">                        LogUtils.i(<span class="string">"info"</span>, response.toString());</span><br><span class="line">                        JSONObject jsonObject = response.optJSONObject(<span class="string">"msg"</span>);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            Converter.ConvertTheme(jsonObject,</span><br><span class="line">                                    ((BaseActivity) getActivity()).getHelper());</span><br><span class="line">                            <span class="comment">// 跳转到详情页</span></span><br><span class="line">                            Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">                            intent.putExtra(<span class="string">"tid"</span>, mTheme.id);</span><br><span class="line">                            intent.setClass(getActivity(),</span><br><span class="line">                                    ThemeInfolActivity.class);</span><br><span class="line">                            startActivity(intent);</span><br><span class="line"></span><br><span class="line">                        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="annotation">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(<span class="keyword">int</span> statusCode, Header[] headers,</span><br><span class="line">                            String responseString, Throwable throwable)</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">super</span>.onFailure(statusCode, headers, responseString,</span><br><span class="line">                                throwable);</span><br><span class="line">                        <span class="keyword">if</span> (mTheme.detail != <span class="keyword">null</span>) &#123;</span><br><span class="line">                            Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">                            intent.putExtra(<span class="string">"tid"</span>, mTheme.id);</span><br><span class="line">                            intent.setClass(getActivity(), ThemeInfolActivity.class);</span><br><span class="line">                            startActivity(intent);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            Toast.makeText(getActivity(), responseString,</span><br><span class="line">                                    Toast.LENGTH_SHORT).show();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>注：这里笔者使用的是android-async-http这个网络库。</p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="Android_数据库框架ormlite_使用精要">Android 数据库框架ormlite 使用精要</h1><h2 id="前言">前言</h2><p>本篇博客记录一下笔者在实际开发中使用到的一个数据库框架，这个可以让我们快速实现数据库操作，避免频繁手写sq]]>
    </summary>
    
      <category term="android" scheme="http://www.devilwwj.com/tags/android/"/>
    
      <category term="技术" scheme="http://www.devilwwj.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[养猫记-领养篇]]></title>
    <link href="http://www.devilwwj.com/2015/06/01/Cat-remember-1/"/>
    <id>http://www.devilwwj.com/2015/06/01/Cat-remember-1/</id>
    <published>2015-06-01T15:27:52.000Z</published>
    <updated>2015-06-02T17:23:02.000Z</updated>
    <content type="html"><![CDATA[<p>2015年5月24日这天，小黑猫被我从别人那里抓回来，这是我第二次去抓它，第一次由于下班之后天黑，喂食它的大妈没出现，它一直躲在车底盘下，爬上爬下怎么也抓不住它，它旁边又有一只成年母猫守着，而那只母猫并不是它的母亲，听阿宅说，那只母猫不养自己的孩子，却养别人家的孩子，总之关系很乱，我也搞不清楚。先说一下小巫为什么会有念头领养一只猫咪，其实这个念头似乎有了很久了，小的时候在家里也见过野猫，但都是比较野的，人一靠近就会很凶的哈人，我也挺怕的，那时候猫在我的印象中就是一个不温和的动物，跟家里养的狗不一样。长大后，总是忙着学业，似乎没怎么闲过来，看似很认真的样子，却也没成为多出色的人，记得在大学的时候，看了一部叫做《夏目友人帐》的动漫，这是我看过最治愈的动漫了，真如我自己一样，一直在尝试治愈自己，所以才会对这部动漫感到治愈吧。如果看过这部动漫的人，一定会知道伴随主人公夏目的一只大肥猫，叫做斑，它是一只妖怪，有一天被主人公阴差阳错破了封印，把它放了出来，为了得到夏目的奶奶遗留给夏目的友人帐，就跟夏目定下约定，守护在他身边帮他它把友人帐的姓名还给跟夏目奶奶决斗过的妖怪，在跟夏目相处的过程中，斑逐渐跟主人公产生羁绊，它一直默默的守护在夏目身边，并帮他排除万难。具体的细节，大家可以去看这部动漫，一共四季，非常好看。也许正是这部动漫，让我有了养一只猫的念头，并对猫有了比较向往的情景。在以往有好多次，都想抓住机会去领养一只猫，因为一些比较好的品种价格都比较贵，所以就打消去买一只，而更好的选择是去领养一只流浪猫，终于在今年五月份，阿宅告诉我他们楼下有很多流浪猫，并且帮我留意了一只小黑猫，我看到之后也很兴奋，并且想抓住这次机会领养一只，经过两次的折腾，并且是在下雨天，我跟呆呆风雨不阻一起去他们楼下去抓，最后在喂养这些流浪猫的大妈的协助下，把小黑猫抓住了，用一个袋子把猫咪带回到宿舍里。整个过程还不算太艰辛，最终小黑猫成为了我今后回家的一个责任，用心去呵护它，喂养它是我每天要做的事情，相信它也会很庆幸拥有我这么一个爱猫之人，有很多称呼，铲屎管，猫奴，我想这些都是美好的称呼，也有幸拥有我这只可爱好动的小黑猫。<br>最后奉上，领养回来，小黑猫的一张美照：<br><img src="http://www.devilwwj.com/images/P50524-184911-001.jpg" alt=""></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>2015年5月24日这天，小黑猫被我从别人那里抓回来，这是我第二次去抓它，第一次由于下班之后天黑，喂食它的大妈没出现，它一直躲在车底盘下，爬上爬下怎么也抓不住它，它旁边又有一只成年母猫守着，而那只母猫并不是它的母亲，听阿宅说，那只母猫不养自己的孩子，却养别人家的孩子，总之关]]>
    </summary>
    
      <category term="cat" scheme="http://www.devilwwj.com/tags/cat/"/>
    
      <category term="养猫记" scheme="http://www.devilwwj.com/categories/%E5%85%BB%E7%8C%AB%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="http://www.devilwwj.com/2015/05/23/hello-world/"/>
    <id>http://www.devilwwj.com/2015/05/23/hello-world/</id>
    <published>2015-05-23T07:45:02.000Z</published>
    <updated>2015-05-19T01:51:04.000Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io]]>
    </summary>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android自定义View总结]]></title>
    <link href="http://www.devilwwj.com/2015/05/21/android/"/>
    <id>http://www.devilwwj.com/2015/05/21/android/</id>
    <published>2015-05-21T11:14:33.000Z</published>
    <updated>2015-05-31T06:22:46.000Z</updated>
    <content type="html"><![CDATA[<h1 id="Android自定义View总结">Android自定义View总结</h1><h2 id="步骤">步骤</h2><ol>
<li>自定义View的属性</li>
<li>在View的构造方法获取我们自定义的属性值</li>
<li>重写onMesure()方法</li>
<li>重写onDraw()方法</li>
</ol>
<h2 id="自定义View的属性">自定义View的属性</h2><p>在res/values/下建立attrs.xml，定义控件的属性和样式，如下所示：</p>
<pre><code>&lt;declare-styleable <span class="variable">name=</span><span class="string">"CircleImageView"</span>&gt;
    &lt;attr <span class="variable">name=</span><span class="string">"border_width"</span> <span class="variable">format=</span><span class="string">"dimension"</span> /&gt;
    &lt;attr <span class="variable">name=</span><span class="string">"border_color"</span> <span class="variable">format=</span><span class="string">"color"</span> /&gt;
&lt;/declare-styleable&gt;
</code></pre><p>format为取值类型，有以下类型：</p>
<ul>
<li>string 字符串</li>
<li>color 颜色值，如#ffffff</li>
<li>dimension 尺寸，xml中设置为dp/dip, 字体为sp</li>
<li>integer 数值 1</li>
<li>enum 枚举类型</li>
<li>reference 引用，如@drawable/ic_launcher</li>
<li>float 浮点类型 如1.0</li>
<li>boolean 布尔类型 true或false</li>
<li>fraction 百分数 如100%</li>
<li>flag 位或运算</li>
</ul>
<p>在xml布局文件中，声明我们的自定义View，示例代码：</p>
<pre><code>&lt;com.infzm.o2o.view.CircleImageView
       xmlns:<span class="variable">app=</span><span class="string">"http://schemas.android.com/apk/res-auto"</span>
       android:<span class="variable">id=</span><span class="string">"@+id/iv_head_icon"</span>
       android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
       android:<span class="variable">layout_height=</span><span class="string">"59dp"</span>
       android:<span class="variable">layout_marginBottom=</span><span class="string">"15dp"</span>
       android:<span class="variable">layout_marginLeft=</span><span class="string">"15dp"</span>
       android:<span class="variable">src=</span><span class="string">"@drawable/ic_profile_user_default"</span>
       app:<span class="variable">border_color=</span><span class="string">"@color/white"</span>
       app:<span class="variable">border_width=</span><span class="string">"2dp"</span> &gt;
</code></pre><p>注意需要引入命名空间，xmlns:app=”<a href="http://schemas.android.com/apk/res-auto&quot;，不然无法使用我们的属性" target="_blank" rel="external">http://schemas.android.com/apk/res-auto&quot;，不然无法使用我们的属性</a></p>
<h2 id="在View的构造方法获取我们自定义的属性值">在View的构造方法获取我们自定义的属性值</h2><p>重写3个构造方法，示例代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">CircleImageView</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">super</span>(context);</span><br><span class="line"></span><br><span class="line">       init();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">CircleImageView</span><span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">this</span>(context, attrs, <span class="number">0</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">CircleImageView</span><span class="params">(Context context, AttributeSet attrs, <span class="keyword">int</span> defStyle)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">super</span>(context, attrs, defStyle);</span><br><span class="line"></span><br><span class="line">       TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.CircleImageView, defStyle, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 获取边界的宽度</span></span><br><span class="line">       mBorderWidth = a.getDimensionPixelSize(R.styleable.CircleImageView_border_width, DEFAULT_BORDER_WIDTH);</span><br><span class="line">       <span class="comment">// 获取边界的颜色</span></span><br><span class="line">       mBorderColor = a.getColor(R.styleable.CircleImageView_border_color, DEFAULT_BORDER_COLOR);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 回收TypedArray,以便后面重用</span></span><br><span class="line">       a.recycle();</span><br><span class="line"></span><br><span class="line">       init();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="重写onMesure()方法">重写onMesure()方法</h2><p>这个方法用来计算View的大小，如果需要计算View的大小，则需要重写此方法。<br>示例代码：</p>
<pre><code>@Override  
<span class="keyword">protected</span> <span class="keyword">void</span> onMeasure(<span class="built_in">int</span> widthMeasureSpec, <span class="built_in">int</span> heightMeasureSpec) {  
    <span class="built_in">int</span> widthMode = MeasureSpec.getMode(widthMeasureSpec);  
    <span class="built_in">int</span> heightMode = MeasureSpec.getMode(heightMeasureSpec);  
    <span class="built_in">int</span> widthSize = MeasureSpec.getSize(widthMeasureSpec);  
    <span class="built_in">int</span> heightSize = MeasureSpec.getSize(heightMeasureSpec);  

    <span class="built_in">int</span> <span class="variable">width</span>;  
    <span class="built_in">int</span> <span class="variable">height</span>;  

    ...   

    <span class="keyword">if</span> (widthMode == MeasureSpec.EXACTLY) {  
        <span class="comment">// Parent has told us how big to be. So be it.  </span>
        <span class="variable">width</span> = widthSize;  
    } <span class="keyword">else</span> {  
        <span class="keyword">if</span> (mLayout != <span class="keyword">null</span> &amp;&amp; mEllipsize == <span class="keyword">null</span>) {  
            des = desired(mLayout);  
        }  

    ...  

    setMeasuredDimension(<span class="variable">width</span>, <span class="variable">height</span>);   
    }
</code></pre><p>这里有几个点需要提一下是specMode，我们视图的规格模式，有三种类型：</p>
<ol>
<li>MeasureSpec.EXACTLY：父视图希望子视图的大小应该是specSize中指定的，一般是设置了明确的值或者说是MATCH_PARENT。</li>
<li>MeasureSpec.AT_MOST：子视图的大小最多是specSize中指定的值，不建议子视图大小超过specSize中给定的值，一般为WRAP_CONTENT。</li>
<li>MeasureSpec.UNSPECIFIED：可以随意指定视图的大小。</li>
</ol>
<p>最终我们会调用setMesuredDimension(width, height);来设置最终视图的大小，width和height就是我们计算得来的值。</p>
<h2 id="重写onDraw()方法">重写onDraw()方法</h2><p>我们通过这个方法来绘制我们的视图，示例代码：</p>
<pre><code>   <span class="annotation">@Override</span>
<span class="keyword">protected</span> <span class="typename">void</span> onDraw(Canvas canvas) {
    <span class="keyword">if</span> (getDrawable() == <span class="literal">null</span>) {
        <span class="keyword">return</span>;
    }

    canvas.drawCircle(getWidth() <span class="regexp">/ 2, getHeight() /</span> <span class="number">2</span>, mDrawableRadius, mBitmapPaint);
    <span class="keyword">if</span> (mBorderWidth != <span class="number">0</span>) {
        canvas.drawCircle(getWidth() <span class="regexp">/ 2, getHeight() /</span> <span class="number">2</span>, mBorderRadius, mBorderPaint);
    }
}
</code></pre><p>比如示例代码中，我们通过画布来绘制一个圆形。</p>
<p>最后附上开源控件，自定义圆形头像的解析：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.infzm.o2o.view;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.infzm.o2o.R;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.res.TypedArray;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Bitmap;</span><br><span class="line"><span class="keyword">import</span> android.graphics.BitmapShader;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Canvas;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Matrix;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Paint;</span><br><span class="line"><span class="keyword">import</span> android.graphics.RectF;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Shader;</span><br><span class="line"><span class="keyword">import</span> android.graphics.drawable.BitmapDrawable;</span><br><span class="line"><span class="keyword">import</span> android.graphics.drawable.ColorDrawable;</span><br><span class="line"><span class="keyword">import</span> android.graphics.drawable.Drawable;</span><br><span class="line"><span class="keyword">import</span> android.net.Uri;</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * 自定义圆形头像</span><br><span class="line"> *<span class="javadoctag"> @author</span> wwj_748</span><br><span class="line"> *</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleImageView</span> <span class="keyword">extends</span> <span class="title">ImageView</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="javadoc">/**</span><br><span class="line">	 * 缩放类型</span><br><span class="line">	 */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ScaleType SCALE_TYPE = ScaleType.CENTER_CROP;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * 位图配置</span><br><span class="line">     * ARGB_8888代表</span><br><span class="line">     * A:透明度:8</span><br><span class="line">     * R:红色:8</span><br><span class="line">     * G:绿:8</span><br><span class="line">     * B:蓝:8</span><br><span class="line">     * 表示图片每个像素点占8+8+8+8 = 32位</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Bitmap.Config BITMAP_CONFIG = Bitmap.Config.ARGB_8888;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> COLORDRAWABLE_DIMENSION = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_BORDER_WIDTH = <span class="number">0</span>; <span class="comment">// 默认边界宽度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_BORDER_COLOR = Color.BLACK; <span class="comment">// 默认边界颜色</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RectF mDrawableRect = <span class="keyword">new</span> RectF();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RectF mBorderRect = <span class="keyword">new</span> RectF();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Matrix mShaderMatrix = <span class="keyword">new</span> Matrix();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Paint mBitmapPaint = <span class="keyword">new</span> Paint();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Paint mBorderPaint = <span class="keyword">new</span> Paint();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mBorderColor = DEFAULT_BORDER_COLOR;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mBorderWidth = DEFAULT_BORDER_WIDTH;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Bitmap mBitmap;</span><br><span class="line">    <span class="keyword">private</span> BitmapShader mBitmapShader; <span class="comment">// 位图渲染</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mBitmapWidth; <span class="comment">// 位图宽度</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mBitmapHeight; <span class="comment">// 位图高度</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mDrawableRadius; <span class="comment">// 图片半径</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mBorderRadius;  <span class="comment">// 带边框的的图片半径</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> mReady;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> mSetupPending;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleImageView</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context);</span><br><span class="line"></span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleImageView</span><span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(context, attrs, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleImageView</span><span class="params">(Context context, AttributeSet attrs, <span class="keyword">int</span> defStyle)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs, defStyle);</span><br><span class="line"></span><br><span class="line">        TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.CircleImageView, defStyle, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取边界的宽度</span></span><br><span class="line">        mBorderWidth = a.getDimensionPixelSize(R.styleable.CircleImageView_border_width, DEFAULT_BORDER_WIDTH);</span><br><span class="line">        <span class="comment">// 获取边界的颜色</span></span><br><span class="line">        mBorderColor = a.getColor(R.styleable.CircleImageView_border_color, DEFAULT_BORDER_COLOR);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 回收TypedArray,以便后面重用</span></span><br><span class="line">        a.recycle();</span><br><span class="line"></span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.setScaleType(SCALE_TYPE);</span><br><span class="line">        mReady = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (mSetupPending) &#123;</span><br><span class="line">            setup();</span><br><span class="line">            mSetupPending = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ScaleType <span class="title">getScaleType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SCALE_TYPE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setScaleType</span><span class="params">(ScaleType scaleType)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (scaleType != SCALE_TYPE) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(String.format(<span class="string">"ScaleType %s not supported."</span>, scaleType));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDraw</span><span class="params">(Canvas canvas)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (getDrawable() == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 绘制圆形图片</span></span><br><span class="line">        canvas.drawCircle(getWidth() / <span class="number">2</span>, getHeight() / <span class="number">2</span>, mDrawableRadius, mBitmapPaint);</span><br><span class="line">        <span class="keyword">if</span> (mBorderWidth != <span class="number">0</span>) &#123; <span class="comment">// 如果边界不为0，怎绘制带边框的圆形图片</span></span><br><span class="line">            canvas.drawCircle(getWidth() / <span class="number">2</span>, getHeight() / <span class="number">2</span>, mBorderRadius, mBorderPaint);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onSizeChanged</span><span class="params">(<span class="keyword">int</span> w, <span class="keyword">int</span> h, <span class="keyword">int</span> oldw, <span class="keyword">int</span> oldh)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onSizeChanged(w, h, oldw, oldh);</span><br><span class="line">        setup();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBorderColor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mBorderColor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBorderColor</span><span class="params">(<span class="keyword">int</span> borderColor)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (borderColor == mBorderColor) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        mBorderColor = borderColor;</span><br><span class="line">        mBorderPaint.setColor(mBorderColor);</span><br><span class="line">        invalidate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBorderWidth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mBorderWidth;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBorderWidth</span><span class="params">(<span class="keyword">int</span> borderWidth)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (borderWidth == mBorderWidth) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        mBorderWidth = borderWidth;</span><br><span class="line">        setup();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageBitmap</span><span class="params">(Bitmap bm)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.setImageBitmap(bm);</span><br><span class="line">        mBitmap = bm;</span><br><span class="line">        setup();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageDrawable</span><span class="params">(Drawable drawable)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.setImageDrawable(drawable);</span><br><span class="line">        mBitmap = getBitmapFromDrawable(drawable);</span><br><span class="line">        setup();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageResource</span><span class="params">(<span class="keyword">int</span> resId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.setImageResource(resId);</span><br><span class="line">        mBitmap = getBitmapFromDrawable(getDrawable());</span><br><span class="line">        setup();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageURI</span><span class="params">(Uri uri)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.setImageURI(uri);</span><br><span class="line">        mBitmap = getBitmapFromDrawable(getDrawable());</span><br><span class="line">        setup();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Drawable转Bitmap</span><br><span class="line">     *<span class="javadoctag"> @param</span> drawable</span><br><span class="line">     *<span class="javadoctag"> @return</span></span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Bitmap <span class="title">getBitmapFromDrawable</span><span class="params">(Drawable drawable)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (drawable == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (drawable <span class="keyword">instanceof</span> BitmapDrawable) &#123;</span><br><span class="line">            <span class="keyword">return</span> ((BitmapDrawable) drawable).getBitmap();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Bitmap bitmap;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (drawable <span class="keyword">instanceof</span> ColorDrawable) &#123;</span><br><span class="line">                bitmap = Bitmap.createBitmap(COLORDRAWABLE_DIMENSION, COLORDRAWABLE_DIMENSION, BITMAP_CONFIG);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), BITMAP_CONFIG);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Canvas canvas = <span class="keyword">new</span> Canvas(bitmap);</span><br><span class="line">            drawable.setBounds(<span class="number">0</span>, <span class="number">0</span>, canvas.getWidth(), canvas.getHeight());</span><br><span class="line">            drawable.draw(canvas);</span><br><span class="line">            <span class="keyword">return</span> bitmap;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (OutOfMemoryError e) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!mReady) &#123;</span><br><span class="line">            mSetupPending = <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (mBitmap == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 构建渲染器</span></span><br><span class="line">        mBitmapShader = <span class="keyword">new</span> BitmapShader(mBitmap, Shader.TileMode.CLAMP, Shader.TileMode.CLAMP);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 设置反锯齿</span></span><br><span class="line">        mBitmapPaint.setAntiAlias(<span class="keyword">true</span>);</span><br><span class="line">        <span class="comment">// 设置画笔渲染器</span></span><br><span class="line">        mBitmapPaint.setShader(mBitmapShader);</span><br><span class="line">        <span class="comment">// 设置画笔样式</span></span><br><span class="line">        mBorderPaint.setStyle(Paint.Style.STROKE);</span><br><span class="line">        mBorderPaint.setAntiAlias(<span class="keyword">true</span>);</span><br><span class="line">        mBorderPaint.setColor(mBorderColor);</span><br><span class="line">        mBorderPaint.setStrokeWidth(mBorderWidth);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 得到位图宽高</span></span><br><span class="line">        mBitmapHeight = mBitmap.getHeight();</span><br><span class="line">        mBitmapWidth = mBitmap.getWidth();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 设置含边框显示区域</span></span><br><span class="line">        mBorderRect.set(<span class="number">0</span>, <span class="number">0</span>, getWidth(), getHeight());</span><br><span class="line">        <span class="comment">// 计算半径</span></span><br><span class="line">        mBorderRadius = Math.min((mBorderRect.height() - mBorderWidth) / <span class="number">2</span>, (mBorderRect.width() - mBorderWidth) / <span class="number">2</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 设置图片显示区域：即View的大小区域减去边界的大小</span></span><br><span class="line">        mDrawableRect.set(mBorderWidth, mBorderWidth, mBorderRect.width() - mBorderWidth, mBorderRect.height() - mBorderWidth);</span><br><span class="line">        <span class="comment">// 计算图片区域的半径</span></span><br><span class="line">        mDrawableRadius = Math.min(mDrawableRect.height() / <span class="number">2</span>, mDrawableRect.width() / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        updateShaderMatrix();</span><br><span class="line">        invalidate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateShaderMatrix</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">float</span> scale;</span><br><span class="line">        <span class="keyword">float</span> dx = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">float</span> dy = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        mShaderMatrix.set(<span class="keyword">null</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 如果位图的高度*显示图片区域的高度 大于 位图高度 * 图片区域宽度</span></span><br><span class="line">        <span class="keyword">if</span> (mBitmapWidth * mDrawableRect.height() &gt; mDrawableRect.width() * mBitmapHeight) &#123;</span><br><span class="line">        	<span class="comment">// 按高计算缩放比例</span></span><br><span class="line">            scale = mDrawableRect.height() / (<span class="keyword">float</span>) mBitmapHeight;</span><br><span class="line">            dx = (mDrawableRect.width() - mBitmapWidth * scale) * <span class="number">0.5f</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        	<span class="comment">// 按宽计算缩放比例</span></span><br><span class="line">            scale = mDrawableRect.width() / (<span class="keyword">float</span>) mBitmapWidth;</span><br><span class="line">            dy = (mDrawableRect.height() - mBitmapHeight * scale) * <span class="number">0.5f</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// shaeder的变换矩阵，我们这里主要用于放大或者缩小。</span></span><br><span class="line">        mShaderMatrix.setScale(scale, scale);</span><br><span class="line">        <span class="comment">// 平移</span></span><br><span class="line">        mShaderMatrix.postTranslate((<span class="keyword">int</span>) (dx + <span class="number">0.5f</span>) + mBorderWidth, (<span class="keyword">int</span>) (dy + <span class="number">0.5f</span>) + mBorderWidth);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置变换矩阵</span></span><br><span class="line">        mBitmapShader.setLocalMatrix(mShaderMatrix);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="Android自定义View总结">Android自定义View总结</h1><h2 id="步骤">步骤</h2><ol>
<li>自定义View的属性</li>
<li>在View的构造方法获取我们自定义的属性值</li>
<li>重写onMesure()方法]]>
    </summary>
    
      <category term="android" scheme="http://www.devilwwj.com/tags/android/"/>
    
      <category term="技术" scheme="http://www.devilwwj.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[搭建目前最in的hexo技术博客]]></title>
    <link href="http://www.devilwwj.com/2015/05/19/create-myself-hexo-blog/"/>
    <id>http://www.devilwwj.com/2015/05/19/create-myself-hexo-blog/</id>
    <published>2015-05-19T06:33:36.000Z</published>
    <updated>2015-06-02T17:20:49.000Z</updated>
    <content type="html"><![CDATA[<p>[toc]</p>
<h2 id="step_1_申请域名">step 1 申请域名</h2><p>小巫这里是在新网申请的域名<a href="http://www.xinnet.com/" target="_blank" rel="external">http://www.xinnet.com/</a>,你们也可以去其他网站去申请域名。<br><img src="http://www.devilwwj.com/images/Snip20150519_5.png" alt=""><br>我这里申请的时.com顶级域名，相对.cn .net要贵一些，为了省事，直接买了3年的域名使用期，各位自行选择即可。</p>
<h2 id="step2_配置DNS解析">step2 配置DNS解析</h2><p>来到我的账号-&gt;我的域名，可以对域名进行续费、管理密码修改、mydns解析设置、域名过户；这里我们选中域名之后，再点击mydns解析设置来对我们的dns,如下图：<br><img src="http://www.devilwwj.com/images/Snip20150519_8.png" alt=""></p>
<p>下面是我们对主机名（A记录）的添加，我们添加以下记录，IP对应的是github的IP</p>
<table>
<thead>
<tr>
<th style="text-align:center">A记录</th>
<th style="text-align:center">IP</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">devilwwj.com</td>
<td style="text-align:center">192.30.252.153</td>
</tr>
<tr>
<td style="text-align:center">devilwwj.com</td>
<td style="text-align:center">192.30.252.154</td>
</tr>
<tr>
<td style="text-align:center">www.devilwwj.com</td>
<td style="text-align:center">192.30.252.153</td>
</tr>
<tr>
<td style="text-align:center">www.devilwwj.com</td>
<td style="text-align:center">192.30.252.154</td>
</tr>
</tbody>
</table>
<p>如下图所示:<br><img src="/images/Snip20150519_9.png" alt=""></p>
<h2 id="step3_创建github仓库">step3 创建github仓库</h2><p>自行注册github账号，然后创建github仓库<br><img src="/images/Snip20150519_11.png" alt=""><br><img src="/images/Snip20150519_12.png" alt=""></p>
<h2 id="step4_下载Node-js">step4 下载Node.js</h2><p><img src="/images/Snip20150521_1.png" alt=""></p>
<h2 id="step5_安装npm">step5 安装npm</h2><p>安装最新版的Node.js之后，我们就可以使用npm命令</p>
<p>在mac下遇到npm命令找不到的问题，解决方案如下：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>node <span class="regexp">/usr/</span>bin/node</span><br><span class="line">sudo ln -s <span class="regexp">/usr/</span>local<span class="regexp">/lib/</span>node <span class="regexp">/usr/</span>lib/node</span><br><span class="line">sudo ln -s <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>npm <span class="regexp">/usr/</span>bin/npm</span><br><span class="line">sudo ln -s <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>node-waf <span class="regexp">/usr/</span>bin/node-waf</span><br></pre></td></tr></table></figure>
<h2 id="step7_安装hexo">step7 安装hexo</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm <span class="keyword">install</span> -g hexo</span><br></pre></td></tr></table></figure>
<h2 id="step8_创建hexo项目">step8 创建hexo项目</h2><p>通过命令行，在指定文件夹下创建项目：<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">sudo</span> hexo init</span><br></pre></td></tr></table></figure></p>
<p>到这里我们已经完成hexo的安装，具体效果如图所示：<br><img src="/images/Snip20150521_2.png" alt=""></p>
<h2 id="step9_本地测试hexo">step9 本地测试hexo</h2><p>在命令行中输入sudo hexo server或者它的缩写sudo hexo s：<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo devilwwj$ sudo hexo s</span><br><span class="line">INFO  Hexo is running <span class="keyword">at</span> <span class="keyword">http</span>://<span class="number">0.0</span>.0.0:<span class="number">4000</span>/. Press Ctrl+C <span class="built_in">to</span> <span class="built_in">stop</span>.</span><br></pre></td></tr></table></figure></p>
<p>然后我们可以在浏览器地址栏输入：localhost:4000，这样子我们可以本地测试我们搭建好的项目</p>
<h2 id="step10_部署到github">step10 部署到github</h2><p>在命令行中输入以下命令完成hexo的部署：<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">sudo</span> hexo generate</span><br><span class="line">sudo hexo deploy</span><br></pre></td></tr></table></figure></p>
<p>也可以直接这样：<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo <span class="keyword">d</span> -<span class="keyword">g</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/images/Snip20150521_4.png" alt=""><br><img src="/images/Snip20150521_5.png" alt=""></p>
<h2 id="step11_绑定域名">step11 绑定域名</h2><p>如何让外网可以访问我们的网站，我们需要在source目录下创建一个CNAME,也就是我们的别名,然后重新部署到github当中<br><img src="/images/Snip20150521_6.png" alt=""></p>
<h2 id="step12_更换皮肤">step12 更换皮肤</h2><p>如果你对默认的皮肤不满意，可以通过克隆的方式，把别人的主题克隆过来：<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone <span class="symbol">https:</span>/<span class="regexp">/github.com/ppoffice</span><span class="regexp">/hexo-theme-hueman.git themes/hueman</span></span><br></pre></td></tr></table></figure></p>
<p>然后再_config.yml,配置主题：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Extensions 扩展：插件和皮肤</span><br><span class="line">## <span class="string">Plugins:</span> <span class="string">http:</span><span class="comment">//hexo.io/plugins/</span></span><br><span class="line">## <span class="string">Themes:</span> <span class="string">http:</span><span class="comment">//hexo.io/themes/</span></span><br><span class="line"><span class="string">theme:</span> hueman</span><br></pre></td></tr></table></figure>
<p>最后奉上_config.yml的配置：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"># Hexo Configuration</span><br><span class="line">## <span class="string">Docs:</span> <span class="string">http:</span><span class="comment">//hexo.io/docs/configuration.html</span></span><br><span class="line">## <span class="string">Source:</span> <span class="string">https:</span><span class="comment">//github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"># Site 站点信息</span><br><span class="line"><span class="string">title:</span> IT_xiao小巫</span><br><span class="line"><span class="string">subtitle:</span> 在浮躁的世界安安静静敲代码</span><br><span class="line"><span class="string">description:</span> IT_xiao小巫的blog | Android | java | Mac</span><br><span class="line"><span class="string">author:</span> devilwwj</span><br><span class="line"><span class="string">language:</span> zh-CN</span><br><span class="line"><span class="string">email:</span> <span class="number">659982592</span><span class="annotation">@qq</span>.com</span><br><span class="line"><span class="string">timezone:</span></span><br><span class="line"></span><br><span class="line"># URL</span><br><span class="line">## If your site is put <span class="keyword">in</span> a subdirectory, set url <span class="keyword">as</span> <span class="string">'http://yoursite.com/child'</span> and root <span class="keyword">as</span> <span class="string">'/child/'</span></span><br><span class="line"><span class="string">url:</span> <span class="string">http:</span><span class="comment">//www.devilwwj.com #你的域名</span></span><br><span class="line"><span class="string">root:</span> /</span><br><span class="line"><span class="string">permalink:</span> :year<span class="regexp">/:month/</span>:day<span class="regexp">/:title/</span></span><br><span class="line"><span class="string">permalink_defaults:</span></span><br><span class="line"></span><br><span class="line"># Directory 文件目录</span><br><span class="line"><span class="string">source_dir:</span> source</span><br><span class="line"><span class="string">public_dir:</span> <span class="keyword">public</span></span><br><span class="line"><span class="string">tag_dir:</span> tags</span><br><span class="line"><span class="string">archive_dir:</span> archives</span><br><span class="line"><span class="string">category_dir:</span> categories</span><br><span class="line"><span class="string">code_dir:</span> downloads/code</span><br><span class="line"><span class="string">i18n_dir:</span> :lang</span><br><span class="line"><span class="string">skip_render:</span></span><br><span class="line"></span><br><span class="line"># Writing # 写文章选项</span><br><span class="line"><span class="string">new_post_name:</span> :title.md # File name of <span class="keyword">new</span> posts</span><br><span class="line"><span class="string">default_layout:</span> post</span><br><span class="line"><span class="string">titlecase:</span> <span class="literal">false</span> # Transform title into titlecase</span><br><span class="line"><span class="string">external_link:</span> <span class="literal">true</span> # Open external links <span class="keyword">in</span> <span class="keyword">new</span> tab</span><br><span class="line"><span class="string">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="string">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">post_asset_folder:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">relative_link:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">future:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">highlight:</span> # 代码高亮</span><br><span class="line"><span class="label">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="label">  line_number:</span> <span class="literal">true</span> # 是否显示行号</span><br><span class="line"><span class="label">  tab_replace:</span></span><br><span class="line"></span><br><span class="line"># Category &amp; Tag 目录和标签</span><br><span class="line"><span class="string">default_category:</span> uncategorized</span><br><span class="line"><span class="string">category_map:</span></span><br><span class="line"><span class="string">tag_map:</span></span><br><span class="line"></span><br><span class="line"># 归档设置</span><br><span class="line">## <span class="number">2</span>: Enable pagination</span><br><span class="line">## <span class="number">1</span>: Disable pagination</span><br><span class="line">## <span class="number">0</span>: Fully Disable</span><br><span class="line"><span class="string">archive:</span> <span class="number">2</span></span><br><span class="line"><span class="string">category:</span> <span class="number">2</span></span><br><span class="line"><span class="string">tag:</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line"># Date / Time format 时间和日期格式</span><br><span class="line">## Hexo uses Moment.js to parse and display date</span><br><span class="line">## You can customize the date format <span class="keyword">as</span> defined <span class="keyword">in</span></span><br><span class="line">## <span class="string">http:</span><span class="comment">//momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="string">date_format:</span> YYYY-MM-DD</span><br><span class="line"><span class="string">time_format:</span> <span class="string">HH:</span><span class="string">mm:</span>ss</span><br><span class="line"></span><br><span class="line"># Pagination 页面</span><br><span class="line">## Set per_page to <span class="number">0</span> to disable pagination</span><br><span class="line"><span class="string">per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="string">pagination_dir:</span> page</span><br><span class="line"></span><br><span class="line"># Extensions 扩展：插件和皮肤</span><br><span class="line">## <span class="string">Plugins:</span> <span class="string">http:</span><span class="comment">//hexo.io/plugins/</span></span><br><span class="line">## <span class="string">Themes:</span> <span class="string">http:</span><span class="comment">//hexo.io/themes/</span></span><br><span class="line"><span class="string">theme:</span> hueman</span><br><span class="line"></span><br><span class="line"># Disqus  disqus评论,  与多说类似, 国内一般使用多说</span><br><span class="line"><span class="string">disqus_shortname:</span> devilwwj</span><br><span class="line"><span class="label"></span><br><span class="line">plugins:</span> #插件，例如生成 RSS 和站点地图的</span><br><span class="line">- hexo-generator-feed</span><br><span class="line">- hexo-generator-sitemap</span><br><span class="line"></span><br><span class="line">#Feed Atom</span><br><span class="line"><span class="string">feed:</span></span><br><span class="line"><span class="label">	type:</span> atom</span><br><span class="line"><span class="label">	path:</span> atom.xml</span><br><span class="line"><span class="label">	limit:</span> <span class="number">20</span></span><br><span class="line">#sitemap</span><br><span class="line"><span class="string">sitemap:</span></span><br><span class="line"><span class="label">	path:</span> sitemap.xml</span><br><span class="line"></span><br><span class="line"># Markdown语法</span><br><span class="line">## <span class="string">https:</span><span class="comment">//github.com/chjj/marked</span></span><br><span class="line"><span class="string">markdown:</span></span><br><span class="line"><span class="label">  gfm:</span> <span class="literal">true</span></span><br><span class="line"><span class="label">  pedantic:</span> <span class="literal">false</span></span><br><span class="line"><span class="label">  sanitize:</span> <span class="literal">false</span></span><br><span class="line"><span class="label">  tables:</span> <span class="literal">true</span></span><br><span class="line"><span class="label">  breaks:</span> <span class="literal">true</span></span><br><span class="line"><span class="label">  smartLists:</span> <span class="literal">true</span></span><br><span class="line"><span class="label">  smartypants:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Deployment 部署配置</span><br><span class="line">## <span class="string">Docs:</span> <span class="string">http:</span><span class="comment">//hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="string">deploy:</span></span><br><span class="line"><span class="label">  type:</span> git</span><br><span class="line"><span class="label">  repository:</span> <span class="string">https:</span><span class="comment">//github.com/devilWwj/devilwwjHexo.git #你的github page 仓库</span></span><br><span class="line"><span class="label">  branch:</span> gh-pages</span><br></pre></td></tr></table></figure>
<p>如果大家对上面所述有不明白的地方，可以在下面留言，后续小巫不断对hexo进行优化，会把优化的方法总结成博文发表到本站，see you。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>[toc]</p>
<h2 id="step_1_申请域名">step 1 申请域名</h2><p>小巫这里是在新网申请的域名<a href="http://www.xinnet.com/" target="_blank" rel="external">http://www]]>
    </summary>
    
      <category term="hexo" scheme="http://www.devilwwj.com/tags/hexo/"/>
    
      <category term="个人" scheme="http://www.devilwwj.com/tags/%E4%B8%AA%E4%BA%BA/"/>
    
      <category term="日志" scheme="http://www.devilwwj.com/tags/%E6%97%A5%E5%BF%97/"/>
    
      <category term="日志" scheme="http://www.devilwwj.com/categories/%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
</feed>